try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===undefined&&delete n[r];return n},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},GetOptional:function(n){return n===undefined?{$:0}:{$:1,$0:n}},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var i,r;if(typeof t=="function"){i=n.prototype;n.prototype=new t;for(r in i)n.prototype[r]=i[r]}},Safe:function(n){return n===undefined?{}:n},SetOptional:function(n,t,i){i.$==0?delete n[t]:n[t]=i.$0},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");}}};Date.now||(Date.now=function(){return(new Date).getTime()});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2;$.Define($$,{Arrays:{contains:function(_3,_4){var _5,_6,_7;_5=true;_6=0;_7=_4.length;while(_5?_6<_7:false){a.Equals(_4[_6],_3)?_5=false:_6=_6+1;}return!_5;},mapFold:function(_8,_9,_){var ba,bb,bc,bd,be,bf;ba=b(_.length);bb=_9;for(bc=0;bc<=_.length-1;bc++){bd=(_8(bb))(c.get(_,bc));be=bd[1];bf=bd[0];c.set(ba,bc,bf);bb=be;}return[ba,bb];},mapFoldBack:function(bf,bg,bh){var bi,bj,bk,bl,bm,bn,bo,bp;bi=b(bg.length);bj=bh;bk=bg.length;for(bl=1;bl<=bk;bl++){bm=bk-bl;bn=(bf(c.get(bg,bm)))(bj);bo=bn[1];bp=bn[0];c.set(bi,bm,bp);bj=bo;}return[bi,bj];},sortInPlaceByDescending:function(bq,br){return br.sort(function(bs,bt){return-d.Compare(bq(bs),bq(bt));});},splitInto:function(bu,bv){var bw,bx,by,bz,bA,bB,bC,bD;bu<=0?d.FailWith("Count must be positive"):null;bw=c.length(bv);if(bw===0){bx=[];}else{by=d.Min(bu,bw);bz=b(by);bA=bw/by>>0;bB=0;for(bC=0;bC<=bw%by-1;bC++){c.set(bz,bC,c.sub(bv,bB,bA+1));bB=bB+bA+1;}for(bD=bw%by;bD<=by-1;bD++){c.set(bz,bD,c.sub(bv,bB,bA));bB=bB+bA;}bx=bz;}return bx;},tryFindBack:function(bE,bF){var bG,bH;bG={$:0};bH=bF.length-1;while(bH>0?bG.$==0:false){bE(c.get(bF,bH))?bG={$:1,$0:c.get(bF,bH)}:null;bH=bH-1;}return bG;},tryFindIndexBack:function(bI,bJ){var bK,bL;bK={$:0};bL=bJ.length-1;while(bL>0?bK.$==0:false){bI(c.get(bJ,bL))?bK={$:1,$0:bL}:null;bL=bL-1;}return bK;}},List:{map3:function(bM,bN,bO,bP){var bQ;bQ=c.map2(function(bR){return function(bS){return bR(bS);};},c.map2(bM,c.ofSeq(bN),c.ofSeq(bO)),c.ofSeq(bP));return e.ofArray(bQ);},skip:function(bT,bU){var bV,bW,bX,bY;bV=bU;for(bW=1;bW<=bT;bW++){if(bV.$==0){bX=d.FailWith("Input list too short.");}else{bY=bV.$1;bX=bV=bY;}}return bV;},skipWhile:function(bZ,b0){var b1;b1=b0;while(!(b1.$==0)?bZ(e.head(b1)):false){b1=e.tail(b1);}return b1;}},Seq:{chunkBySize:function(b2,b3){var b4;b2<=0?d.FailWith("Chunk size must be positive"):null;b4=function(){var b6,b7,b9;b6=f.Get(b3);b7=function(){return b6.Dispose();};b9=function(b_){var b$,ca,cb;if(b6.MoveNext()){ca=[b6.get_Current()];while(c.length(ca)<b2?b6.MoveNext():false){cb=ca.push(b6.get_Current());}b_.c=ca;b$=true;}else{b$=false;}return b$;};return g.New(null,null,b9,b7);};return h.Of(b4);},compareWith:function(cc,cd,ce){var cf,cg,ch,ci,cj,ck,cl;cf=f.Get(cd);try{ch=f.Get(ce);try{cj=0;ck=true;while(ck?cj===0:false){cl=[cf.MoveNext(),ch.MoveNext()];cl[0]?cl[1]?cj=(cc(cf.get_Current()))(ch.get_Current()):cj=1:cl[1]?cj=-1:ck=false;}ci=cj;}finally{ch.Dispose!=undefined?ch.Dispose():null;}cg=ci;}finally{cf.Dispose!=undefined?cf.Dispose():null;}return cg;},contains:function(cm,cn){var co,cp,cq;co=f.Get(cn);try{cq=false;while(!cq?co.MoveNext():false){cq=a.Equals(co.get_Current(),cm);}cp=cq;}finally{co.Dispose!=undefined?co.Dispose():null;}return cp;},countBy:function(cr,cs){var ct;ct=function(){var cv,cw,cx,cy,cz,cA,cB,cC,cE,cF;cv={};cw=f.Get(cs);try{cy=[];while(cw.MoveNext()){cz=cr(cw.get_Current());cA=a.Hash(cz);if(cv.hasOwnProperty(cA)){cB=void(cv[cA]=cv[cA]+1);}else{cy.push(cz);cB=void(cv[cA]=1);}}cC=function(cD){return[cD,cv[a.Hash(cD)]];};cE=cy.slice(0);cF=c.map(cC,cE);cx=cF;}finally{cw.Dispose!=undefined?cw.Dispose():null;}return cx;};return i.delay(ct);},distinct:function(cG){return j.distinctBy(function(cH){return cH;},cG);},distinctBy:function(cI,cJ){var cK;cK=function(){var cM,cN,cO,cW,cY;cM=f.Get(cJ);cN=b.prototype.constructor.apply(b,[]);cO=function(cP){var cQ,cR,cS,cT,cU,cV;cQ=cI(cP);cR=a.Hash(cQ);cS=cN[cR];if(a.Equals(cS,undefined)){cN[cR]=[cQ];cT=true;}else{if(k.contains(cQ,cS)){cU=false;}else{cV=cS.push(cQ);cU=true;}cT=cU;}return cT;};cW=function(){return cM.Dispose();};cY=function(cZ){var c0,c1,c2,c3;if(cM.MoveNext()){c1=cM.get_Current();c2=cO(c1);while(!c2?cM.MoveNext():false){c1=cM.get_Current();c2=cO(c1);}if(c2){cZ.c=c1;c3=true;}else{c3=false;}c0=c3;}else{c0=false;}return c0;};return g.New(null,null,cY,cW);};return h.Of(cK);},except:function(c4,c5){var c6;c6=function(){var c8,c9,c_,df,dg,dh,di,dj,dl;c8=f.Get(c5);c9=b.prototype.constructor.apply(b,[]);c_=function(c$){var da,db,dc,dd,de;da=a.Hash(c$);db=c9[da];if(a.Equals(db,undefined)){c9[da]=[c$];dc=true;}else{if(k.contains(c$,db)){dd=false;}else{de=db.push(c$);dd=true;}dc=dd;}return dc;};df=f.Get(c4);try{while(df.MoveNext()){dh=df.get_Current();di=c_(dh);}}finally{df.Dispose!=undefined?df.Dispose():null;}dj=function(){return c8.Dispose();};dl=function(dm){var dn,_do,dp,dq;if(c8.MoveNext()){_do=c8.get_Current();dp=c_(_do);while(!dp?c8.MoveNext():false){_do=c8.get_Current();dp=c_(_do);}if(dp){dm.c=_do;dq=true;}else{dq=false;}dn=dq;}else{dn=false;}return dn;};return g.New(null,null,dl,dj);};return h.Of(c6);},groupBy:function(dr,ds){return i.delay(function(){var du,dv,dw,dx,dy,dz,dA,dB;du={};dv={};dw=[];dx=f.Get(ds);try{while(dx.MoveNext()){dz=dx.get_Current();dA=dr(dz);dB=a.Hash(dA);!du.hasOwnProperty(dB)?dw.push(dA):null;dv[dB]=dA;du.hasOwnProperty(dB)?du[dB].push(dz):void(du[dB]=[dz]);}dy=c.map(function(dC){return[dC,du[a.Hash(dC)]];},dw);}finally{dx.Dispose!=undefined?dx.Dispose():null;}return dy;});},insufficient:function(){return d.FailWith("The input sequence has an insufficient number of elements.");},last:function(dD){var dE,dF,dG,dH;dE=f.Get(dD);try{dG=dE.MoveNext();if(!dG){dH=j.insufficient();}else{while(dE.MoveNext()){}dH=dE.get_Current();}dF=dH;}finally{dE.Dispose!=undefined?dE.Dispose():null;}return dF;},nonNegative:function(){return d.FailWith("The input must be non-negative.");},pairwise:function(dI){var dJ,dL;dJ=function(dK){return[c.get(dK,0),c.get(dK,1)];};dL=j.windowed(2,dI);return i.map(dJ,dL);},truncate:function(dM,dN){return i.delay(function(){return i.enumUsing(f.Get(dN),function(dP){var dQ;dQ=[0];return i.enumWhile(function(){return dP.MoveNext()?dQ[0]<dM:false;},i.delay(function(){l.incr(dQ);return[dP.get_Current()];}));});});},tryHead:function(dT){var dU,dV;dU=f.Get(dT);try{dV=dU.MoveNext()?{$:1,$0:dU.get_Current()}:{$:0};}finally{dU.Dispose!=undefined?dU.Dispose():null;}return dV;},tryItem:function(dW,dX){var dY,dZ,d0,d1,d2;if(dW<0){dY={$:0};}else{dZ=0;d0=f.Get(dX);try{d2=true;while(d2?dZ<=dW:false){d0.MoveNext()?dZ=dZ+1:d2=false;}d1=d2?{$:1,$0:d0.get_Current()}:{$:0};}finally{d0.Dispose!=undefined?d0.Dispose():null;}dY=d1;}return dY;},tryLast:function(d3){var d4,d5,d6;d4=f.Get(d3);try{if(d4.MoveNext()){while(d4.MoveNext()){}d6={$:1,$0:d4.get_Current()};}else{d6={$:0};}d5=d6;}finally{d4.Dispose!=undefined?d4.Dispose():null;}return d5;},unfold:function(d7,d8){var d9;d9=function(){var d$;d$=function(ea){var eb,ec,ed,ee;eb=d7(ea.s);if(eb.$==0){ec=false;}else{ed=eb.$0[0];ee=eb.$0[1];ea.c=ed;ea.s=ee;ec=true;}return ec;};return g.New(d8,null,d$,function(){});};return h.Of(d9);},windowed:function(eg,eh){eg<=0?d.FailWith("The input must be positive."):null;return i.delay(function(){return i.enumUsing(f.Get(eh),function(ej){var ek;ek=[];return i.append(i.enumWhile(function(){return ek.length<eg?ej.MoveNext():false;},i.delay(function(){ek.push(ej.get_Current());return i.empty();})),i.delay(function(){return ek.length===eg?i.append([ek.slice(0)],i.delay(function(){return i.enumWhile(function(){return ej.MoveNext();},i.delay(function(){ek.shift();ek.push(ej.get_Current());return[ek.slice(0)];}));})):i.empty();}));});});}},WebSharper:{AggregateException:$.Class({},{New:function(er){return $.New(this,m.New1("One or more errors occurred.",er));},New1:function(es){return $.New(this,n.New1(es));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,o.New1("Value does not fall within the expected range."));},New1:function(eu){return $.New(this,n.New1(eu));}}),Arrays:{average:function(ev){return p(c.sum(ev))/p(ev.length);},averageBy:function(ew,ex){return p(c.sumBy(ew,ex))/p(ex.length);},blit:function(ey,ez,eA,eB,eC){var eD;c.checkRange(ey,ez,eC);c.checkRange(eA,eB,eC);for(eD=0;eD<=eC-1;eD++){c.set(eA,eB+eD,c.get(ey,ez+eD));}return;},checkBounds:function(eE,eF){return(eF<0?true:eF>=eE.length)?d.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(eG,eH,eI){return(((eH<0?true:eI<0)?true:eH>=eG.length)?true:eI>=(eG.length?eG[0].length:0))?d.Raise(q.New()):null;},checkLength:function(eJ,eK){return eJ.length!==eK.length?d.FailWith("Arrays differ in length."):null;},checkRange:function(eL,eM,eN){return((eN<0?true:eM<0)?true:eL.length<eM+eN)?d.FailWith("Index was outside the bounds of the array."):null;},choose:function(eO,eP){var eQ,eR,eS,eT,eU;eQ=[];for(eR=0;eR<=eP.length-1;eR++){eS=eO(c.get(eP,eR));if(eS.$==0){eT=null;}else{eU=eS.$0;eT=eQ.push(eU);}}return eQ;},chunkBySize:function(eV,eW){var eX;eX=j.chunkBySize(eV,eW);return i.toArray(eX);},collect:function(eY,eZ){return b.prototype.concat.apply([],c.map(eY,eZ));},compareWith:function(e0,e1,e2){return j.compareWith(e0,e1,e2);},concat:function(e3){return b.prototype.concat.apply([],c.ofSeq(e3));},contains:function(e4,e5){return j.contains(e4,e5);},countBy:function(e6,e7){var e8;e8=j.countBy(e6,e7);return i.toArray(e8);},create:function(e9,e_){var e$,fa;e$=b(e9);for(fa=0;fa<=e9-1;fa++){c.set(e$,fa,e_);}return e$;},create2D:function(fb){var fc,fe,ff;fc=function(fd){return c.ofSeq(fd);};fe=i.map(fc,fb);ff=c.ofSeq(fe);ff.dims=2;return ff;},distinct:function(fg){var fh;fh=j.distinct(fg);return i.toArray(fh);},distinctBy:function(fi,fj){var fk;fk=j.distinctBy(fi,fj);return i.toArray(fk);},exactlyOne:function(fl){return c.length(fl)===1?c.get(fl,0):d.FailWith("The input does not have precisely one element.");},except:function(fm,fn){var fo;fo=j.except(fm,fn);return i.toArray(fo);},exists2:function(fp,fq,fr){c.checkLength(fq,fr);return i.exists2(fp,fq,fr);},fill:function(fs,ft,fu,fv){var fw;c.checkRange(fs,ft,fu);for(fw=ft;fw<=ft+fu-1;fw++){c.set(fs,fw,fv);}return;},filter:function(fx,fy){var fz,fA;fz=[];for(fA=0;fA<=fy.length-1;fA++){fx(c.get(fy,fA))?fz.push(c.get(fy,fA)):null;}return fz;},find:function(fB,fC){var fD,fE,fF;fD=c.tryFind(fB,fC);if(fD.$==0){fE=d.FailWith("KeyNotFoundException");}else{fF=fD.$0;fE=fF;}return fE;},findBack:function(fG,fH){var fI,fJ,fK;fI=k.tryFindBack(fG,fH);if(fI.$==0){fJ=d.FailWith("KeyNotFoundException");}else{fK=fI.$0;fJ=fK;}return fJ;},findINdex:function(fL,fM){var fN,fO,fP;fN=c.tryFindIndex(fL,fM);if(fN.$==0){fO=d.FailWith("KeyNotFoundException");}else{fP=fN.$0;fO=fP;}return fO;},findIndexBack:function(fQ,fR){var fS,fT,fU;fS=k.tryFindIndexBack(fQ,fR);if(fS.$==0){fT=d.FailWith("KeyNotFoundException");}else{fU=fS.$0;fT=fU;}return fT;},fold:function(fV,fW,fX){var fY,fZ;fY=fW;for(fZ=0;fZ<=fX.length-1;fZ++){fY=(fV(fY))(c.get(fX,fZ));}return fY;},fold2:function(f0,f1,f2,f3){var f4,f5;c.checkLength(f2,f3);f4=f1;for(f5=0;f5<=f2.length-1;f5++){f4=((f0(f4))(c.get(f2,f5)))(c.get(f3,f5));}return f4;},foldBack:function(f6,f7,f8){var f9,f_,f$;f9=f8;f_=f7.length;for(f$=1;f$<=f_;f$++){f9=(f6(c.get(f7,f_-f$)))(f9);}return f9;},foldBack2:function(ga,gb,gc,gd){var ge,gf,gg;c.checkLength(gb,gc);ge=gb.length;gf=gd;for(gg=1;gg<=ge;gg++){gf=((ga(c.get(gb,ge-gg)))(c.get(gc,ge-gg)))(gf);}return gf;},forall2:function(gh,gi,gj){c.checkLength(gi,gj);return i.forall2(gh,gi,gj);},get:function(gk,gl){c.checkBounds(gk,gl);return gk[gl];},get2D:function(gm,gn,go){c.checkBounds2D(gm,gn,go);return gm[gn][go];},groupBy:function(gp,gq){var gr,gv,gw;gr=function(gs){var gt,gu;gt=gs[0];gu=gs[1];return[gt,i.toArray(gu)];};gv=j.groupBy(gp,gq);gw=i.toArray(gv);return c.map(gr,gw);},head:function(gx){return e.head(e.ofArray(gx));},indexed:function(gy){return c.mapi(function(gz){return function(gA){return[gz,gA];};},gy);},init:function(gB,gC){var gD,gE;gB<0?d.FailWith("Negative size given."):null;gD=b(gB);for(gE=0;gE<=gB-1;gE++){c.set(gD,gE,gC(gE));}return gD;},iter:function(gF,gG){var gH;for(gH=0;gH<=gG.length-1;gH++){gF(c.get(gG,gH));}return;},iter2:function(gI,gJ,gK){var gL;c.checkLength(gJ,gK);for(gL=0;gL<=gJ.length-1;gL++){(gI(c.get(gJ,gL)))(c.get(gK,gL));}return;},iteri:function(gM,gN){var gO;for(gO=0;gO<=gN.length-1;gO++){(gM(gO))(c.get(gN,gO));}return;},iteri2:function(gP,gQ,gR){var gS;c.checkLength(gQ,gR);for(gS=0;gS<=gQ.length-1;gS++){((gP(gS))(c.get(gQ,gS)))(c.get(gR,gS));}return;},last:function(gT){return j.last(gT);},length:function(gU){var gV;gV=gU.dims;return gV===2?gU.length*gU.length:gU.length;},map:function(gW,gX){var gY,gZ;gY=b(gX.length);for(gZ=0;gZ<=gX.length-1;gZ++){c.set(gY,gZ,gW(c.get(gX,gZ)));}return gY;},map2:function(g0,g1,g2){var g3,g4;c.checkLength(g1,g2);g3=b(g2.length);for(g4=0;g4<=g2.length-1;g4++){c.set(g3,g4,(g0(c.get(g1,g4)))(c.get(g2,g4)));}return g3;},map3:function(g5,g6,g7,g8){var g9;g9=r.map3(g5,e.ofArray(g6),e.ofArray(g7),e.ofArray(g8));return c.ofSeq(g9);},mapi:function(g_,g$){var ha,hb;ha=b(g$.length);for(hb=0;hb<=g$.length-1;hb++){c.set(ha,hb,(g_(hb))(c.get(g$,hb)));}return ha;},mapi2:function(hc,hd,he){var hf,hg;c.checkLength(hd,he);hf=b(hd.length);for(hg=0;hg<=hd.length-1;hg++){c.set(hf,hg,((hc(hg))(c.get(hd,hg)))(c.get(he,hg)));}return hf;},max:function(hh){return c.reduce(function(hi){return function(hj){return d.Max(hi,hj);};},hh);},maxBy:function(hk,hl){return c.reduce(function(hm){return function(hn){return a.Compare(hk(hm),hk(hn))===1?hm:hn;};},hl);},min:function(ho){return c.reduce(function(hp){return function(hq){return d.Min(hp,hq);};},ho);},minBy:function(hr,hs){return c.reduce(function(ht){return function(hu){return a.Compare(hr(ht),hr(hu))===-1?ht:hu;};},hs);},nonEmpty:function(hv){return hv.length===0?d.FailWith("The input array was empty."):null;},ofSeq:function(hw){var hx,hy,hz;hx=[];hy=f.Get(hw);try{while(hy.MoveNext()){hx.push(hy.get_Current());}hz=hx;}finally{hy.Dispose!=undefined?hy.Dispose():null;}return hz;},pairwise:function(hA){var hB;hB=j.pairwise(hA);return i.toArray(hB);},partition:function(hC,hD){var hE,hF,hG;hE=[];hF=[];for(hG=0;hG<=hD.length-1;hG++){hC(c.get(hD,hG))?hE.push(c.get(hD,hG)):hF.push(c.get(hD,hG));}return[hE,hF];},permute:function(hH,hI){var hJ,hK;hJ=b(hI.length);for(hK=0;hK<=hI.length-1;hK++){c.set(hJ,hH(hK),c.get(hI,hK));}return hJ;},pick:function(hL,hM){var hN,hO,hP;hN=c.tryPick(hL,hM);if(hN.$==0){hO=d.FailWith("KeyNotFoundException");}else{hP=hN.$0;hO=hP;}return hO;},reduce:function(hQ,hR){var hS,hT;c.nonEmpty(hR);hS=c.get(hR,0);for(hT=1;hT<=hR.length-1;hT++){hS=(hQ(hS))(c.get(hR,hT));}return hS;},reduceBack:function(hU,hV){var hW,hX,hY;c.nonEmpty(hV);hW=hV.length;hX=c.get(hV,hW-1);for(hY=2;hY<=hW;hY++){hX=(hU(c.get(hV,hW-hY)))(hX);}return hX;},replicate:function(hZ,h0){return c.create(hZ,h0);},reverse:function(h1,h2,h3){var h4;h4=c.sub(h1,h2,h3).slice().reverse();return c.blit(h4,0,h1,h2,c.length(h4));},scan:function(h5,h6,h7){var h8,h9;h8=b(1+h7.length);c.set(h8,0,h6);for(h9=0;h9<=h7.length-1;h9++){c.set(h8,h9+1,(h5(c.get(h8,h9)))(c.get(h7,h9)));}return h8;},scanBack:function(h_,h$,ia){var ib,ic,id;ib=h$.length;ic=b(1+ib);c.set(ic,ib,ia);for(id=0;id<=ib-1;id++){c.set(ic,ib-id-1,(h_(c.get(h$,ib-id-1)))(c.get(ic,ib-id)));}return ic;},set:function(ie,_if,ig){c.checkBounds(ie,_if);ie[_if]=ig;return;},set2D:function(ih,ii,ij,ik){c.checkBounds2D(ih,ii,ij);ih[ii][ij]=ik;return;},setSub:function(il,im,_in,io){var ip;for(ip=0;ip<=_in-1;ip++){c.set(il,im+ip,c.get(io,ip));}return;},setSub2D:function(iq,ir,is,it,iu,iv){var iw,ix;for(iw=0;iw<=it-1;iw++){for(ix=0;ix<=iu-1;ix++){c.set2D(iq,ir+iw,is+ix,c.get2D(iv,iw,ix));}}return;},skip:function(iy,iz){return iy<0?j.nonNegative():iy>c.length(iz)?j.insufficient():iz.slice(iy);},skipWhile:function(iA,iB){var iC,iD;iC=c.length(iB);iD=0;while(iD<iC?iA(c.get(iB,iD)):false){iD=iD+1;}return iB.slice(iD);},sort:function(iE){return c.sortBy(function(iF){return iF;},iE);},sortBy:function(iG,iH){return iH.slice().sort(function(iI,iJ){return d.Compare(iG(iI),iG(iJ));});},sortByDescending:function(iK,iL){return iL.slice().sort(function(iM,iN){return-d.Compare(iK(iM),iK(iN));});},sortDescending:function(iO){return c.sortByDescending(function(iP){return iP;},iO);},sortInPlace:function(iQ){return c.sortInPlaceBy(function(iR){return iR;},iQ);},sortInPlaceBy:function(iS,iT){return iT.sort(function(iU,iV){return d.Compare(iS(iU),iS(iV));});},sortInPlaceWith:function(iW,iX){return iX.sort(function(iY,iZ){return(iW(iY))(iZ);});},sortWith:function(i0,i1){return i1.slice().sort(function(i2,i3){return(i0(i2))(i3);});},splitAt:function(i4,i5){return[c.take(i4,i5),c.skip(i4,i5)];},sub:function(i6,i7,i8){c.checkRange(i6,i7,i8);return i6.slice(i7,i7+i8);},sub2D:function(i9,i_,i$,ja,jb){var jc,jd,je,jf,jg;jc=ja<0?0:ja;jd=jb<0?0:jb;je=c.zeroCreate2D(jc,jd);for(jf=0;jf<=jc-1;jf++){for(jg=0;jg<=jd-1;jg++){c.set2D(je,jf,jg,c.get2D(i9,i_+jf,i$+jg));}}return je;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tail:function(jh){return c.skip(1,jh);},take:function(ji,jj){return ji<0?j.nonNegative():ji>c.length(jj)?j.insufficient():jj.slice(0,ji);},takeWhile:function(jk,jl){var jm,jn;jm=c.length(jl);jn=0;while(jn<jm?jk(c.get(jl,jn)):false){jn=jn+1;}return jl.slice(0,jn);},truncate:function(jo,jp){return jp.slice(jo);},tryFind:function(jq,jr){var js,jt;js={$:0};jt=0;while(jt<jr.length?js.$==0:false){jq(c.get(jr,jt))?js={$:1,$0:c.get(jr,jt)}:null;jt=jt+1;}return js;},tryFindIndex:function(ju,jv){var jw,jx;jw={$:0};jx=0;while(jx<jv.length?jw.$==0:false){ju(c.get(jv,jx))?jw={$:1,$0:jx}:null;jx=jx+1;}return jw;},tryHead:function(jy){return c.length(jy)===0?{$:0}:{$:1,$0:jy[0]};},tryItem:function(jz,jA){return(c.length(jA)<=jz?true:jz<0)?{$:0}:{$:1,$0:jA[jz]};},tryLast:function(jB){var jC;jC=c.length(jB);return jC===0?{$:0}:{$:1,$0:jB[jC-1]};},tryPick:function(jD,jE){var jF,jG,jH;jF={$:0};jG=0;while(jG<jE.length?jF.$==0:false){jH=jD(c.get(jE,jG));jH.$==1?jF=jH:null;jG=jG+1;}return jF;},unfold:function(jI,jJ){var jK;jK=j.unfold(jI,jJ);return i.toArray(jK);},unzip:function(jL){var jM,jN,jO,jP,jQ,jR;jM=[];jN=[];for(jO=0;jO<=jL.length-1;jO++){jP=c.get(jL,jO);jQ=jP[1];jR=jP[0];jM.push(jR);jN.push(jQ);}return[jM,jN];},unzip3:function(jS){var jT,jU,jV,jW,jX,jY,jZ,j0;jT=[];jU=[];jV=[];for(jW=0;jW<=jS.length-1;jW++){jX=c.get(jS,jW);jY=jX[2];jZ=jX[1];j0=jX[0];jT.push(j0);jU.push(jZ);jV.push(jY);}return[jT,jU,jV];},windowed:function(j1,j2){var j3;j3=j.windowed(j1,j2);return i.toArray(j3);},zeroCreate2D:function(j4,j5){var j6;j6=c.init(j4,function(){return b(j5);});j6.dims=2;return j6;},zip:function(j8,j9){var j_,j$;c.checkLength(j8,j9);j_=b(j8.length);for(j$=0;j$<=j8.length-1;j$++){c.set(j_,j$,[c.get(j8,j$),c.get(j9,j$)]);}return j_;},zip3:function(ka,kb,kc){var kd,ke;c.checkLength(ka,kb);c.checkLength(kb,kc);kd=b(ka.length);for(ke=0;ke<=ka.length-1;ke++){c.set(kd,ke,[c.get(ka,ke),c.get(kb,ke),c.get(kc,ke)]);}return kd;}},Arrays2D:{copy:function(kf){return s.init(kf.length,kf.length?kf[0].length:0,function(kg){return function(kh){return c.get2D(kf,kg,kh);};});},init:function(ki,kj,kk){var kl,km,kn;kl=c.zeroCreate2D(ki,kj);for(km=0;km<=ki-1;km++){for(kn=0;kn<=kj-1;kn++){c.set2D(kl,km,kn,(kk(km))(kn));}}return kl;},iter:function(ko,kp){var kq,kr,ks,kt;kq=kp.length;kr=kp.length?kp[0].length:0;for(ks=0;ks<=kq-1;ks++){for(kt=0;kt<=kr-1;kt++){ko(c.get2D(kp,ks,kt));}}return;},iteri:function(ku,kv){var kw,kx,ky,kz;kw=kv.length;kx=kv.length?kv[0].length:0;for(ky=0;ky<=kw-1;ky++){for(kz=0;kz<=kx-1;kz++){((ku(ky))(kz))(c.get2D(kv,ky,kz));}}return;},map:function(kA,kB){return s.init(kB.length,kB.length?kB[0].length:0,function(kC){return function(kD){return kA(c.get2D(kB,kC,kD));};});},mapi:function(kE,kF){return s.init(kF.length,kF.length?kF[0].length:0,function(kG){return function(kH){return((kE(kG))(kH))(c.get2D(kF,kG,kH));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return t.GetCT();},get_DefaultCancellationToken:function(){return(t.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var kI,kJ,kN,kO;if(!this.c){this.c=true;kJ=function(kK){var kL,kM;try{kK(null);kL={$:0};}catch(kM){kL={$:1,$0:kM};}return kL;};kN=this.r;kO=c.choose(kJ,kN);kI=c.length(kO)>0?d.Raise(m.New(kO)):null;}else{kI=null;}return kI;},Cancel1:function(kP){var kQ,kR,kS,kU;if(!kP){kQ=this.Cancel();}else{if(!this.c){this.c=true;kS=function(kT){return kT(null);};kU=this.r;kR=c.iter(kS,kU);}else{kR=null;}kQ=kR;}return kQ;},CancelAfter:function(kV){var kW,kX,kZ,k1=this;if(!this.c){kX=this.pending;u.iter(function(kY){return v(kY);},kX);kZ=w(function(){return k1.Cancel();},kV);kW=void(this.pending={$:1,$0:kZ});}else{kW=null;}return kW;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(k2,k3){return x.CreateLinkedTokenSource1([k2,k3]);},CreateLinkedTokenSource1:function(k4){var k5,k6;k5=x.New();k6=function(k7){var k8;k8=t.Register(k7,function(){return function(){return k5.Cancel();}();});return;};return c.iter(k6,k4);},New:function(){var k$;k$=$.New(this,{});k$.c=false;k$.pending={$:0};k$.r=[];return k$;}}),Char:$.Class({},{GetNumericValue:function(la){return(la>=48?la<=57:false)?p(la)-p(48):-1;},IsControl:function(lb){return(lb>=0?lb<=31:false)?true:lb>=128?lb<=159:false;},IsDigit:function(lc){return lc>=48?lc<=57:false;},IsLetter:function(ld){return(ld>=65?ld<=90:false)?true:ld>=97?ld<=122:false;},IsLetterOrDigit:function(le){return y.IsLetter(le)?true:y.IsDigit(le);},IsLower:function(lf){return lf>=97?lf<=122:false;},IsUpper:function(lg){return lg>=65?lg<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(lh){return lh.length===1?lh.charCodeAt(0):d.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(li){var lj;lj=function(lk){var ll,lm,ln,lo,lp,lq;ll=function(){return z.subscribeTo(li,function(ls){var lt;A.Force(lm).Dispose();A.Force(lo).Dispose();lt=function(){return lk.k.call(null,{$:0,$0:ls});};return t.scheduler().Fork(lt);});};lm=A.Create(ll);ln=function(){return t.Register(lk.ct,function(){var lx;A.Force(lm).Dispose();lx=function(){return lk.k.call(null,{$:2,$0:B.New()});};return t.scheduler().Fork(lx);});};lo=A.Create(ln);lp=A.Force(lm);lq=A.Force(lo);return null;};return t.checkCancel(lj);},Bind:function(lz,lA){var lB;lB=function(lC){return lz({k:function(lD){var lE,lF,lG,lK;if(lD.$==0){lF=lD.$0;lG=function(){var lI,lJ;try{lI=(lA(lF))(lC);}catch(lJ){lI=lC.k.call(null,{$:1,$0:lJ});}return lI;};lE=t.scheduler().Fork(lG);}else{lK=function(){return lC.k.call(null,lD);};lE=t.scheduler().Fork(lK);}return lE;},ct:lC.ct});};return t.checkCancel(lB);},Catch:function(lM){var lN;lN=function(lO){var lP,lU;try{lP=lM({k:function(lQ){var lR,lS,lT;if(lQ.$==0){lS=lQ.$0;lR=lO.k.call(null,{$:0,$0:{$:0,$0:lS}});}else{if(lQ.$==1){lT=lQ.$0;lR=lO.k.call(null,{$:0,$0:{$:1,$0:lT}});}else{lR=lO.k.call(null,lQ);}}return lR;},ct:lO.ct});}catch(lU){lP=lO.k.call(null,{$:0,$0:{$:1,$0:lU}});}return lP;};return t.checkCancel(lN);},Combine:function(lV,lW){return t.Bind(lV,function(){return lW;});},Delay:function(lY){var lZ;lZ=function(l0){var l1,l2;try{l1=(lY(null))(l0);}catch(l2){l1=l0.k.call(null,{$:1,$0:l2});}return l1;};return t.checkCancel(lZ);},For:function(l3,l4){return t.Using(f.Get(l3),function(l5){return t.While(function(){return l5.MoveNext();},t.Delay(function(){return l4(l5.get_Current());}));});},FromContinuations:function(l8){var l9;l9=function(l_){var l$,ma;l$=[false];ma=function(mb){var mc;if(l$[0]){mc=d.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{l$[0]=true;mc=t.scheduler().Fork(mb);}return mc;};return l8([function(md){return ma(function(){return l_.k.call(null,{$:0,$0:md});});},function(mf){return ma(function(){return l_.k.call(null,{$:1,$0:mf});});},function(mh){return ma(function(){return l_.k.call(null,{$:2,$0:mh});});}]);};return t.checkCancel(l9);},GetCT:$.Field(function(){var mj;mj=function(mk){return mk.k.call(null,{$:0,$0:mk.ct});};return t.checkCancel(mj);}),Ignore:function(ml){return t.Bind(ml,function(){return t.Return(null);});},OnCancel:function(mn){var mo;mo=function(mp){return mp.k.call(null,{$:0,$0:t.Register(mp.ct,mn)});};return t.checkCancel(mo);},Parallel:function(mq){var mr,ms,mt;mr=c.ofSeq(mq);if(c.length(mr)===0){ms=t.Return([]);}else{mt=function(mu){var mv,mw,mx,my;mv=mr.length;mw=[mv];mx=c.create(mv,undefined);my=function(mz){return function(mA){var mB,mC,mD,mE,mF,mG,mH,mI,mJ;mB=[mw[0],mA];if(mB[0]===0){mC=null;}else{if(mB[0]===1){if(mB[1].$==0){mE=mB[1].$0;c.set(mx,mz,mE);mw[0]=0;mD=mu.k.call(null,{$:0,$0:mx});}else{mB[0];mF=mB[1];mw[0]=0;mD=mu.k.call(null,mF);}mC=mD;}else{if(mB[1].$==0){mH=mB[1].$0;mI=mB[0];c.set(mx,mz,mH);mG=void(mw[0]=mI-1);}else{mB[0];mJ=mB[1];mw[0]=0;mG=mu.k.call(null,mJ);}mC=mG;}}return mC;};};return c.iteri(function(mK){return function(mL){var mM;mM=function(){return mL({k:my(mK),ct:mu.ct});};return t.scheduler().Fork(mM);};},mr);};ms=t.checkCancel(mt);}return ms;},Register:function(mO,mP){var mQ;mQ=mO.r.push(mP)-1;return{Dispose:function(){return c.set(mO.r,mQ,function(){});}};},Return:function(mT){var mU;mU=function(mV){return mV.k.call(null,{$:0,$0:mT});};return t.checkCancel(mU);},Scheduler:$.Class({Fork:function(mW){var mX,mY,m0=this;this.robin.push(mW);if(this.idle){this.idle=false;mY=w(function(){return m0.tick();},0);mX=void mY;}else{mX=null;}return mX;},tick:function(){var m1,m2,m3,m4,m5,m6,m8=this;m1=C.now();m2=true;while(m2){m3=this.robin.length;if(m3===0){this.idle=true;m4=m2=false;}else{(this.robin.shift())(null);if(C.now()-m1>40){m6=w(function(){return m8.tick();},0);m5=m2=false;}else{m5=null;}m4=m5;}}return;}},{New:function(){var m9;m9=$.New(this,{});m9.idle=true;m9.robin=[];return m9;}}),Sleep:function(m_){var m$;m$=function(na){var nb,nc,nd,ne,nf,ng;nb=function(){return w(function(){var nj;A.Force(ne).Dispose();nj=function(){return na.k.call(null,{$:0,$0:null});};return t.scheduler().Fork(nj);},m_);};nc=A.Create(nb);nd=function(){return t.Register(na.ct,function(){var nn;v(A.Force(nc));nn=function(){return na.k.call(null,{$:2,$0:B.New()});};return t.scheduler().Fork(nn);});};ne=A.Create(nd);nf=A.Force(nc);ng=A.Force(ne);return null;};return t.checkCancel(m$);},Start:function(np,nq){return t.StartWithContinuations(np,function(){},function(ns){var nt;nt=[ns];return D?D.log.apply(D,["WebSharper: Uncaught asynchronous exception"].concat(nt)):undefined;},function(){},nq);},StartChild:function(nv){var nw;nw=function(nx){var ny,nz,nA,nD,nI;ny=[{$:0}];nz=[];nA=function(){return nv({k:function(nC){ny[0]={$:1,$0:nC};while(nz.length>0){(nz.shift())(nC);}return;},ct:nx.ct});};t.scheduler().Fork(nA);nD=function(nE){var nF,nG,nH;nF=ny[0];if(nF.$==0){nG=nz.push(nE.k);}else{nH=nF.$0;nG=nE.k.call(null,nH);}return nG;};nI=t.checkCancel(nD);return nx.k.call(null,{$:0,$0:nI});};return t.checkCancel(nw);},StartWithContinuations:function(nJ,nK,nL,nM,nN){var nO,nP;nO=d.DefaultArg(nN,(t.defCTS())[0]);nP=function(){return nJ({k:function(nR){var nS,nT,nU,nV;if(nR.$==1){nT=nR.$0;nS=nL(nT);}else{if(nR.$==2){nU=nR.$0;nS=nM(nU);}else{nV=nR.$0;nS=nK(nV);}}return nS;},ct:nO});};return t.scheduler().Fork(nP);},TryCancelled:function(nW,nX){var nY;nY=function(nZ){return nW({k:function(n0){var n1,n2;if(n0.$==2){n2=n0.$0;nX(n2);n1=nZ.k.call(null,n0);}else{n1=nZ.k.call(null,n0);}return n1;},ct:nZ.ct});};return t.checkCancel(nY);},TryFinally:function(n3,n4){var n5;n5=function(n6){return n3({k:function(n7){var n8,n9;try{n4(null);n8=n6.k.call(null,n7);}catch(n9){n8=n6.k.call(null,{$:1,$0:n9});}return n8;},ct:n6.ct});};return t.checkCancel(n5);},TryWith:function(n_,n$){var oa;oa=function(ob){return n_({k:function(oc){var od,oe,of,og,oh;if(oc.$==0){oe=oc.$0;od=ob.k.call(null,{$:0,$0:oe});}else{if(oc.$==1){of=oc.$0;try{og=(n$(of))(ob);}catch(oh){og=ob.k.call(null,oc);}od=og;}else{od=ob.k.call(null,oc);}}return od;},ct:ob.ct});};return t.checkCancel(oa);},Using:function(oi,oj){return t.TryFinally(oj(oi),function(){return oi.Dispose();});},While:function(ol,om){return ol(null)?t.Bind(om,function(){return t.While(ol,om);}):t.Return(null);},checkCancel:function(oo){return function(op){return op.ct.c?op.k.call(null,{$:2,$0:B.New()}):oo(op);};},defCTS:$.Field(function(){return[x.New()];}),scheduler:$.Field(function(){return E.New();})},Control:{createEvent:function(oq,or,os){return{AddHandler:oq,RemoveHandler:or,Subscribe:function(ot){var ou;ou=os(function(){return function(ow){return ot.OnNext.call(null,ow);};});oq(ou);return{Dispose:function(){return or(ou);}};}};}},DateTimeHelpers:{AddMonths:function(oy,oz){var oA;oA=new C(oy);return(new C(oA.getFullYear(),oA.getMonth()+oz,oA.getDate(),oA.getHours(),oA.getMinutes(),oA.getSeconds(),oA.getMilliseconds())).getTime();},AddYears:function(oB,oC){var oD;oD=new C(oB);return(new C(oD.getFullYear()+oC,oD.getMonth(),oD.getDate(),oD.getHours(),oD.getMinutes(),oD.getSeconds(),oD.getMilliseconds())).getTime();},DatePortion:function(oE){var oF;oF=new C(oE);return(new C(oF.getFullYear(),oF.getMonth(),oF.getDate())).getTime();},LongDate:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});},LongTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});},Parse:function(oG){var oH;oH=C.parse(oG);return $$.isNaN(oH)?d.FailWith("Failed to parse date string."):oH;},ShortTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});},TimePortion:function(oI){var oJ;oJ=new C(oI);return(((24*0+oJ.getHours())*60+oJ.getMinutes())*60+oJ.getSeconds())*1000+oJ.getMilliseconds();}},Enumerable:{Of:function(oK){return{GetEnumerator:oK};}},Enumerator:{Get:function(oL){return oL instanceof $$.Array?g.New(0,null,function(oM){var oN,oO;oN=oM.s;if(oN<c.length(oL)){oM.c=c.get(oL,oN);oM.s=oN+1;oO=true;}else{oO=false;}return oO;},function(){}):a.Equals(typeof oL,"string")?g.New(0,null,function(oQ){var oR,oS;oR=oQ.s;if(oR<oL.length){oQ.c=oL.charCodeAt(oR);oQ.s=oR+1;oS=true;}else{oS=false;}return oS;},function(){}):oL.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(oU,oV,oW,oX){var oY;oY=$.New(this,{});oY.s=oU;oY.c=oV;oY.n=oW;oY.d=oX;return oY;}})},Exception:$.Class({},{New:function(){return $.New(this,n.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var oZ,o0;if(H.hasDocument()){o0=I.getElementById("websharper-data");oZ=o0?J(I).ready(function(){var o2,o3,o4,o_;o2=o0.getAttribute("content");o3=K.Activate(L.parse(o2));o4=function(o5){var o6,o7,o8,o9;o6=o5[0];o7=o5[1];o8=o7.get_Body();o9=I.getElementById(o6);return o8.ReplaceInDom(o9);};o_=N.GetFields(o3);return c.iter(o4,o_);}):null;}else{oZ=null;}return oZ;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(o$){return P.New(o$);},SingleNode:$.Class({ReplaceInDom:function(pa){var pb;pb=this.node.parentNode.replaceChild(this.node,pa);return;}},{New:function(pc){var pd;pd=$.New(this,{});pd.node=pc;return pd;}})}}},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,q.New1("Index was outside the bounds of the array."));},New1:function(pe){return $.New(this,n.New1(pe));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,Q.New1("Operation is not valid due to the current state of the object."));},New1:function(pf){return $.New(this,n.New1(pf));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(pg){var ph,pi,pj,pk,pl,pm;ph={};pi=f.Get(pg);try{while(pi.MoveNext()){pk=pi.get_Current();pl=pk[1];pm=pk[0];ph[pm]=pl;}}finally{pi.Dispose!=undefined?pi.Dispose():null;}return ph;}}},Json:{Activate:function(pn){var po,pp,pq;po=pn.$TYPES;for(pp=0;pp<=c.length(po)-1;pp++){c.set(po,pp,K.lookup(c.get(po,pp)));}pq=function(pr){var ps,pt,pu,pv,pw,px,py,pz;if(a.Equals(pr,null)){ps=pr;}else{pt=typeof pr;if(pt==="object"){if(pr instanceof $$.Array){pv=K.shallowMap(pq,pr);}else{pw=K.shallowMap(pq,pr.$V);px=pr.$T;if(a.Equals(typeof px,"undefined")){py=pw;}else{pz=new(c.get(po,px))();N.ForEach(pw,function(pA){pz[pA]=pw[pA];return false;});py=pz;}pv=py;}pu=pv;}else{pu=pr;}ps=pu;}return ps;};return pq(pn.$DATA);},lookup:function(pB){var pC,pD,pE,pF,pG,pH;pC=c.length(pB);pD=$$;pE=0;while(pE<pC){pF=c.get(pB,pE);pG=pD[pF];if(!a.Equals(typeof pG,undefined)){pD=pG;pH=pE=pE+1;}else{pH=d.FailWith("Invalid server reply. Failed to find type: "+pF);}}return pD;},shallowMap:function(pI,pJ){var pK,pL,pM,pN;if(pJ instanceof $$.Array){pK=c.map(pI,pJ);}else{pL=typeof pJ;if(pL==="object"){pN={};N.ForEach(pJ,function(pO){pN[pO]=pI(pJ[pO]);return false;});pM=pN;}else{pM=pJ;}pK=pM;}return pK;}},Lazy:{Create:function(pP){var pQ,pR;pQ={value:undefined,created:false,eval:pP};pR=function(){var pT;if(pQ.created){pT=pQ.value;}else{pQ.created=true;pQ.value=pP(null);pT=pQ.value;}return pT;};pQ.eval=pR;return pQ;},CreateFromValue:function(pU){return{value:pU,created:true,eval:function(){return pU;},eval:function(){return pU;}};},Force:function(pX){return pX.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return g.New(this,null,function(pY){var pZ,p0,p1,p2;pZ=pY.s;if(pZ.$==0){p0=false;}else{p1=pZ.$1;p2=pZ.$0;pY.c=p2;pY.s=p1;p0=true;}return p0;},function(){});},GetSlice:function(p4,p5){var p6,p7,p8,p9,p_,p$,qa,qb,qc,qd,qe,qf,qg;p6=[p4,p5];if(p6[0].$==1){if(p6[1].$==1){p9=p6[0].$0;p_=p6[1].$0;p$=p_-p9+1;qa=r.skip(p9,this);qb=i.take(p$,qa);p8=e.ofSeq(qb);}else{qc=p6[0].$0;p8=r.skip(qc,this);}p7=p8;}else{if(p6[1].$==1){qe=p6[1].$0;qf=qe+1;qg=i.take(qf,this);qd=e.ofSeq(qg);}else{qd=this;}p7=qd;}return p7;},get_Item:function(qh){return i.nth(qh,this);},get_Length:function(){return i.length(this);}},{Construct:function(qi,qj){return $.New(R,{$:1,$0:qi,$1:qj});},get_Nil:function(){return $.New(R,{$:0});}}),append:function(qk,ql){return e.ofSeq(i.append(qk,ql));},choose:function(qm,qn){return e.ofSeq(i.choose(qm,qn));},chunkBySize:function(qo,qp){var qq,qs,qt;qq=function(qr){return e.ofArray(qr);};qs=j.chunkBySize(qo,qp);qt=i.toList(qs);return e.map(qq,qt);},collect:function(qu,qv){return e.ofSeq(i.collect(qu,qv));},compareWith:function(qw,qx,qy){return j.compareWith(qw,qx,qy);},concat:function(qz){return e.ofSeq(i.concat(qz));},contains:function(qA,qB){return j.contains(qA,qB);},countBy:function(qC,qD){var qE;qE=j.countBy(qC,qD);return i.toList(qE);},distinct:function(qF){var qG;qG=j.distinct(qF);return i.toList(qG);},distinctBy:function(qH,qI){var qJ;qJ=j.distinctBy(qH,qI);return i.toList(qJ);},exactlyOne:function(qK){var qL,qM,qN;if(qK.$==1){if(qK.$1.$==0){qN=qK.$0;qM=qN;}else{qM=d.FailWith("The input does not have precisely one element.");}qL=qM;}else{qL=d.FailWith("The input does not have precisely one element.");}return qL;},except:function(qO,qP){var qQ;qQ=j.except(qO,qP);return i.toList(qQ);},exists2:function(qR,qS,qT){return c.exists2(qR,c.ofSeq(qS),c.ofSeq(qT));},filter:function(qU,qV){return e.ofSeq(i.filter(qU,qV));},findBack:function(qW,qX){var qY,qZ,q0;qY=e.tryFindBack(qW,qX);if(qY.$==0){qZ=d.FailWith("KeyNotFoundException");}else{q0=qY.$0;qZ=q0;}return qZ;},findIndexBack:function(q1,q2){var q3,q4,q5;q3=k.tryFindIndexBack(q1,c.ofSeq(q2));if(q3.$==0){q4=d.FailWith("KeyNotFoundException");}else{q5=q3.$0;q4=q5;}return q4;},fold2:function(q6,q7,q8,q9){return c.fold2(q6,q7,c.ofSeq(q8),c.ofSeq(q9));},foldBack:function(q_,q$,ra){return c.foldBack(q_,c.ofSeq(q$),ra);},foldBack2:function(rb,rc,rd,re){return c.foldBack2(rb,c.ofSeq(rc),c.ofSeq(rd),re);},forall2:function(rf,rg,rh){return c.forall2(rf,c.ofSeq(rg),c.ofSeq(rh));},groupBy:function(ri,rj){var rk,ro,rp;rk=function(rl){var rm,rn;rm=rl[0];rn=rl[1];return[rm,i.toList(rn)];};ro=j.groupBy(ri,rj);rp=i.toList(ro);return e.map(rk,rp);},head:function(rq){var rr,rs;if(rq.$==1){rs=rq.$0;rr=rs;}else{rr=d.FailWith("The input list was empty.");}return rr;},indexed:function(rt){return e.mapi(function(ru){return function(rv){return[ru,rv];};},rt);},init:function(rw,rx){return e.ofArray(c.init(rw,rx));},iter2:function(ry,rz,rA){return c.iter2(ry,c.ofSeq(rz),c.ofSeq(rA));},iteri2:function(rB,rC,rD){return c.iteri2(rB,c.ofSeq(rC),c.ofSeq(rD));},last:function(rE){return j.last(rE);},map:function(rF,rG){return e.ofSeq(i.map(rF,rG));},map2:function(rH,rI,rJ){return e.ofArray(c.map2(rH,c.ofSeq(rI),c.ofSeq(rJ)));},mapFold:function(rK,rL,rM){var rN,rO,rP;rN=k.mapFold(rK,rL,c.ofSeq(rM));rO=rN[0];rP=rN[1];return[e.ofArray(rO),rP];},mapFoldBack:function(rQ,rR,rS){var rT,rU,rV;rT=k.mapFoldBack(rQ,c.ofSeq(rR),rS);rU=rT[0];rV=rT[1];return[e.ofArray(rU),rV];},mapi:function(rW,rX){return e.ofSeq(i.mapi(rW,rX));},mapi2:function(rY,rZ,r0){return e.ofArray(c.mapi2(rY,c.ofSeq(rZ),c.ofSeq(r0)));},max:function(r1){return i.reduce(function(r2){return function(r3){return d.Max(r2,r3);};},r1);},maxBy:function(r4,r5){return i.reduce(function(r6){return function(r7){return a.Compare(r4(r6),r4(r7))===1?r6:r7;};},r5);},min:function(r8){return i.reduce(function(r9){return function(r_){return d.Min(r9,r_);};},r8);},minBy:function(r$,sa){return i.reduce(function(sb){return function(sc){return a.Compare(r$(sb),r$(sc))===-1?sb:sc;};},sa);},ofArray:function(sd){var se,sf;se=$.New(R,{$:0});for(sf=0;sf<=c.length(sd)-1;sf++){se=$.New(R,{$:1,$0:c.get(sd,c.length(sd)-sf-1),$1:se});}return se;},ofSeq:function(sg){var sh,si,sj,sk,sl;sh=$.New(R,{$:0});si=sh;sj=f.Get(sg);try{while(sj.MoveNext()){si.$=1;sl=$.New(R,{$:0});si.$0=sj.get_Current();si.$1=sl;si=sl;}si.$=0;sk=sh;}finally{sj.Dispose!=undefined?sj.Dispose():null;}return sk;},pairwise:function(sm){var sn;sn=j.pairwise(sm);return i.toList(sn);},partition:function(so,sp){var sq,sr,ss;sq=c.partition(so,c.ofSeq(sp));sr=sq[1];ss=sq[0];return[e.ofArray(ss),e.ofArray(sr)];},permute:function(st,su){return e.ofArray(c.permute(st,c.ofSeq(su)));},reduceBack:function(sv,sw){return c.reduceBack(sv,c.ofSeq(sw));},replicate:function(sx,sy){return e.ofArray(c.create(sx,sy));},rev:function(sz){var sA;sA=c.ofSeq(sz);sA.reverse();return e.ofArray(sA);},scan:function(sB,sC,sD){return e.ofSeq(i.scan(sB,sC,sD));},scanBack:function(sE,sF,sG){return e.ofArray(c.scanBack(sE,c.ofSeq(sF),sG));},singleton:function(sH){return e.ofArray([sH]);},sort:function(sI){var sJ;sJ=c.ofSeq(sI);c.sortInPlace(sJ);return e.ofArray(sJ);},sortBy:function(sK,sL){return e.sortWith(function(sM){return function(sN){return d.Compare(sK(sM),sK(sN));};},sL);},sortByDescending:function(sO,sP){return e.sortWith(function(sQ){return function(sR){return-d.Compare(sO(sQ),sO(sR));};},sP);},sortDescending:function(sS){var sT;sT=c.ofSeq(sS);k.sortInPlaceByDescending(function(sU){return sU;},sT);return e.ofArray(sT);},sortWith:function(sV,sW){var sX;sX=c.ofSeq(sW);c.sortInPlaceWith(sV,sX);return e.ofArray(sX);},splitAt:function(sY,sZ){return[e.ofSeq(i.take(sY,sZ)),r.skip(sY,sZ)];},splitInto:function(s0,s1){var s2,s4,s5;s2=function(s3){return e.ofArray(s3);};s4=k.splitInto(s0,c.ofSeq(s1));s5=e.ofArray(s4);return e.map(s2,s5);},tail:function(s6){var s7,s8;if(s6.$==1){s8=s6.$1;s7=s8;}else{s7=d.FailWith("The input list was empty.");}return s7;},tryFindBack:function(s9,s_){return k.tryFindBack(s9,c.ofSeq(s_));},tryHead:function(s$){var ta,tb;if(s$.$==0){ta={$:0};}else{tb=s$.$0;ta={$:1,$0:tb};}return ta;},tryItem:function(tc,td){return j.tryItem(tc,td);},tryLast:function(te){return j.tryLast(te);},unfold:function(tf,tg){var th;th=j.unfold(tf,tg);return i.toList(th);},unzip:function(ti){var tj,tk,tl,tm,tn,to,tp;tj=[];tk=[];tl=f.Get(ti);try{while(tl.MoveNext()){tn=tl.get_Current();to=tn[1];tp=tn[0];tj.push(tp);tk.push(to);}}finally{tl.Dispose!=undefined?tl.Dispose():null;}return[e.ofArray(tj.slice(0)),e.ofArray(tk.slice(0))];},unzip3:function(tq){var tr,ts,tt,tu,tv,tw,tx,ty,tz;tr=[];ts=[];tt=[];tu=f.Get(tq);try{while(tu.MoveNext()){tw=tu.get_Current();tx=tw[2];ty=tw[1];tz=tw[0];tr.push(tz);ts.push(ty);tt.push(tx);}}finally{tu.Dispose!=undefined?tu.Dispose():null;}return[e.ofArray(tr.slice(0)),e.ofArray(ts.slice(0)),e.ofArray(tt.slice(0))];},windowed:function(tA,tB){var tC,tE,tF;tC=function(tD){return e.ofArray(tD);};tE=j.windowed(tA,tB);tF=i.map(tC,tE);return i.toList(tF);},zip:function(tG,tH){return e.ofArray(c.zip(c.ofSeq(tG),c.ofSeq(tH)));},zip3:function(tI,tJ,tK){return e.ofArray(c.zip3(c.ofSeq(tI),c.ofSeq(tJ),c.ofSeq(tK)));}},MatchFailureException:$.Class({},{New:function(tL,tM,tN){return $.New(this,n.New1(tL+" at "+$$.String(tM)+":"+$$.String(tN)));}}),Nullable:{get:function(tO){return tO==null?d.FailWith("Nullable object must have a value."):tO;},getOrValue:function(tP,tQ){return tP==null?tQ:tP;}},OperationCanceledException:$.Class({},{New:function(){return $.New(this,B.New1("The operation was canceled."));},New1:function(tR){return $.New(this,n.New1(tR));}}),Operators:{Compare:function(tS,tT){return a.Compare(tS,tT);},DefaultArg:function(tU,tV){var tW,tX;if(tU.$==0){tW=tV;}else{tX=tU.$0;tW=tX;}return tW;},FailWith:function(tY){return d.Raise(n.New1(tY));},KeyValue:function(tZ){return[tZ.K,tZ.V];},Max:function(t0,t1){return a.Compare(t0,t1)===1?t0:t1;},Min:function(t2,t3){return a.Compare(t2,t3)===-1?t2:t3;},Pown:function(t4,t5){var t6;t6=function(t7){var t8,t9,t_;if(t7===1){t8=t4;}else{if(t7%2===0){t_=t6(t7/2>>0);t9=t_*t_;}else{t9=t4*t6(t7-1);}t8=t9;}return t8;};return t6(t5);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(t$){return t$===0?0:t$<0?-1:1;},Truncate:function(ua){return ua<0?T.ceil(ua):T.floor(ua);},Using:function(ub,uc){var ud;try{ud=uc(ub);}finally{ub.Dispose();}return ud;},range:function(ue,uf){var ug;ug=1+uf-ue;return ug<=0?i.empty():i.init(ug,function(uh){return uh+ue;});},step:function(ui,uj,uk){var ul,um,uo,uq;ul=d.Sign(uj);um=function(un){return ul*(uk-un)>=0;};uo=i.initInfinite(function(up){return ui+up*uj;});uq=i.takeWhile(um,uo);return uq;}},Option:{bind:function(ur,us){var ut,uu;if(us.$==0){ut={$:0};}else{uu=us.$0;ut=ur(uu);}return ut;},exists:function(uv,uw){var ux,uy;if(uw.$==0){ux=false;}else{uy=uw.$0;ux=uv(uy);}return ux;},filter:function(uz,uA){var uB,uC;if(uA.$==1){uC=uA.$0;uB=uz(uC)?{$:1,$0:uC}:{$:0};}else{uB={$:0};}return uB;},fold:function(uD,uE,uF){var uG,uH;if(uF.$==0){uG=uE;}else{uH=uF.$0;uG=(uD(uE))(uH);}return uG;},foldBack:function(uI,uJ,uK){var uL,uM;if(uJ.$==0){uL=uK;}else{uM=uJ.$0;uL=(uI(uM))(uK);}return uL;},forall:function(uN,uO){var uP,uQ;if(uO.$==0){uP=true;}else{uQ=uO.$0;uP=uN(uQ);}return uP;},iter:function(uR,uS){var uT,uU;if(uS.$==0){uT=null;}else{uU=uS.$0;uT=uR(uU);}return uT;},map:function(uV,uW){var uX,uY;if(uW.$==0){uX={$:0};}else{uY=uW.$0;uX={$:1,$0:uV(uY)};}return uX;},ofObj:function(uZ){return uZ==null?{$:0}:{$:1,$0:uZ};},toArray:function(u0){var u1,u2;if(u0.$==0){u1=[];}else{u2=u0.$0;u1=[u2];}return u1;},toList:function(u3){var u4,u5;if(u3.$==0){u4=$.New(R,{$:0});}else{u5=u3.$0;u4=e.ofArray([u5]);}return u4;},toObj:function(u6){var u7,u8;if(u6.$==0){}else{u8=u6.$0;u7=u8;}return u7;}},PrintfHelpers:{padNumLeft:function(u9,u_){var u$;u$=c.get(u9,0);return((u$===" "?true:u$==="+")?true:u$==="-")?u$+U.PadLeftWith(u9.substr(1),u_-1,48):U.PadLeftWith(u9,u_,48);},plusForPos:function(va,vb){return 0<=va?"+"+vb:vb;},prettyPrint:function(vc){var vd,vn,vo,vp,vq,vr,vt;vd=function(ve){var vf,vg,vh,vl,vm;vf=$$.String(ve);if(vf==="[object Object]"){vh=function(vi){var vj,vk;vj=vi[0];vk=vi[1];return vj+" = "+V.prettyPrint(vk);};vl=N.GetFields(ve);vm=c.map(vh,vl);vg="{"+U.concat("; ",vm)+"}";}else{vg=vf;}return vg;};vn=typeof vc;if(vn=="string"){vo="\""+vc+"\"";}else{if(vn=="object"){if(vc instanceof $$.Array){vr=function(vs){return V.prettyPrint(vs);};vt=c.map(vr,vc);vq="[|"+U.concat("; ",vt)+"|]";}else{vq=vd(vc);}vp=vq;}else{vp=$$.String(vc);}vo=vp;}return vo;},printArray:function(vu,vv){var vw;vw=c.map(vu,vv);return"[|"+U.concat("; ",vw)+"|]";},printArray2D:function(vx,vy){var vz;vz=i.delay(function(){var vB;vB=vy.length?vy[0].length:0;return i.map(function(vC){var vD;vD=i.delay(function(){return i.map(function(vF){return vx(c.get2D(vy,vC,vF));},d.range(0,vB-1));});return U.concat("; ",vD);},d.range(0,vy.length-1));});return"[["+U.concat("][",vz)+"]]";},printList:function(vG,vH){var vI;vI=i.map(vG,vH);return"["+U.concat("; ",vI)+"]";},spaceForPos:function(vJ,vK){return 0<=vJ?" "+vK:vK;},toSafe:function(vL){return vL==null?"":vL;}},Queue:{Clear:function(vM){return vM.splice(0,c.length(vM));},Contains:function(vN,vO){return i.exists(function(vP){return a.Equals(vO,vP);},vN);},CopyTo:function(vQ,vR,vS){return c.blit(vQ,0,vR,vS,c.length(vQ));}},Random:$.Class({Next:function(){return T.floor(T.random()*2147483648);},Next1:function(vT){return vT<0?d.FailWith("'maxValue' must be greater than zero."):T.floor(T.random()*vT);},Next2:function(vU,vV){var vW,vX;if(vU>vV){vW=d.FailWith("'minValue' cannot be greater than maxValue.");}else{vX=vV-vU;vW=vU+T.floor(T.random()*vX);}return vW;},NextBytes:function(vY){var vZ;for(vZ=0;vZ<=c.length(vY)-1;vZ++){c.set(vY,vZ,T.floor(T.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return X.New();}),AjaxRemotingProvider:$.Class({},{Async:function(v0,v1){var v2,v3;v2=W.makeHeaders(v0);v3=W.makePayload(v1);return t.Delay(function(){var v5;v5=Y.get_CancellationToken();return t.Bind(v5,function(v6){return t.FromContinuations(function(v7){var v8,v9,v_,v$,wa,we,wh,wk;v8=v7[0];v9=v7[1];v_=v7[2];v$=[true];wa=t.Register(v6,function(){return function(){var wd;if(v$[0]){v$[0]=false;wd=v_(B.New());}else{wd=null;}return wd;}();});we=function(wf){var wg;if(v$[0]){v$[0]=false;wa.Dispose();wg=v8(K.Activate(L.parse(wf)));}else{wg=null;}return wg;};wh=function(wi){var wj;if(v$[0]){v$[0]=false;wa.Dispose();wj=v9(wi);}else{wj=null;}return wj;};wk=W.EndPoint();return W.AjaxProvider().Async(wk,v2,v3,we,wh);});});});},Send:function(wl,wm){return t.Start(t.Ignore(Z.Async(wl,wm)),{$:0});},Sync:function(wn,wo){var wp,wq,wr,ws;wp=W.EndPoint();wq=W.makeHeaders(wn);wr=W.makePayload(wo);ws=W.AjaxProvider().Sync(wp,wq,wr);return K.Activate(L.parse(ws));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var wt,wu,wv,ww;try{if(!U.StartsWith(_0.location.href,"https://")){wv=U.Replace(_0.location.href,"http://","https://");W.EndPoint=function(){return wv;};wu=true;}else{wu=false;}wt=wu;}catch(ww){wt=false;}return wt;},XhrProvider:$.Class({Async:function(wx,wy,wz,wA,wB){return W.ajax(true,wx,wy,wz,wA,wB,function(){return W.ajax(true,wx,wy,wz,wA,wB,undefined);});},Sync:function(wD,wE,wF){var wG;wG=[undefined];W.ajax(false,wD,wE,wF,function(wH){wG[0]=wH;},function(wI){return d.Raise(wI);},function(){return W.ajax(false,wD,wE,wF,function(wK){wG[0]=wK;},function(wL){return d.Raise(wL);},undefined);});return wG[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err,$csrf){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();var csrf=$$.document.cookie.replace(new $$.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}if(csrf){xhr.setRequestHeader("x-csrftoken",csrf);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else if($csrf&&xhr.status==403&&xhr.responseText=="CSRF"){$csrf();}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(wM){var wN;wN={};wN["content-type"]="application/json";wN["x-websharper-rpc"]=wM;return wN;},makePayload:function(wO){return L.stringify(wO);}},Seq:{append:function(wP,wQ){return h.Of(function(){var wS,wT;wS=f.Get(wP);wT=[true];return g.New(wS,null,function(wU){var wV,wW,wX,wY;if(wU.s.MoveNext()){wU.c=wU.s.get_Current();wV=true;}else{wW=wU.s;!a.Equals(wW,null)?wW.Dispose():null;wU.s=null;if(wT[0]){wT[0]=false;wU.s=f.Get(wQ);if(wU.s.MoveNext()){wU.c=wU.s.get_Current();wY=true;}else{wU.s.Dispose();wU.s=null;wY=false;}wX=wY;}else{wX=false;}wV=wX;}return wV;},function(wZ){var w0;w0=wZ.s;return!a.Equals(w0,null)?w0.Dispose():null;});});},average:function(w1){var w2,w7,w8;w2=i.fold(function(w3){var w4,w5;w4=w3[0];w5=w3[1];return function(w6){return[w4+1,w5+w6];};},[0,0],w1);w7=w2[1];w8=w2[0];return w7/w8;},averageBy:function(w9,w_){var w$,xe,xf;w$=i.fold(function(xa){var xb,xc;xb=xa[0];xc=xa[1];return function(xd){return[xb+1,xc+w9(xd)];};},[0,0],w_);xe=w$[1];xf=w$[0];return xe/xf;},cache:function(xg){var xh,xi,xj;xh=[];xi=[f.Get(xg)];xj=function(){var xl;xl=function(xm){var xn,xo,xp,xq;if(xm.s+1<xh.length){xm.s=xm.s+1;xm.c=xh[xm.s];xn=true;}else{xo=xi[0];if(a.Equals(xo,null)){xp=false;}else{if(xo.MoveNext()){xm.s=xm.s+1;xm.c=xo.get_Current();xh.push(xm.get_Current());xq=true;}else{xo.Dispose();xi[0]=null;xq=false;}xp=xq;}xn=xp;}return xn;};return g.New(0,null,xl,function(){});};return h.Of(xj);},choose:function(xs,xt){var xu;xu=function(xv){var xw,xx,xy;xw=xs(xv);if(xw.$==0){xx=$.New(R,{$:0});}else{xy=xw.$0;xx=e.ofArray([xy]);}return xx;};return i.collect(xu,xt);},collect:function(xz,xA){return i.concat(i.map(xz,xA));},concat:function(xB){return h.Of(function(){var xD,xE;xD=f.Get(xB);xE=function(xF){var xG,xH,xI,xJ;xG=xF.s;if(a.Equals(xG,null)){if(xD.MoveNext()){xF.s=f.Get(xD.get_Current());xI=xE(xF);}else{xD.Dispose();xI=false;}xH=xI;}else{if(xG.MoveNext()){xF.c=xG.get_Current();xJ=true;}else{xF.Dispose();xF.s=null;xJ=xE(xF);}xH=xJ;}return xH;};return g.New(null,null,xE,function(xK){var xL;xL=xK.s;!a.Equals(xL,null)?xL.Dispose():null;return!a.Equals(xD,null)?xD.Dispose():null;});});},delay:function(xM){return h.Of(function(){return f.Get(xM(null));});},empty:function(){return[];},enumFinally:function(xO,xP){var xQ;xQ=function(){var xS,xT,xU,xV,xX;try{xT=f.Get(xO);}catch(xU){xP(null);xT=d.Raise(xU);}xS=xT;xV=function(){xS.Dispose();return xP(null);};xX=function(xY){var xZ;if(xS.MoveNext()){xY.c=xS.get_Current();xZ=true;}else{xZ=false;}return xZ;};return g.New(null,null,xX,xV);};return h.Of(xQ);},enumUsing:function(x0,x1){var x2;x2=function(){var x4,x5,x6,x7,x9;try{x5=f.Get(x1(x0));}catch(x6){x0.Dispose();x5=d.Raise(x6);}x4=x5;x7=function(){x4.Dispose();return x0.Dispose();};x9=function(x_){var x$;if(x4.MoveNext()){x_.c=x4.get_Current();x$=true;}else{x$=false;}return x$;};return g.New(null,null,x9,x7);};return h.Of(x2);},enumWhile:function(ya,yb){return h.Of(function(){var yd;yd=function(ye){var yf,yg,yh,yi;yf=ye.s;if(a.Equals(yf,null)){if(ya(null)){ye.s=f.Get(yb);yh=yd(ye);}else{yh=false;}yg=yh;}else{if(yf.MoveNext()){ye.c=yf.get_Current();yi=true;}else{yf.Dispose();ye.s=null;yi=yd(ye);}yg=yi;}return yg;};return g.New(null,null,yd,function(yj){var yk;yk=yj.s;return!a.Equals(yk,null)?yk.Dispose():null;});});},exists:function(yl,ym){var yn,yo,yp;yn=f.Get(ym);try{yp=false;while(!yp?yn.MoveNext():false){yp=yl(yn.get_Current());}yo=yp;}finally{yn.Dispose!=undefined?yn.Dispose():null;}return yo;},exists2:function(yq,yr,ys){var yt,yu,yv,yw,yx;yt=f.Get(yr);try{yv=f.Get(ys);try{yx=false;while((!yx?yt.MoveNext():false)?yv.MoveNext():false){yx=(yq(yt.get_Current()))(yv.get_Current());}yw=yx;}finally{yv.Dispose!=undefined?yv.Dispose():null;}yu=yw;}finally{yt.Dispose!=undefined?yt.Dispose():null;}return yu;},filter:function(yy,yz){var yA;yA=function(){var yC,yD,yF;yC=f.Get(yz);yD=function(){return yC.Dispose();};yF=function(yG){var yH,yI,yJ,yK;yH=yC.MoveNext();yI=yC.get_Current();yJ=false;while(yH){if(yy(yI)){yG.c=yI;yJ=true;yK=yH=false;}else{yK=yC.MoveNext()?yI=yC.get_Current():yH=false;}}return yJ;};return g.New(null,null,yF,yD);};return h.Of(yA);},find:function(yL,yM){var yN,yO,yP;yN=i.tryFind(yL,yM);if(yN.$==0){yO=d.FailWith("KeyNotFoundException");}else{yP=yN.$0;yO=yP;}return yO;},findBack:function(yQ,yR){var yS,yT,yU;yS=k.tryFindBack(yQ,c.ofSeq(yR));if(yS.$==0){yT=d.FailWith("KeyNotFoundException");}else{yU=yS.$0;yT=yU;}return yT;},findIndex:function(yV,yW){var yX,yY,yZ;yX=i.tryFindIndex(yV,yW);if(yX.$==0){yY=d.FailWith("KeyNotFoundException");}else{yZ=yX.$0;yY=yZ;}return yY;},findIndexBack:function(y0,y1){var y2,y3,y4;y2=k.tryFindIndexBack(y0,c.ofSeq(y1));if(y2.$==0){y3=d.FailWith("KeyNotFoundException");}else{y4=y2.$0;y3=y4;}return y3;},fold:function(y5,y6,y7){var y8,y9,y_;y8=y6;y9=f.Get(y7);try{while(y9.MoveNext()){y8=(y5(y8))(y9.get_Current());}y_=y8;}finally{y9.Dispose!=undefined?y9.Dispose():null;}return y_;},fold2:function(y$,za,zb,zc){return c.fold2(y$,za,c.ofSeq(zb),c.ofSeq(zc));},foldBack:function(zd,ze,zf){return c.foldBack(zd,c.ofSeq(ze),zf);},foldBack2:function(zg,zh,zi,zj){return c.foldBack2(zg,c.ofSeq(zh),c.ofSeq(zi),zj);},forall:function(zk,zl){return!i.exists(function(zm){return!zk(zm);},zl);},forall2:function(zn,zo,zp){return!i.exists2(function(zq){return function(zr){return!(zn(zq))(zr);};},zo,zp);},head:function(zs){var zt,zu;zt=f.Get(zs);try{zu=zt.MoveNext()?zt.get_Current():j.insufficient();}finally{zt.Dispose!=undefined?zt.Dispose():null;}return zu;},indexed:function(zv){return i.mapi(function(zw){return function(zx){return[zw,zx];};},zv);},init:function(zy,zz){return i.take(zy,i.initInfinite(zz));},initInfinite:function(zA){var zB;zB=function(){var zD;zD=function(zE){zE.c=zA(zE.s);zE.s=zE.s+1;return true;};return g.New(0,null,zD,function(){});};return h.Of(zB);},isEmpty:function(zG){var zH,zI;zH=f.Get(zG);try{zI=!zH.MoveNext();}finally{zH.Dispose!=undefined?zH.Dispose():null;}return zI;},iter:function(zJ,zK){return i.iteri(function(){return function(zM){return zJ(zM);};},zK);},iter2:function(zN,zO,zP){var zQ,zR,zS,zT;zQ=f.Get(zO);try{zS=f.Get(zP);try{while(zQ.MoveNext()?zS.MoveNext():false){(zN(zQ.get_Current()))(zS.get_Current());}}finally{zS.Dispose!=undefined?zS.Dispose():null;}zR=zT;}finally{zQ.Dispose!=undefined?zQ.Dispose():null;}return zR;},iteri:function(zU,zV){var zW,zX,zY;zW=0;zX=f.Get(zV);try{while(zX.MoveNext()){(zU(zW))(zX.get_Current());zW=zW+1;}}finally{zX.Dispose!=undefined?zX.Dispose():null;}return zY;},iteri2:function(zZ,z0,z1){return c.iteri2(zZ,c.ofSeq(z0),c.ofSeq(z1));},length:function(z2){var z3,z4,z5;z3=0;z4=f.Get(z2);try{while(z4.MoveNext()){z3=z3+1;}z5=z3;}finally{z4.Dispose!=undefined?z4.Dispose():null;}return z5;},map:function(z6,z7){var z8;z8=function(){var z_,z$,Ab;z_=f.Get(z7);z$=function(){return z_.Dispose();};Ab=function(Ac){var Ad;if(z_.MoveNext()){Ac.c=z6(z_.get_Current());Ad=true;}else{Ad=false;}return Ad;};return g.New(null,null,Ab,z$);};return h.Of(z8);},map2:function(Ae,Af,Ag){var Ah;Ah=function(){var Aj,Ak,Al,An;Aj=f.Get(Af);Ak=f.Get(Ag);Al=function(){Aj.Dispose();return Ak.Dispose();};An=function(Ao){var Ap;if(Aj.MoveNext()?Ak.MoveNext():false){Ao.c=(Ae(Aj.get_Current()))(Ak.get_Current());Ap=true;}else{Ap=false;}return Ap;};return g.New(null,null,An,Al);};return h.Of(Ah);},map3:function(Aq,Ar,As,At){var Au;Au=function(){var Aw,Ax,Ay,Az,AB;Aw=f.Get(Ar);Ax=f.Get(As);Ay=f.Get(At);Az=function(){Aw.Dispose();Ax.Dispose();return Ay.Dispose();};AB=function(AC){var AD;if((Aw.MoveNext()?Ax.MoveNext():false)?Ay.MoveNext():false){AC.c=((Aq(Aw.get_Current()))(Ax.get_Current()))(Ay.get_Current());AD=true;}else{AD=false;}return AD;};return g.New(null,null,AB,Az);};return h.Of(Au);},mapFold:function(AE,AF,AG){var AH,AI,AJ;AH=k.mapFold(AE,AF,i.toArray(AG));AI=AH[0];AJ=AH[1];return[AI,AJ];},mapFoldBack:function(AK,AL,AM){var AN,AO,AP;AN=k.mapFoldBack(AK,i.toArray(AL),AM);AO=AN[0];AP=AN[1];return[AO,AP];},mapi:function(AQ,AR){return i.map2(AQ,i.initInfinite(function(AS){return AS;}),AR);},mapi2:function(AT,AU,AV){return i.map3(AT,i.initInfinite(function(AW){return AW;}),AU,AV);},max:function(AX){return i.reduce(function(AY){return function(AZ){return a.Compare(AY,AZ)>=0?AY:AZ;};},AX);},maxBy:function(A0,A1){return i.reduce(function(A2){return function(A3){return a.Compare(A0(A2),A0(A3))>=0?A2:A3;};},A1);},min:function(A4){return i.reduce(function(A5){return function(A6){return a.Compare(A5,A6)<=0?A5:A6;};},A4);},minBy:function(A7,A8){return i.reduce(function(A9){return function(A_){return a.Compare(A7(A9),A7(A_))<=0?A9:A_;};},A8);},nth:function(A$,Ba){var Bb,Bc,Bd;A$<0?d.FailWith("negative index requested"):null;Bb=-1;Bc=f.Get(Ba);try{while(Bb<A$){!Bc.MoveNext()?j.insufficient():null;Bb=Bb+1;}Bd=Bc.get_Current();}finally{Bc.Dispose!=undefined?Bc.Dispose():null;}return Bd;},permute:function(Be,Bf){return i.delay(function(){return c.permute(Be,c.ofSeq(Bf));});},pick:function(Bh,Bi){var Bj,Bk,Bl;Bj=i.tryPick(Bh,Bi);if(Bj.$==0){Bk=d.FailWith("KeyNotFoundException");}else{Bl=Bj.$0;Bk=Bl;}return Bk;},readOnly:function(Bm){return h.Of(function(){return f.Get(Bm);});},reduce:function(Bo,Bp){var Bq,Br,Bs;Bq=f.Get(Bp);try{!Bq.MoveNext()?d.FailWith("The input sequence was empty"):null;Bs=Bq.get_Current();while(Bq.MoveNext()){Bs=(Bo(Bs))(Bq.get_Current());}Br=Bs;}finally{Bq.Dispose!=undefined?Bq.Dispose():null;}return Br;},reduceBack:function(Bt,Bu){return c.reduceBack(Bt,c.ofSeq(Bu));},replicate:function(Bv,Bw){Bv<0?j.nonNegative():null;return i.delay(function(){return i.map(function(){return Bw;},d.range(0,Bv-1));});},rev:function(Bz){return i.delay(function(){var BB;BB=i.toArray(Bz).slice().reverse();return BB;});},scan:function(BC,BD,BE){var BF;BF=function(){var BH,BI,BK;BH=f.Get(BE);BI=function(){return BH.Dispose();};BK=function(BL){var BM,BN;if(BL.s){if(BH.MoveNext()){BL.c=(BC(BL.get_Current()))(BH.get_Current());BN=true;}else{BN=false;}BM=BN;}else{BL.c=BD;BL.s=true;BM=true;}return BM;};return g.New(false,null,BK,BI);};return h.Of(BF);},scanBack:function(BO,BP,BQ){return i.delay(function(){return c.scanBack(BO,c.ofSeq(BP),BQ);});},skip:function(BS,BT){return h.Of(function(){var BV;BV=f.Get(BT);return g.New(true,null,function(BW){var BX,BY,BZ;if(BW.s){for(BY=1;BY<=BS;BY++){!BV.MoveNext()?j.insufficient():null;}BX=void(BW.s=false);}else{BX=null;}if(BV.MoveNext()){BW.c=BV.get_Current();BZ=true;}else{BZ=false;}return BZ;},function(){return BV.Dispose();});});},skipWhile:function(B1,B2){return h.Of(function(){var B4;B4=f.Get(B2);return g.New(true,null,function(B5){var B6,B7,B8,B9,B_,B$;if(B5.s){B7=true;B8=false;while(B7){if(B4.MoveNext()){B9=!B1(B4.get_Current())?B7=false:null;}else{B7=false;B9=B8=true;}}B5.s=false;if(B8){B_=false;}else{B5.c=B4.get_Current();B_=true;}B6=B_;}else{if(B4.MoveNext()){B5.c=B4.get_Current();B$=true;}else{B$=false;}B6=B$;}return B6;},function(){return B4.Dispose();});});},sort:function(Cb){return i.sortBy(function(Cc){return Cc;},Cb);},sortBy:function(Cd,Ce){return i.delay(function(){var Cg;Cg=c.ofSeq(Ce);c.sortInPlaceBy(Cd,Cg);return Cg;});},sortByDescending:function(Ch,Ci){return i.delay(function(){var Ck;Ck=c.ofSeq(Ci);k.sortInPlaceByDescending(Ch,Ck);return Ck;});},sortDescending:function(Cl){return i.sortByDescending(function(Cm){return Cm;},Cl);},sortWith:function(Cn,Co){return i.delay(function(){var Cq;Cq=c.ofSeq(Co);c.sortInPlaceWith(Cn,Cq);return Cq;});},splitInto:function(Cr,Cs){Cr<=0?d.FailWith("Count must be positive"):null;return i.delay(function(){var Cu;Cu=k.splitInto(Cr,c.ofSeq(Cs));return Cu;});},sum:function(Cv){return i.fold(function(Cw){return function(Cx){return Cw+Cx;};},0,Cv);},sumBy:function(Cy,Cz){return i.fold(function(CA){return function(CB){return CA+Cy(CB);};},0,Cz);},tail:function(CC){return i.skip(1,CC);},take:function(CD,CE){CD<0?j.nonNegative():null;return h.Of(function(){var CG;CG=[f.Get(CE)];return g.New(0,null,function(CH){var CI,CJ,CK,CL,CM;CH.s=CH.s+1;if(CH.s>CD){CI=false;}else{CJ=CG[0];if(a.Equals(CJ,null)){CK=j.insufficient();}else{if(CJ.MoveNext()){CH.c=CJ.get_Current();if(CH.s===CD){CJ.Dispose();CM=void(CG[0]=null);}else{CM=null;}CL=true;}else{CJ.Dispose();CG[0]=null;CL=j.insufficient();}CK=CL;}CI=CK;}return CI;},function(){var CO;CO=CG[0];return!a.Equals(CO,null)?CO.Dispose():null;});});},takeWhile:function(CP,CQ){return i.delay(function(){return i.enumUsing(f.Get(CQ),function(CS){return i.enumWhile(function(){return CS.MoveNext()?CP(CS.get_Current()):false;},i.delay(function(){return[CS.get_Current()];}));});});},toArray:function(CV){var CW,CX,CY,CZ;CW=[];CX=f.Get(CV);try{while(CX.MoveNext()){CZ=CX.get_Current();CW.push(CZ);}}finally{CX.Dispose!=undefined?CX.Dispose():null;}return CW.slice(0);},toList:function(C0){return e.ofSeq(C0);},tryFind:function(C1,C2){var C3,C4,C5,C6;C3=f.Get(C2);try{C5={$:0};while(C5.$==0?C3.MoveNext():false){C6=C3.get_Current();C1(C6)?C5={$:1,$0:C6}:null;}C4=C5;}finally{C3.Dispose!=undefined?C3.Dispose():null;}return C4;},tryFindIndex:function(C7,C8){var C9,C_,C$,Da,Db;C9=f.Get(C8);try{C$=true;Da=0;while(C$?C9.MoveNext():false){Db=C9.get_Current();C7(Db)?C$=false:Da=Da+1;}C_=C$?{$:0}:{$:1,$0:Da};}finally{C9.Dispose!=undefined?C9.Dispose():null;}return C_;},tryPick:function(Dc,Dd){var De,Df,Dg;De=f.Get(Dd);try{Dg={$:0};while(a.Equals(Dg,{$:0})?De.MoveNext():false){Dg=Dc(De.get_Current());}Df=Dg;}finally{De.Dispose!=undefined?De.Dispose():null;}return Df;},zip:function(Dh,Di){return i.map2(function(Dj){return function(Dk){return[Dj,Dk];};},Dh,Di);},zip3:function(Dl,Dm,Dn){return i.map2(function(Do){return function(Dp){var Dq,Dr;Dq=Dp[0];Dr=Dp[1];return[Do,Dq,Dr];};},Dl,i.zip(Dm,Dn));}},Slice:{array:function(Ds,Dt,Du){var Dv,Dw,Dx,Dy,Dz,DA,DB,DC;Dv=[Dt,Du];if(Dv[0].$==0){if(Dv[1].$==1){Dy=Dv[1].$0;Dx=Ds.slice(0,Dy+1);}else{Dx=[];}Dw=Dx;}else{if(Dv[1].$==0){DA=Dv[0].$0;Dz=Ds.slice(DA);}else{DB=Dv[1].$0;DC=Dv[0].$0;Dz=Ds.slice(DC,DB+1);}Dw=Dz;}return Dw;},array2D:function(DD,DE,DF,DG,DH){var DI,DJ,DK,DL,DM,DN,DO,DP,DQ,DR,DS,DT,DU,DV;if(DE.$==1){DK=DE.$0;DJ=DK;}else{DJ=0;}DI=DJ;if(DG.$==1){DN=DG.$0;DM=DN;}else{DM=0;}DL=DM;if(DF.$==1){DQ=DF.$0;DP=DQ;}else{DP=DD.length-1;}DO=DP;if(DH.$==1){DT=DH.$0;DS=DT;}else{DS=(DD.length?DD[0].length:0)-1;}DR=DS;DU=DO-DI+1;DV=DR-DL+1;return c.sub2D(DD,DI,DL,DU,DV);},array2Dfix1:function(DW,DX,DY,DZ){var D0,D1,D2,D3,D4,D5,D6,D7,D8;if(DY.$==1){D2=DY.$0;D1=D2;}else{D1=0;}D0=D1;if(DZ.$==1){D5=DZ.$0;D4=D5;}else{D4=(DW.length?DW[0].length:0)-1;}D3=D4;D6=D3-D0+1;D7=b(D6);for(D8=0;D8<=D6-1;D8++){c.set(D7,D8,c.get2D(DW,DX,D0+D8));}return D7;},array2Dfix2:function(D9,D_,D$,Ea){var Eb,Ec,Ed,Ee,Ef,Eg,Eh,Ei,Ej;if(D_.$==1){Ed=D_.$0;Ec=Ed;}else{Ec=0;}Eb=Ec;if(D$.$==1){Eg=D$.$0;Ef=Eg;}else{Ef=D9.length-1;}Ee=Ef;Eh=Ee-Eb+1;Ei=b(Eh);for(Ej=0;Ej<=Eh-1;Ej++){c.set(Ei,Ej,c.get2D(D9,Eb+Ej,Ea));}return Ei;},setArray:function(Ek,El,Em,En){var Eo,Ep,Eq,Er,Es,Et;if(El.$==1){Eq=El.$0;Ep=Eq;}else{Ep=0;}Eo=Ep;if(Em.$==1){Et=Em.$0;Es=Et;}else{Es=Ek.length-1;}Er=Es;return c.setSub(Ek,Eo,Er-Eo+1,En);},setArray2D:function(Eu,Ev,Ew,Ex,Ey,Ez){var EA,EB,EC,ED,EE,EF,EG,EH,EI,EJ,EK,EL;if(Ev.$==1){EC=Ev.$0;EB=EC;}else{EB=0;}EA=EB;if(Ex.$==1){EF=Ex.$0;EE=EF;}else{EE=0;}ED=EE;if(Ew.$==1){EI=Ew.$0;EH=EI;}else{EH=Eu.length-1;}EG=EH;if(Ey.$==1){EL=Ey.$0;EK=EL;}else{EK=(Eu.length?Eu[0].length:0)-1;}EJ=EK;return c.setSub2D(Eu,EA,ED,EG-EA+1,EJ-ED+1,Ez);},setArray2Dfix1:function(EM,EN,EO,EP,EQ){var ER,ES,ET,EU,EV,EW,EX,EY;if(EO.$==1){ET=EO.$0;ES=ET;}else{ES=0;}ER=ES;if(EP.$==1){EW=EP.$0;EV=EW;}else{EV=(EM.length?EM[0].length:0)-1;}EU=EV;EX=EU-ER+1;for(EY=0;EY<=EX-1;EY++){c.set2D(EM,EN,ER+EY,c.get(EQ,EY));}return;},setArray2Dfix2:function(EZ,E0,E1,E2,E3){var E4,E5,E6,E7,E8,E9,E_,E$;if(E0.$==1){E6=E0.$0;E5=E6;}else{E5=0;}E4=E5;if(E1.$==1){E9=E1.$0;E8=E9;}else{E8=EZ.length-1;}E7=E8;E_=E7-E4+1;for(E$=0;E$<=E_-1;E$++){c.set2D(EZ,E4+E$,E2,c.get(E3,E$));}return;},string:function(Fa,Fb,Fc){var Fd,Fe,Ff,Fg,Fh,Fi,Fj,Fk;Fd=[Fb,Fc];if(Fd[0].$==0){if(Fd[1].$==1){Fg=Fd[1].$0;Ff=Fa.slice(0,Fg+1);}else{Ff="";}Fe=Ff;}else{if(Fd[1].$==0){Fi=Fd[0].$0;Fh=Fa.slice(Fi);}else{Fj=Fd[1].$0;Fk=Fd[0].$0;Fh=Fa.slice(Fk,Fj+1);}Fe=Fh;}return Fe;}},Stack:{Clear:function(Fl){return Fl.splice(0,c.length(Fl));},Contains:function(Fm,Fn){return i.exists(function(Fo){return a.Equals(Fn,Fo);},Fm);},CopyTo:function(Fp,Fq,Fr){return c.blit(Fq,0,Fq,Fr,c.length(Fp));}},Strings:{Compare:function(Fs,Ft){return d.Compare(Fs,Ft);},CopyTo:function(Fu,Fv,Fw,Fx,Fy){return c.blit(U.ToCharArray(Fu),Fv,Fw,Fx,Fy);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},Filter:function(Fz,FA){var FB,FD;FB=function(FC){return Fz(FC)?{$:1,$0:_1.fromCharCode(FC)}:{$:0};};FD=i.choose(FB,FA);return c.ofSeq(FD).join("");},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(FE,FF){return U.PadLeftWith(FE,FF,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s:$s;},PadRight:function(FG,FH){return U.PadRightWith(FG,FH,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c)):$s;},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(FI,FJ,FK){var FL;FL=function(FM){var FN,FO,FP,FQ;FN=FM.indexOf(FJ);if(FN!==-1){FP=U.ReplaceOnce(FM,FJ,FK);FQ=FN+FK.length;FO=U.Substring(FP,0,FN+FK.length)+FL(FP.substring(FQ));}else{FO=FM;}return FO;};return FL(FI);},ReplaceChar:function(FR,FS,FT){return U.Replace(FR,_1.fromCharCode(FS),_1.fromCharCode(FT));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(FU,FV,FW){var FX;FX=U.SplitWith(FU,FV);return FW===1?c.filter(function(FY){return FY!=="";},FX):FX;},SplitChars:function(FZ,F0,F1){var F2;F2="["+U.RegexEscape(_1.fromCharCode.apply(undefined,F0))+"]";return U.Split(FZ,new _2(F2),F1);},SplitStrings:function(F3,F4,F5){var F6;F6=U.concat("|",c.map(function(F7){return U.RegexEscape(F7);},F4));return U.Split(F3,new _2(F6),F5);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(F8){return c.init(F8.length,function(F9){return F8.charCodeAt(F9);});},ToCharArrayRange:function(F_,F$,Ga){return c.init(Ga,function(Gb){return F_.charCodeAt(F$+Gb);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(Gc,Gd){return c.init(Gd.length,function(Ge){return Gc(Gd.charCodeAt(Ge));}).join("");},concat:function(Gf,Gg){return i.toArray(Gg).join(Gf);},exists:function(Gh,Gi){return i.exists(Gh,U.protect(Gi));},forall:function(Gj,Gk){return i.forall(Gj,U.protect(Gk));},init:function(Gl,Gm){return c.init(Gl,Gm).join("");},iter:function(Gn,Go){return i.iter(Gn,U.protect(Go));},iteri:function(Gp,Gq){return i.iteri(Gp,U.protect(Gq));},length:function(Gr){return U.protect(Gr).length;},map:function(Gs,Gt){return U.collect(function(Gu){return _1.fromCharCode(Gs(Gu));},U.protect(Gt));},mapi:function(Gv,Gw){return i.toArray(i.mapi(function(Gx){return function(Gy){return _1.fromCharCode((Gv(Gx))(Gy));};},Gw)).join("");},protect:function(Gz){return Gz===null?"":Gz;},replicate:function(GA,GB){return U.init(GA,function(){return GB;});}},Unchecked:{Compare:function(GD,GE){var GF,GP,GQ,GR,GS;GF=function(GG){return function(GH){var GI;GI=[0];N.ForEach(GG,function(GJ){var GK,GL;if(!GG.hasOwnProperty(GJ)){GK=false;}else{if(!GH.hasOwnProperty(GJ)){GI[0]=1;GL=true;}else{GI[0]=a.Compare(GG[GJ],GH[GJ]);GL=GI[0]!==0;}GK=GL;}return GK;});GI[0]===0?N.ForEach(GH,function(GM){var GN,GO;if(!GH.hasOwnProperty(GM)){GN=false;}else{if(!GG.hasOwnProperty(GM)){GI[0]=-1;GO=true;}else{GO=false;}GN=GO;}return GN;}):null;return GI[0];};};if(GD===GE){GP=0;}else{GQ=typeof GD;if(GQ==="function"){GR=d.FailWith("Cannot compare function values.");}else{if(GQ==="boolean"){GR=GD<GE?-1:1;}else{if(GQ==="number"){GR=GD<GE?-1:1;}else{if(GQ==="string"){GR=GD<GE?-1:1;}else{if(GQ==="object"){GR=GD===null?-1:GE===null?1:"CompareTo"in GD?GD.CompareTo(GE):(GD instanceof b?GE instanceof b:false)?a.compareArrays(GD,GE):(GD instanceof C?GE instanceof C:false)?a.compareDates(GD,GE):(GF(GD))(GE);}else{GS=typeof GE;GR=GS==="undefined"?0:-1;}}}}}GP=GR;}return GP;},Equals:function(GT,GU){var GV,G1,G2;GV=function(GW){return function(GX){var GY;GY=[true];N.ForEach(GW,function(GZ){GY[0]=!GW.hasOwnProperty(GZ)?true:GX.hasOwnProperty(GZ)?a.Equals(GW[GZ],GX[GZ]):false;return!GY[0];});GY[0]?N.ForEach(GX,function(G0){GY[0]=!GX.hasOwnProperty(G0)?true:GW.hasOwnProperty(G0);return!GY[0];}):null;return GY[0];};};if(GT===GU){G1=true;}else{G2=typeof GT;G1=G2==="object"?(((GT===null?true:GT===undefined)?true:GU===null)?true:GU===undefined)?false:"Equals"in GT?GT.Equals(GU):(GT instanceof b?GU instanceof b:false)?a.arrayEquals(GT,GU):(GT instanceof C?GU instanceof C:false)?a.dateEquals(GT,GU):(GV(GT))(GU):false;}return G1;},Hash:function(G3){var G4;G4=typeof G3;return G4==="function"?0:G4==="boolean"?G3?1:0:G4==="number"?G3:G4==="string"?a.hashString(G3):G4==="object"?G3==null?0:G3 instanceof b?a.hashArray(G3):a.hashObject(G3):0;},arrayEquals:function(G5,G6){var G7,G8,G9;if(c.length(G5)===c.length(G6)){G8=true;G9=0;while(G8?G9<c.length(G5):false){!a.Equals(c.get(G5,G9),c.get(G6,G9))?G8=false:null;G9=G9+1;}G7=G8;}else{G7=false;}return G7;},compareArrays:function(G_,G$){var Ha,Hb,Hc,Hd;if(c.length(G_)<c.length(G$)){Ha=-1;}else{if(c.length(G_)>c.length(G$)){Hb=1;}else{Hc=0;Hd=0;while(Hc===0?Hd<c.length(G_):false){Hc=a.Compare(c.get(G_,Hd),c.get(G$,Hd));Hd=Hd+1;}Hb=Hc;}Ha=Hb;}return Ha;},compareDates:function(He,Hf){return d.Compare(He.getTime(),Hf.getTime());},dateEquals:function(Hg,Hh){return Hg.getTime()===Hh.getTime();},hashArray:function(Hi){var Hj,Hk;Hj=-34948909;for(Hk=0;Hk<=c.length(Hi)-1;Hk++){Hj=a.hashMix(Hj,a.Hash(c.get(Hi,Hk)));}return Hj;},hashMix:function(Hl,Hm){return(Hl<<5)+Hl+Hm;},hashObject:function(Hn){var Ho,Hp,Hs;if("GetHashCode"in Hn){Ho=Hn.GetHashCode();}else{Hp=function(Hq,Hr){return a.hashMix(Hq,Hr);};Hs=[0];N.ForEach(Hn,function(Ht){Hs[0]=Hp(Hp(Hs[0],a.hashString(Ht)),a.Hash(Hn[Ht]));return false;});Ho=Hs[0];}return Ho;},hashString:function(Hu){var Hv,Hw,Hx;if(Hu===null){Hv=0;}else{Hw=5381;for(Hx=0;Hx<=Hu.length-1;Hx++){Hw=a.hashMix(Hw,Hu.charCodeAt(Hx)<<0);}Hv=Hw;}return Hv;}},Util:{addListener:function(Hy,Hz){Hy.Subscribe(z.observer(Hz));},observer:function(HA){return{OnCompleted:function(){},OnError:function(){},OnNext:HA};},subscribeTo:function(HD,HE){return HD.Subscribe(z.observer(HE));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe($$.WebSharper.Enumerator);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Enumerable);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.Seq);k=$.Safe($$.Arrays);l=$.Safe($$.WebSharper.Ref);m=$.Safe($$.WebSharper.AggregateException);n=$.Safe($$.WebSharper.Exception);o=$.Safe($$.WebSharper.ArgumentException);p=$.Safe($$.Number);q=$.Safe($$.WebSharper.IndexOutOfRangeException);r=$.Safe($$.List);s=$.Safe($$.WebSharper.Arrays2D);t=$.Safe($$.WebSharper.Concurrency);u=$.Safe($$.WebSharper.Option);v=$.Safe($$.clearTimeout);w=$.Safe($$.setTimeout);x=$.Safe($$.WebSharper.CancellationTokenSource);y=$.Safe($$.WebSharper.Char);z=$.Safe($$.WebSharper.Util);A=$.Safe($$.WebSharper.Lazy);B=$.Safe($$.WebSharper.OperationCanceledException);C=$.Safe($$.Date);D=$.Safe($$.console);E=$.Safe(t.Scheduler);F=$.Safe($$.WebSharper.Html);G=$.Safe(F.Client);H=$.Safe(G.Activator);I=$.Safe($$.document);J=$.Safe($$.jQuery);K=$.Safe($$.WebSharper.Json);L=$.Safe($$.JSON);M=$.Safe($$.WebSharper.JavaScript);N=$.Safe(M.JSModule);O=$.Safe(G.HtmlContentExtensions);P=$.Safe(O.SingleNode);Q=$.Safe($$.WebSharper.InvalidOperationException);R=$.Safe(e.T);S=$.Safe($$.WebSharper.MatchFailureException);T=$.Safe($$.Math);U=$.Safe($$.WebSharper.Strings);V=$.Safe($$.WebSharper.PrintfHelpers);W=$.Safe($$.WebSharper.Remoting);X=$.Safe(W.XhrProvider);Y=$.Safe($$.WebSharper.AsyncProxy);Z=$.Safe(W.AjaxRemotingProvider);_0=$.Safe($$.window);_1=$.Safe($$.String);return _2=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(m,n);$.Inherit(o,n);$.Inherit(q,n);$.Inherit(Q,n);$.Inherit(S,n);$.Inherit(B,n);W.EndPoint();W.AjaxProvider();H.Activate();t.scheduler();t.defCTS();t.GetCT();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{WebSharper:{Json:{Decode:{Array:function(s){return b.Array(s);},DateTime:function(){return function(){return function(u){return(new c(u)).getTime();};};},List:function(v){return function(){return function(x){var y;y=v(null);return d.init(e.length(x),function(z){return y(e.get(x,z));});};};},Record:function(A,B){return function(){return function(D){var E,F;E=A===undefined?{}:new A();F=function(G){var H,I,J;H=G[0];I=G[1];J=G[2];return f.Equals(J,0)?void(E[H]=(I(null))(D[H])):f.Equals(J,1)?void(E[H]=D.hasOwnProperty(H)?{$:1,$0:(I(null))(D[H])}:{$:0}):f.Equals(J,2)?D.hasOwnProperty(H)?void(E[H]=(I(null))(D[H])):null:g.FailWith("Invalid field option kind");};e.iter(F,B);return E;};};},Set:function(K){return function(){return function(M){var N;N=K(null);return i.New1(j.OfSeq(e.map(N,M)));};};},StringDictionary:function(O){return function(){return function(Q){var R;R=k.New12();O(null);m.ForEach(Q,function(S){R.set_Item(S,Q[S]);return false;});return R;};};},StringMap:function(T){return function(){return function(V){var W;W=[n.New1([])];T(null);m.ForEach(V,function(X){W[0]=W[0].Add(X,V[X]);return false;});return W[0];};};},Tuple:function(Y){return b.Tuple(Y);},Union:function(Z,_0,_1){return function(){return function(_3){var _4,_5,_6,_7,_8,_9,bb,be,bf,bg;if(typeof _3==="object"){_5=Z===undefined?{}:new Z();if(f.Equals(typeof _0,"string")){_8=_3[_0];_9=function(_){var ba;ba=_[0];_[1];return ba===_8;};_7=e.findINdex(_9,_1);}else{bb=[undefined];m.ForEach(_0,function(bc){var bd;if(_3.hasOwnProperty(bc)){bb[0]=_0[bc];bd=true;}else{bd=false;}return bd;});_7=bb[0];}_6=_7;_5.$=_6;be=e.get(_1,_6);bf=be[1];bg=function(bh){var bi,bj,bk;bi=bh[0];bj=bh[1];bk=bh[2];return bi===null?void(_5.$0=(bk(null))(_3)):void(_5[bi]=(bk(null))(_3[bj]));};e.iter(bg,bf);_4=_5;}else{_4=_3;}return _4;};};}},Encode:{Array:function(bk){return function(){return function(bm){var bn;bn=bk(null);return e.map(bn,bm);};};},DateTime:function(){return function(){return function(bp){return(new c(bp)).toISOString();};};},Id:function(){return function(bq){return bq;};},List:function(br){return function(){return function(bt){var bu,bv,bw;bu=[];bv=br(null);bw=function(bx){var by;by=bu.push(bv(bx));return;};o.iter(bw,bt);return bu;};};},Record:function(bz,bA){return function(){return function(bC){var bD,bE;bD={};bE=function(bF){var bG,bH,bI,bJ,bK,bL,bM;bG=bF[0];bH=bF[1];bI=bF[2];if(f.Equals(bI,0)){bJ=void(bD[bG]=(bH(null))(bC[bG]));}else{if(f.Equals(bI,1)){bK=bC[bG];if(bK.$==0){bL=null;}else{bM=bK.$0;bL=void(bD[bG]=(bH(null))(bM));}bJ=bL;}else{bJ=f.Equals(bI,2)?bC.hasOwnProperty(bG)?void(bD[bG]=(bH(null))(bC[bG])):null:g.FailWith("Invalid field option kind");}}return bJ;};e.iter(bE,bA);return bD;};};},Set:function(bN){return function(){return function(bP){var bQ,bR,bS;bQ=[];bR=bN(null);bS=function(bT){var bU;bU=bQ.push(bR(bT));return;};o.iter(bS,bP);return bQ;};};},StringDictionary:function(bV){return function(){return function(bX){var bY,bZ,b0,b1,b2,b3,b4,b5;bY={};bZ=bV(null);b0=p.Get(bX);try{while(b0.MoveNext()){b2=b0.get_Current();b3=g.KeyValue(b2);b4=b3[1];b5=b3[0];bY[b5]=bZ(b4);}}finally{b0.Dispose!=undefined?b0.Dispose():null;}return bY;};};},StringMap:function(b6){return function(){return function(b8){var b9,b_,b$;b9={};b_=b6(null);b$=function(ca){return function(cb){b9[ca]=b_(cb);};};q.Iterate(b$,b8);return b9;};};},Tuple:function(cc){return function(){return function(ce){return e.map2(function(cf){return function(cg){return(cf(null))(cg);};},cc,ce);};};},Union:function(ch,ci,cj){return function(){return function(cl){var cm,cn,co,cp,cq,cr,cs;if(typeof cl==="object"){cn={};co=cl.$;cp=e.get(cj,co);cq=cp[0];cr=cp[1];f.Equals(typeof ci,"string")?void(cn[ci]=cq):null;cs=function(ct){var cu,cv,cw,cx,cy;cu=ct[0];cv=ct[1];cw=ct[2];if(cu===null){cy=(cw(null))(cl.$0);cx=m.ForEach(cy,function(cz){cn[cz]=cy[cz];return false;});}else{cx=void(cn[cv]=(cw(null))(cl[cu]));}return cx;};e.iter(cs,cr);cm=cn;}else{cm=cl;}return cm;};};}}},Web:{InlineControl:$.Class({get_Body:function(){var cA;cA=e.fold(function(cB){return function(cC){return cB[cC];};},r,this.funcName);return cA.apply(null,this.args);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Json);b=$.Safe(a.Encode);c=$.Safe($$.Date);d=$.Safe($$.WebSharper.List);e=$.Safe($$.WebSharper.Arrays);f=$.Safe($$.WebSharper.Unchecked);g=$.Safe($$.WebSharper.Operators);h=$.Safe($$.WebSharper.Collections);i=$.Safe(h.FSharpSet);j=$.Safe(h.BalancedTree);k=$.Safe(h.Dictionary);l=$.Safe($$.WebSharper.JavaScript);m=$.Safe(l.JSModule);n=$.Safe(h.FSharpMap);o=$.Safe($$.WebSharper.Seq);p=$.Safe($$.WebSharper.Enumerator);q=$.Safe(h.MapModule);return r=$.Safe($$.window);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{WebSharper:{Html:{Client:{Attr:{Attr:$.Field(function(){return c.Attr();})},Attribute:$.Class({get_Body:function(){var u;u=this.HtmlProvider.CreateAttribute(this.Name);u.value=this.Value;return u;}},{New:function(v,w,x){var y;y=d.New1(v);y.Name=w;y.Value=x;return y;},New1:function(z){var A;A=$.New(this,e.New());A.HtmlProvider=z;return A;}}),AttributeBuilder:$.Class({NewAttr:function(B,C){var D;D=d.New(this.HtmlProvider,B,C);return D;}},{New:function(E){var F;F=$.New(this,{});F.HtmlProvider=E;return F;}}),Default:{OnLoad:function(G){return c.HtmlProvider().OnDocumentReady(G);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(H,I){var J;J=d.New(this.HtmlProvider,H,I);return J;}},{New:function(K){var L;L=$.New(this,{});L.HtmlProvider=K;return L;}}),DeprecatedTagBuilder:$.Class({NewTag:function(M,N){var O,P,Q,R;O=f.New(this.HtmlProvider,M);P=g.Get(N);try{while(P.MoveNext()){R=P.get_Current();O.AppendI(R);}}finally{P.Dispose!=undefined?P.Dispose():null;}return O;}},{New:function(S){var T;T=$.New(this,{});T.HtmlProvider=S;return T;}}),Element:$.Class({AppendI:function(U){var V,W,X,Y,Z,_0,_1,_2,_3;V=U.get_Body();if(V.nodeType===2){X=this["HtmlProvider@33"];Y=this.get_Body();W=X.AppendAttribute(Y,V);}else{Z=this["HtmlProvider@33"];_0=this.get_Body();_1=U.get_Body();W=Z.AppendNode(_0,_1);}if(this.IsRendered){_2=U.Render();}else{_3=this.RenderInternal;_2=void(this.RenderInternal=function(){_3(null);return U.Render();});}return _2;},AppendN:function(_5){var _6,_7;_6=this["HtmlProvider@33"];_7=this.get_Body();return _6.AppendNode(_7,_5);},OnLoad:function(_8){var _9,_;_9=this["HtmlProvider@33"];_=this.get_Body();return _9.OnLoad(_,_8);},Render:function(){var ba;if(!this.IsRendered){this.RenderInternal.call(null,null);ba=void(this.IsRendered=true);}else{ba=null;}return ba;},get_Body:function(){return this.Dom;},get_Html:function(){return this["HtmlProvider@33"].GetHtml(this.get_Body());},get_HtmlProvider:function(){return this["HtmlProvider@33"];},get_Id:function(){var ba,bb,bc,bd,be,bf,bg;ba=this["HtmlProvider@33"];bb=this.get_Body();bc=ba.GetProperty(bb,"id");if(bc===undefined?true:bc===""){be="id"+h.round(h.random()*100000000);bf=this["HtmlProvider@33"];bg=this.get_Body();bf.SetProperty(bg,"id",be);bd=be;}else{bd=bc;}return bd;},get_Item:function(bh){var bi,bj,bk,bl;bi=this["HtmlProvider@33"];bj=this.get_Body();bi.GetAttribute(bj,bh);bk=this["HtmlProvider@33"];bl=this.get_Body();return bk.GetAttribute(bl,bh);},get_Text:function(){return this["HtmlProvider@33"].GetText(this.get_Body());},get_Value:function(){return this["HtmlProvider@33"].GetValue(this.get_Body());},set_Html:function(bm){var bn,bo;bn=this["HtmlProvider@33"];bo=this.get_Body();return bn.SetHtml(bo,bm);},set_Item:function(bp,bq){var br,bs;br=this["HtmlProvider@33"];bs=this.get_Body();return br.SetAttribute(bs,bp,bq);},set_Text:function(bt){var bu,bv;bu=this["HtmlProvider@33"];bv=this.get_Body();return bu.SetText(bv,bt);},set_Value:function(bw){var bx,by;bx=this["HtmlProvider@33"];by=this.get_Body();return bx.SetValue(by,bw);}},{New:function(bz,bA){var bB,bC;bB=f.New1(bz);bC=i.createElement(bA);bB.RenderInternal=function(){};bB.Dom=bC;bB.IsRendered=false;return bB;},New1:function(bE){var bF;bF=$.New(this,e.New());bF["HtmlProvider@33"]=bE;return bF;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(bG,bH){return j(bH.get_Body()).bind("blur",function(bI){return(bG(bH))(bI);});},OnChange:function(bJ,bK){return j(bK.get_Body()).bind("change",function(bL){return(bJ(bK))(bL);});},OnClick:function(bM,bN){return this.OnMouse("click",bM,bN);},OnDoubleClick:function(bO,bP){return this.OnMouse("dblclick",bO,bP);},OnError:function(bQ,bR){return j(bR.get_Body()).bind("error",function(bS){return(bQ(bR))(bS);});},OnEvent:function(bT,bU,bV){return j(bV.get_Body()).bind(bT,function(bW){return(bU(bV))(bW);});},OnFocus:function(bX,bY){return j(bY.get_Body()).bind("focus",function(bZ){return(bX(bY))(bZ);});},OnKeyDown:function(b0,b1){return j(b1.get_Body()).bind("keydown",function(b2){return(b0(b1))({KeyCode:b2.keyCode,Event:b2});});},OnKeyPress:function(b3,b4){return j(b4.get_Body()).keypress(function(b5){return(b3(b4))({CharacterCode:b5.which,Event:b5});});},OnKeyUp:function(b6,b7){return j(b7.get_Body()).bind("keyup",function(b8){return(b6(b7))({KeyCode:b8.keyCode,Event:b8});});},OnLoad:function(b9,b_){return j(b_.get_Body()).bind("load",function(b$){return(b9(b_))(b$);});},OnMouse:function(ca,cb,cc){return j(cc.get_Body()).bind(ca,function(cd){return(cb(cc))({X:cd.pageX,Y:cd.pageY,Event:cd});});},OnMouseDown:function(ce,cf){return this.OnMouse("mousedown",ce,cf);},OnMouseEnter:function(cg,ch){return this.OnMouse("mouseenter",cg,ch);},OnMouseLeave:function(ci,cj){return this.OnMouse("mouseleave",ci,cj);},OnMouseMove:function(ck,cl){return this.OnMouse("mousemove",ck,cl);},OnMouseOut:function(cm,cn){return this.OnMouse("mouseout",cm,cn);},OnMouseUp:function(co,cp){return this.OnMouse("mouseup",co,cp);},OnResize:function(cq,cr){return j(cr.get_Body()).bind("resize",function(cs){return(cq(cr))(cs);});},OnScroll:function(ct,cu){return j(cu.get_Body()).bind("scroll",function(cv){return(ct(cu))(cv);});},OnSelect:function(cw,cx){return j(cx.get_Body()).bind("select",function(cy){return(cw(cx))(cy);});},OnSubmit:function(cz,cA){return j(cA.get_Body()).bind("submit",function(cB){return(cz(cA))(cB);});},OnUnLoad:function(cC,cD){return j(cD.get_Body()).bind("unload",function(cE){return(cC(cD))(cE);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return l.New();})},Implementation:{Attr:$.Field(function(){return m.New(c.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return n.New(c.HtmlProvider());}),HtmlProvider:$.Field(function(){return o.New();}),JQueryHtmlProvider:$.Class({AddClass:function(cF,cG){return j(cF).addClass(cG);},AppendAttribute:function(cH,cI){var cJ,cK;cJ=cI.nodeName;cK=cI.value;return this.SetAttribute(cH,cJ,cK);},AppendNode:function(cL,cM){return j(cL).append(j(cM));},Clear:function(cN){return j(cN).contents().detach();},CreateAttribute:function(cO){return i.createAttribute(cO);},CreateElement:function(cP){return i.createElement(cP);},CreateTextNode:function(cQ){return i.createTextNode(cQ);},GetAttribute:function(cR,cS){return j(cR).attr(cS);},GetHtml:function(cT){return j(cT).html();},GetProperty:function(cU,cV){var cW;cW=j(cU).prop(cV);return cW;},GetText:function(cX){return cX.textContent;},GetValue:function(cY){var cZ;cZ=j(cY).val();return cZ;},HasAttribute:function(c0,c1){return j(c0).attr(c1)!=null;},OnDocumentReady:function(c2){return j(i).ready(c2);},OnLoad:function(c3,c4){return j(c3).ready(c4);},Remove:function(c5){return j(c5).remove();},RemoveAttribute:function(c6,c7){return j(c6).removeAttr(c7);},RemoveClass:function(c8,c9){return j(c8).removeClass(c9);},SetAttribute:function(c_,c$,da){return j(c_).attr(c$,da);},SetCss:function(db,dc,dd){return j(db).css(dc,dd);},SetHtml:function(de,df){return j(de).html(df);},SetProperty:function(dg,dh,di){var dj;dj=j(dg).prop(dh,di);return dj;},SetStyle:function(dk,dl){return j(dk).attr("style",dl);},SetText:function(dm,dn){dm.textContent=dn;},SetValue:function(_do,dp){return j(_do).val(dp);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return p.New(c.HtmlProvider());})},Operators:{OnAfterRender:function(dq,dr){var ds;ds=dr.Render;dr.Render=function(){ds.apply(dr);return dq(dr);};return;},OnBeforeRender:function(du,dv){var dw;dw=dv.Render;dv.Render=function(){du(dv);return dw.apply(dv);};return;},add:function(dy,dz){var dA,dB,dC;dA=g.Get(dz);try{while(dA.MoveNext()){dC=dA.get_Current();dy.AppendI(dC);}}finally{dA.Dispose!=undefined?dA.Dispose():null;}return dy;}},Pagelet:$.Class({AppendTo:function(dD){var dE,dF;dE=i.getElementById(dD);dF=dE.appendChild(this.get_Body());return this.Render();},Render:function(){return null;},ReplaceInDom:function(dG){var dH;dH=dG.parentNode.replaceChild(this.get_Body(),dG);return this.Render();}},{New:function(){return $.New(this,{});}}),TagBuilder:$.Class({NewTag:function(dI,dJ){var dK,dL,dM,dN;dK=f.New(this.HtmlProvider,dI);dL=g.Get(dJ);try{while(dL.MoveNext()){dN=dL.get_Current();dK.AppendI(dN);}}finally{dL.Dispose!=undefined?dL.Dispose():null;}return dK;},text:function(dO){return q.New(dO);}},{New:function(dP){var dQ;dQ=$.New(this,{});dQ.HtmlProvider=dP;return dQ;}}),Tags:{Deprecated:$.Field(function(){return c.DeprecatedHtml();}),Tags:$.Field(function(){return c.Tags();})},Text:$.Class({get_Body:function(){return i.createTextNode(this.text);}},{New:function(dR){var dS;dS=$.New(this,e.New());dS.text=dR;return dS;}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Html);b=$.Safe(a.Client);c=$.Safe(b.Implementation);d=$.Safe(b.Attribute);e=$.Safe(b.Pagelet);f=$.Safe(b.Element);g=$.Safe($$.WebSharper.Enumerator);h=$.Safe($$.Math);i=$.Safe($$.document);j=$.Safe($$.jQuery);k=$.Safe(b.Events);l=$.Safe(k.JQueryEventSupport);m=$.Safe(b.AttributeBuilder);n=$.Safe(b.DeprecatedTagBuilder);o=$.Safe(c.JQueryHtmlProvider);p=$.Safe(b.TagBuilder);q=$.Safe(b.Text);r=$.Safe(b.Attr);s=$.Safe(b.EventsPervasives);return t=$.Safe(b.Tags);});$.OnLoad(function(){$.Inherit(d,e);$.Inherit(f,e);$.Inherit(q,e);t.Tags();t.Deprecated();c.Tags();c.HtmlProvider();c.DeprecatedHtml();c.Attr();s.Events();r.Attr();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;$.Define($$,{WebSharper:{Collections:{BalancedTree:{Add:function(D,E){return b.Put(function(){return function(G){return G;};},D,E);},Branch:function(H,I,J){return{Node:H,Left:I,Right:J,Height:1+c.Max(I==null?0:I.Height,J==null?0:J.Height),Count:1+(I==null?0:I.Count)+(J==null?0:J.Count)};},Build:function(K,L,M){var N,O,P,Q,R;N=M-L+1;if(N<=0){O=null;}else{P=(L+M)/2>>0;Q=b.Build(K,L,P-1);R=b.Build(K,P+1,M);O=b.Branch(d.get(K,P),Q,R);}return O;},Contains:function(S,T){return!((b.Lookup(S,T))[0]==null);},Enumerate:function(U,V){var W;W=function(X){var Y,Z,_0,_1,_2,_3,_4;Y=X[0];Z=X[1];if(Y==null){if(Z.$==1){_2=Z.$0[0];_3=Z.$1;_4=Z.$0[1];_1={$:1,$0:[_2,[_4,_3]]};}else{_1={$:0};}_0=_1;}else{_0=U?W([Y.Right,$.New(g,{$:1,$0:[Y.Node,Y.Left],$1:Z})]):W([Y.Left,$.New(g,{$:1,$0:[Y.Node,Y.Right],$1:Z})]);}return _0;};return e.unfold(W,[V,$.New(g,{$:0})]);},Lookup:function(_5,_6){var _7,_8,_9,_,ba,bb;_7=[];_8=_6;_9=true;while(_9){if(_8==null){_=_9=false;}else{ba=c.Compare(_5,_8.Node);if(ba===0){bb=_9=false;}else{if(ba===1){_7.unshift([true,_8.Node,_8.Left]);bb=_8=_8.Right;}else{_7.unshift([false,_8.Node,_8.Right]);bb=_8=_8.Left;}}_=bb;}}return[_8,_7];},OfSeq:function(bb){var bc;bc=d.sort(h.toArray(e.distinct(bb)));return b.Build(bc,0,bc.length-1);},Put:function(bd,be,bf){var bg,bh,bi;bg=b.Lookup(be,bf);bh=bg[0];bi=bg[1];return bh==null?b.Rebuild(bi,b.Branch(be,null,null)):b.Rebuild(bi,b.Branch((bd(bh.Node))(be),bh.Left,bh.Right));},Rebuild:function(bj,bk){var bl,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA;bl=function(bm){return bm==null?0:bm.Height;};bn=bk;for(bo=0;bo<=d.length(bj)-1;bo++){bp=d.get(bj,bo);if(bp[0]){br=bp[1];bs=bp[2];if(bl(bn)>bl(bs)+1){if(bl(bn.Left)===bl(bn.Right)+1){bv=bn.Left;bu=b.Branch(bv.Node,b.Branch(br,bs,bv.Left),b.Branch(bn.Node,bv.Right,bn.Right));}else{bu=b.Branch(bn.Node,b.Branch(br,bs,bn.Left),bn.Right);}bt=bu;}else{bt=b.Branch(br,bs,bn);}bq=bt;}else{bw=bp[1];bx=bp[2];if(bl(bn)>bl(bx)+1){if(bl(bn.Right)===bl(bn.Left)+1){bA=bn.Right;bz=b.Branch(bA.Node,b.Branch(bn.Node,bn.Left,bA.Left),b.Branch(bw,bA.Right,bx));}else{bz=b.Branch(bn.Node,bn.Left,b.Branch(bw,bn.Right,bx));}by=bz;}else{by=b.Branch(bw,bn,bx);}bq=by;}bn=bq;}return bn;},Remove:function(bB,bC){var bD,bE,bF,bG,bH,bI,bJ,bK,bL;bD=b.Lookup(bB,bC);bE=bD[0];bF=bD[1];if(bE==null){bG=bC;}else{if(bE.Right==null){bH=b.Rebuild(bF,bE.Left);}else{if(bE.Left==null){bI=b.Rebuild(bF,bE.Right);}else{bJ=h.append(b.Enumerate(false,bE.Left),b.Enumerate(false,bE.Right));bK=h.toArray(bJ);bL=b.Build(bK,0,bK.length-1);bI=b.Rebuild(bF,bL);}bH=bI;}bG=bH;}return bG;},TryFind:function(bM,bN){var bO;bO=(b.Lookup(bM,bN))[0];return bO==null?{$:0}:{$:1,$0:bO.Node};}},Dictionary:$.Class({Add:function(bP,bQ){var bR,bS;bR=this.hash.call(null,bP);if(this.data.hasOwnProperty(bR)){bS=c.FailWith("An item with the same key has already been added.");}else{this.data[bR]={K:bP,V:bQ};bS=void(this.count=this.count+1);}return bS;},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bT){return this.data.hasOwnProperty(this.hash.call(null,bT));},GetEnumerator:function(){var bU;bU=j.GetFieldValues(this.data);return k.Get(bU);},Remove:function(bV){var bW,bX;bW=this.hash.call(null,bV);if(this.data.hasOwnProperty(bW)){j.Delete(this.data,bW);this.count=this.count-1;bX=true;}else{bX=false;}return bX;},get_Item:function(bY){var bZ,b0,b1;bZ=this.hash.call(null,bY);if(this.data.hasOwnProperty(bZ)){b1=this.data[bZ];b0=b1.V;}else{b0=l.notPresent();}return b0;},set_Item:function(b2,b3){var b4;b4=this.hash.call(null,b2);!this.data.hasOwnProperty(b4)?void(this.count=this.count+1):null;this.data[b4]={K:b2,V:b3};return;}},{New:function(b5){return $.New(this,m.New4(b5,function(b6){return function(b7){return n.Equals(b6,b7);};},function(b8){return n.Hash(b8);}));},New1:function(b9,b_){return $.New(this,m.New4(b9,function(b$){return function(ca){return b_.Equals(b$,ca);};},function(cb){return b_.GetHashCode(cb);}));},New11:function(cc,cd){return $.New(this,m.New3(cd));},New12:function(){return $.New(this,m.New4([],function(ce){return function(cf){return n.Equals(ce,cf);};},function(cg){return n.Hash(cg);}));},New2:function(){return $.New(this,m.New12());},New3:function(ci){return $.New(this,m.New4([],function(cj){return function(ck){return ci.Equals(cj,ck);};},function(cl){return ci.GetHashCode(cl);}));},New4:function(cm,cn,co){var cp,cq,cr,cs,ct;cp=$.New(this,{});cp.hash=co;cp.count=0;cp.data={};cq=k.Get(cm);try{while(cq.MoveNext()){cs=cq.get_Current();ct=cs.K;cp.data[cp.hash.call(null,ct)]=cs.V;}}finally{cq.Dispose!=undefined?cq.Dispose():null;}return cp;}}),DictionaryUtil:{notPresent:function(){return c.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(cu,cv){var cw,cx;cw=this.tree;cx=$.New(p,{Key:cu,Value:cv});return o.New(b.Add(cx,cw));},CompareTo:function(cy){return e.compareWith(function(cz){return function(cA){return c.Compare(cz,cA);};},this,cy);},ContainsKey:function(cB){var cC,cD;cC=this.tree;cD=$.New(p,{Key:cB,Value:undefined});return b.Contains(cD,cC);},Equals:function(cE){return this.get_Count()===cE.get_Count()?h.forall2(function(cF){return function(cG){return n.Equals(cF,cG);};},this,cE):false;},GetEnumerator:function(){var cH,cJ,cK;cH=function(cI){return{K:cI.Key,V:cI.Value};};cJ=b.Enumerate(false,this.tree);cK=h.map(cH,cJ);return k.Get(cK);},GetHashCode:function(){return n.Hash(h.toArray(this));},Remove:function(cL){var cM,cN;cM=this.tree;cN=$.New(p,{Key:cL,Value:undefined});return o.New(b.Remove(cN,cM));},TryFind:function(cO){var cP,cQ,cR,cT;cP=this.tree;cQ=$.New(p,{Key:cO,Value:undefined});cR=function(cS){return cS.Value;};cT=b.TryFind(cQ,cP);return q.map(cR,cT);},get_Count:function(){var cU;cU=this.tree;return cU==null?0:cU.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cV){var cW,cX,cY;cW=this.TryFind(cV);if(cW.$==0){cX=c.FailWith("The given key was not present in the dictionary.");}else{cY=cW.$0;cX=cY;}return cX;},get_Tree:function(){return this.tree;}},{New:function(cZ){var c0;c0=$.New(this,{});c0.tree=cZ;return c0;},New1:function(c1){return $.New(this,o.New(r.fromSeq(c1)));}}),FSharpSet:$.Class({Add:function(c2){return s.New1(b.Add(c2,this.tree));},CompareTo:function(c3){return e.compareWith(function(c4){return function(c5){return c.Compare(c4,c5);};},this,c3);},Contains:function(c6){return b.Contains(c6,this.tree);},Equals:function(c7){return this.get_Count()===c7.get_Count()?h.forall2(function(c8){return function(c9){return n.Equals(c8,c9);};},this,c7):false;},GetEnumerator:function(){return k.Get(b.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(h.toArray(this));},IsProperSubsetOf:function(c_){return this.IsSubsetOf(c_)?this.get_Count()<c_.get_Count():false;},IsProperSupersetOf:function(c$){return this.IsSupersetOf(c$)?this.get_Count()>c$.get_Count():false;},IsSubsetOf:function(da){return h.forall(function(db){return da.Contains(db);},this);},IsSupersetOf:function(dc){var de=this;return h.forall(function(dd){return de.Contains(dd);},dc);},Remove:function(df){return s.New1(b.Remove(df,this.tree));},add:function(dg){return s.New1(b.OfSeq(h.append(this,dg)));},get_Count:function(){var dh;dh=this.tree;return dh==null?0:dh.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return h.head(b.Enumerate(true,this.tree));},get_MinimumElement:function(){return h.head(b.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(di){return t.Filter(function(dj){return!di.Contains(dj);},this);}},{New:function(dk){return $.New(this,s.New1(u.ofSeq(dk)));},New1:function(dl){var dm;dm=$.New(this,{});dm.tree=dl;return dm;}}),HashSetProxy:$.Class({Add:function(dn){return this.add(dn);},Clear:function(){this.data=v.prototype.constructor.apply(v,[]);this.count=0;return;},Contains:function(_do){var dp;dp=this.data[this.hash.call(null,_do)];return dp==null?false:this.arrContains(_do,dp);},CopyTo:function(dq){var dr,ds,dt;dr=0;ds=w.concat(this.data);for(dt=0;dt<=ds.length-1;dt++){d.set(dq,dt,ds[dt]);}return;},ExceptWith:function(du){var dv,dw,dx,dy;dv=k.Get(du);try{while(dv.MoveNext()){dx=dv.get_Current();dy=this.Remove(dx);}}finally{dv.Dispose!=undefined?dv.Dispose():null;}return dw;},GetEnumerator:function(){return k.Get(w.concat(this.data));},IntersectWith:function(dz){var dA,dB,dC,dD,dE,dF,dG;dA=x.New3(dz,this.equals,this.hash);dB=w.concat(this.data);for(dC=0;dC<=dB.length-1;dC++){dD=dB[dC];dE=dA.Contains(dD);if(!dE){dG=this.Remove(dD);dF=void dG;}else{dF=null;}}return;},IsProperSubsetOf:function(dH){var dI;dI=d.ofSeq(dH);return this.count<d.length(dI)?this.IsSubsetOf(dI):false;},IsProperSupersetOf:function(dJ){var dK;dK=d.ofSeq(dJ);return this.count>d.length(dK)?this.IsSupersetOf(dK):false;},IsSubsetOf:function(dL){var dM,dN,dP;dM=x.New3(dL,this.equals,this.hash);dN=function(dO){return dM.Contains(dO);};dP=w.concat(this.data);return h.forall(dN,dP);},IsSupersetOf:function(dQ){var dR,dT=this;dR=function(dS){return dT.Contains(dS);};return h.forall(dR,dQ);},Overlaps:function(dU){var dV,dX=this;dV=function(dW){return dX.Contains(dW);};return h.exists(dV,dU);},Remove:function(dY){var dZ,d0,d1,d2;dZ=this.hash.call(null,dY);d0=this.data[dZ];if(d0==null){d1=false;}else{if(this.arrRemove(dY,d0)){this.count=this.count-1;d2=true;}else{d2=false;}d1=d2;}return d1;},RemoveWhere:function(d3){var d4,d5,d6,d7,d8;d4=w.concat(this.data);for(d5=0;d5<=d4.length-1;d5++){d6=d4[d5];if(d3(d6)){d8=this.Remove(d6);d7=void d8;}else{d7=null;}}return;},SetEquals:function(d9){var d_;d_=x.New3(d9,this.equals,this.hash);return this.get_Count()===d_.get_Count()?this.IsSupersetOf(d_):false;},SymmetricExceptWith:function(d$){var ea,eb,ec,ed,ee,ef;ea=k.Get(d$);try{while(ea.MoveNext()){ec=ea.get_Current();if(this.Contains(ec)){ee=this.Remove(ec);ed=void ee;}else{ef=this.Add(ec);ed=void ef;}}}finally{ea.Dispose!=undefined?ea.Dispose():null;}return eb;},UnionWith:function(eg){var eh,ei,ej,ek;eh=k.Get(eg);try{while(eh.MoveNext()){ej=eh.get_Current();ek=this.Add(ej);}}finally{eh.Dispose!=undefined?eh.Dispose():null;}return ei;},add:function(el){var em,en,eo,ep,eq;em=this.hash.call(null,el);en=this.data[em];if(en==null){this.data[em]=[el];this.count=this.count+1;eo=true;}else{if(this.arrContains(el,en)){ep=false;}else{eq=en.push(el);this.count=this.count+1;ep=true;}eo=ep;}return eo;},arrContains:function(er,es){var et,eu,ev;et=true;eu=0;ev=es.length;while(et?eu<ev:false){(this.equals.call(null,es[eu]))(er)?et=false:eu=eu+1;}return!et;},arrRemove:function(ew,ex){var ey,ez,eA,eB,eC,eD,eE;ey=true;ez=0;eA=ex.length;while(ey?ez<eA:false){if((this.equals.call(null,ex[ez]))(ew)){eC=ez;eD=[];eE=ex.splice.apply(ex,[eC,1].concat(eD));eB=ey=false;}else{eB=ez=ez+1;}}return!ey;},get_Count:function(){return this.count;}},{New:function(eF){return $.New(this,x.New3(eF,function(eG){return function(eH){return n.Equals(eG,eH);};},function(eI){return n.Hash(eI);}));},New1:function(eJ){return $.New(this,x.New3(h.empty(),function(eK){return function(eL){return eJ.Equals(eK,eL);};},function(eM){return eJ.GetHashCode(eM);}));},New11:function(){return $.New(this,x.New3(h.empty(),function(eN){return function(eO){return n.Equals(eN,eO);};},function(eP){return n.Hash(eP);}));},New2:function(eQ,eR){return $.New(this,x.New3(eQ,function(eS){return function(eT){return eR.Equals(eS,eT);};},function(eU){return eR.GetHashCode(eU);}));},New3:function(eV,eW,eX){var eY,eZ,e0,e1,e2;eY=$.New(this,{});eY.equals=eW;eY.hash=eX;eY.data=v.prototype.constructor.apply(v,[]);eY.count=0;eZ=k.Get(eV);try{while(eZ.MoveNext()){e1=eZ.get_Current();e2=eY.add(e1);}}finally{eZ.Dispose!=undefined?eZ.Dispose():null;}return eY;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}},LinkedList:{E:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(e3){var e4;e4=$.New(this,{});e4.c=e3;return e4;}}),T:$.Class({AddAfter:function(e5,e6){var e7,e8,e9;e7=e5.n;e8={p:e5,n:e7,v:e6};n.Equals(e5.n,null)?void(this.p=e8):null;e5.n=e8;if(!n.Equals(e7,null)){e7.p=e8;e9=e8;}else{e9=null;}this.c=this.c+1;return e8;},AddBefore:function(e_,e$){var fa,fb,fc;fa=e_.p;fb={p:fa,n:e_,v:e$};n.Equals(e_.p,null)?void(this.n=fb):null;e_.p=fb;if(!n.Equals(fa,null)){fa.n=fb;fc=fb;}else{fc=null;}this.c=this.c+1;return fb;},AddFirst:function(fd){var fe,ff;if(this.c===0){ff={p:null,n:null,v:fd};this.n=ff;this.p=this.n;this.c=1;fe=ff;}else{fe=this.AddBefore(this.n,fd);}return fe;},AddLast:function(fg){var fh,fi;if(this.c===0){fi={p:null,n:null,v:fg};this.n=fi;this.p=this.n;this.c=1;fh=fi;}else{fh=this.AddAfter(this.p,fg);}return fh;},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(fj){var fk,fl;fk=false;fl=this.n;while(!n.Equals(fl,null)?!fk:false){fl.v==fj?fk=true:fl=fl.n;}return fk;},Find:function(fm){var fn,fo;fn=this.n;fo=true;while(fo?!n.Equals(fn,null):false){fn.v==fm?fo=false:fn=fn.n;}return fo?null:fn;},FindLast:function(fp){var fq,fr;fq=this.p;fr=true;while(fr?!n.Equals(fq,null):false){fq.v==fp?fr=false:fq=fq.p;}return fr?null:fq;},GetEnumerator:function(){return z.New(this);},Remove:function(fs){var ft,fu,fv,fw;ft=fs.p;fu=fs.n;if(n.Equals(ft,null)){fv=void(this.n=fu);}else{ft.n=fu;fv=fu;}if(n.Equals(fu,null)){fw=void(this.p=ft);}else{fu.p=ft;fw=ft;}this.c=this.c-1;return;},Remove1:function(fx){var fy,fz;fy=this.Find(fx);if(n.Equals(fy,null)){fz=false;}else{this.Remove(fy);fz=true;}return fz;},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,A.New1(h.empty()));},New1:function(fA){var fB,fC,fD,fE;fB=$.New(this,{});fB.c=0;fB.n=null;fB.p=null;fC=k.Get(fA);if(fC.MoveNext()){fB.n={p:null,n:null,v:fC.get_Current()};fB.p=fB.n;fD=void(fB.c=1);}else{fD=null;}while(fC.MoveNext()){fE={p:fB.p,n:null,v:fC.get_Current()};fB.p.n=fE;fB.p=fE;fB.c=fB.c+1;}return fB;}})},MapModule:{Exists:function(fF,fG){var fH;fH=function(fI){return(fF(fI.K))(fI.V);};return h.exists(fH,fG);},Filter:function(fJ,fK){var fL,fN,fO,fP,fQ;fL=function(fM){return(fJ(fM.Key))(fM.Value);};fN=b.Enumerate(false,fK.get_Tree());fO=h.filter(fL,fN);fP=h.toArray(fO);fQ=b.Build(fP,0,fP.length-1);return o.New(fQ);},FindKey:function(fR,fS){var fT;fT=function(fU){return(fR(fU.K))(fU.V)?{$:1,$0:fU.K}:{$:0};};return h.pick(fT,fS);},Fold:function(fV,fW,fX){var fY,f1;fY=function(fZ){return function(f0){return((fV(fZ))(f0.Key))(f0.Value);};};f1=b.Enumerate(false,fX.get_Tree());return h.fold(fY,fW,f1);},FoldBack:function(f2,f3,f4){var f5,f8;f5=function(f6){return function(f7){return((f2(f7.Key))(f7.Value))(f6);};};f8=b.Enumerate(true,f3.get_Tree());return h.fold(f5,f4,f8);},ForAll:function(f9,f_){var f$;f$=function(ga){return(f9(ga.K))(ga.V);};return h.forall(f$,f_);},Iterate:function(gb,gc){var gd;gd=function(ge){return(gb(ge.K))(ge.V);};return h.iter(gd,gc);},Map:function(gf,gg){var gh,gj,gk,gl;gh=function(gi){return $.New(p,{Key:gi.Key,Value:(gf(gi.Key))(gi.Value)});};gj=b.Enumerate(false,gg.get_Tree());gk=h.map(gh,gj);gl=b.OfSeq(gk);return o.New(gl);},OfArray:function(gm){var gn,gr,gs;gn=function(go){var gp,gq;gp=go[0];gq=go[1];return $.New(p,{Key:gp,Value:gq});};gr=h.map(gn,gm);gs=b.OfSeq(gr);return o.New(gs);},Partition:function(gt,gu){var gv,gx,gy,gz,gA;gv=function(gw){return(gt(gw.Key))(gw.Value);};gx=h.toArray(b.Enumerate(false,gu.get_Tree()));gy=d.partition(gv,gx);gz=gy[1];gA=gy[0];return[o.New(b.Build(gA,0,gA.length-1)),o.New(b.Build(gz,0,gz.length-1))];},Pick:function(gB,gC){var gD;gD=function(gE){return(gB(gE.K))(gE.V);};return h.pick(gD,gC);},ToSeq:function(gF){var gG,gI;gG=function(gH){return[gH.Key,gH.Value];};gI=b.Enumerate(false,gF.get_Tree());return h.map(gG,gI);},TryFind:function(gJ,gK){return gK.TryFind(gJ);},TryFindKey:function(gL,gM){var gN;gN=function(gO){return(gL(gO.K))(gO.V)?{$:1,$0:gO.K}:{$:0};};return h.tryPick(gN,gM);},TryPick:function(gP,gQ){var gR;gR=function(gS){return(gP(gS.K))(gS.V);};return h.tryPick(gR,gQ);}},MapUtil:{fromSeq:function(gT){var gU;gU=h.toArray(h.delay(function(){return h.collect(function(gW){var gX,gY;gX=gW[1];gY=gW[0];return[$.New(p,{Key:gY,Value:gX})];},e.distinctBy(function(gZ){return gZ[0];},gT));}));d.sortInPlace(gU);return b.Build(gU,0,gU.length-1);}},Pair:$.Class({CompareTo:function(g0){return c.Compare(this.Key,g0.Key);},Equals:function(g1){return n.Equals(this.Key,g1.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(g2){return this.arr.push(g2);},AddRange:function(g3){var g5=this;return h.iter(function(g4){return g5.Add(g4);},g3);},Clear:function(){var g6;g6=B.splice(this.arr,0,d.length(this.arr),[]);return;},CopyTo:function(g7){return this.CopyTo1(g7,0);},CopyTo1:function(g8,g9){return this.CopyTo2(0,g8,g9,this.get_Count());},CopyTo2:function(g_,g$,ha,hb){return d.blit(this.arr,g_,g$,ha,hb);},GetEnumerator:function(){return k.Get(this.arr);},GetRange:function(hc,hd){return C.New11(d.sub(this.arr,hc,hd));},Insert:function(he,hf){var hg;hg=B.splice(this.arr,he,0,[hf]);return;},InsertRange:function(hh,hi){var hj;hj=B.splice(this.arr,hh,0,h.toArray(hi));return;},RemoveAt:function(hk){var hl;hl=B.splice(this.arr,hk,1,[]);return;},RemoveRange:function(hm,hn){var ho;ho=B.splice(this.arr,hm,hn,[]);return;},Reverse:function(){return this.arr.reverse();},Reverse1:function(hp,hq){return d.reverse(this.arr,hp,hq);},ToArray:function(){return this.arr.slice();},get_Count:function(){return d.length(this.arr);},get_Item:function(hr){return d.get(this.arr,hr);},set_Item:function(hs,ht){return d.set(this.arr,hs,ht);}},{New:function(hu){return $.New(this,C.New11(h.toArray(hu)));},New1:function(){return $.New(this,C.New11([]));},New11:function(hw){var hx;hx=$.New(this,{});hx.arr=hw;return hx;},New2:function(){return $.New(this,C.New11([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(hy,hz){var hA;hA=h.toArray(h.filter(hy,hz));return s.New1(b.Build(hA,0,hA.length-1));},FoldBack:function(hB,hC,hD){return h.fold(function(hE){return function(hF){return(hB(hF))(hE);};},hD,b.Enumerate(true,hC.get_Tree()));},Partition:function(hG,hH){var hI,hJ,hK;hI=d.partition(hG,h.toArray(hH));hJ=hI[1];hK=hI[0];return[s.New1(b.OfSeq(hK)),s.New1(b.OfSeq(hJ))];}},SetUtil:{ofSeq:function(hL){var hM;hM=h.toArray(hL);d.sortInPlace(hM);return b.Build(hM,0,hM.length-1);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Collections);b=$.Safe(a.BalancedTree);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.WebSharper.Arrays);e=$.Safe($$.Seq);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Seq);i=$.Safe($$.WebSharper.JavaScript);j=$.Safe(i.JSModule);k=$.Safe($$.WebSharper.Enumerator);l=$.Safe(a.DictionaryUtil);m=$.Safe(a.Dictionary);n=$.Safe($$.WebSharper.Unchecked);o=$.Safe(a.FSharpMap);p=$.Safe(a.Pair);q=$.Safe($$.WebSharper.Option);r=$.Safe(a.MapUtil);s=$.Safe(a.FSharpSet);t=$.Safe(a.SetModule);u=$.Safe(a.SetUtil);v=$.Safe($$.Array);w=$.Safe(a.HashSetUtil);x=$.Safe(a.HashSetProxy);y=$.Safe(a.LinkedList);z=$.Safe(y.E);A=$.Safe(y.T);B=$.Safe(a.ResizeArray);return C=$.Safe(B.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Array:{MapReduce:function(bs,bt,bu,bv){var bw;bw=function(bx,by){var bz,bA,bB,bC,bD,bE;if(by<=0){return bt;}else{if(by===1){if(bx>=0?bx<a.length(bv):false){return bs(a.get(bv,bx));}else{bz=by/2>>0;bA=bw(bx,bz);bB=bw(bx+bz,by-bz);return(bu(bA))(bB);}}else{bC=by/2>>0;bD=bw(bx,bC);bE=bw(bx+bC,by-bC);return(bu(bD))(bE);}}};return bw(0,a.length(bv));}},Async:{Schedule:function(bE){return b.Start(b.Delay(function(){return b.Return(bE(null));}),{$:0});},StartTo:function(bG,bH){return b.StartWithContinuations(bG,bH,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bK){var bL;bL=c(bK.count);d.iteri(function(bM){return function(bN){return a.set(bL,bM,bN.K);};},bK);return bL;},ToValueArray:function(bO){var bP;bP=c(bO.count);d.iteri(function(bQ){return function(bR){return a.set(bP,bQ,bR.V);};},bO);return bP;}},Fresh:{Id:function(){var bS;bS=h.counter()+1;h.counter=function(){return bS;};return"uid"+$$.String(h.counter());},Int:function(){var bT;bT=h.counter()+1;h.counter=function(){return bT;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bU,bV){var bW;bW=j.New(k.ToArray(bV));bW.ExceptWith(k.ToArray(bU));return bW;},Filter:function(bX,bY){return j.New(a.filter(bX,k.ToArray(bY)));},Intersect:function(bZ,b0){var b1;b1=j.New(k.ToArray(bZ));b1.IntersectWith(k.ToArray(b0));return b1;},ToArray:function(b2){var b3;b3=c(b2.get_Count());b2.CopyTo(b3);return b3;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(b4){return b4.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(b5,b6){return a.iter(b5,l.ToArray(b6));},ToArray:function(b7){return b7.slice();}},Mailbox:{StartProcessor:function(b8){var b9,b_,b$;b9=[];b_=[false];b$=b.Delay(function(){return b.Combine(b.While(function(){return l.Count(b9)>0;},b.Delay(function(){return b.Bind(b8(l.Dequeue(b9)),function(){return b.Return(null);});})),b.Delay(function(){return b.Return(void(b_[0]=false));}));});return function(cf){l.Add(cf,b9);if(!b_[0]){b_[0]=true;return b.Start(b$,{$:0});}else{return null;}};}},Slot:$.Class({},{New:function(cg,ch){var ci;ci=$.New(this,{});ci.key=cg;ci.value=ch;return ci;}}),Slot1:$.Class({Equals:function(cj){return m.Equals(this.key.call(null,this.value),this.key.call(null,cj.get_Value()));},GetHashCode:function(){return m.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(ck,cl){return n.New(ck,cl);}}),U:function(){return;}},An:$.Class({},{Append:function(cm,cn){return $.New(o,{$:0,$0:p.Append(cm.$0,cn.$0)});},Concat:function(co){return $.New(o,{$:0,$0:p.Concat(d.map(function(cp){return q.List(cp);},co))});},Const:function(cq){return q.Const(cq);},Delayed:function(cr,cs,ct,cu,cv,cw){return{Compute:function(cx){return cx<=cu?cv:cr.Interpolate(cs.TransformTime.call(null,(cx-cu)/ct),cv,cw);},Duration:ct+cu};},Map:function(cy,cz){var cA;cA=cz.Compute;return q.Def(cz.Duration,function(cB){return cy(cA(cB));});},Pack:function(cC){return $.New(o,{$:0,$0:p.Single({$:1,$0:cC})});},Play:function(cD){return b.Delay(function(){return b.Bind(o.Run(function(){},q.Actions(cD)),function(){return b.Return(q.Finalize(cD));});});},Run:function(cH,cI){var cJ;cJ=cI.Duration;return b.FromContinuations(function(cK){var cL,cM,cN;cL=cK[0];cM=function(){r.requestAnimationFrame(function(cP){return cN(cP,cP);});};cN=function(cQ,cR){var cS;cS=cR-cQ;cH(cI.Compute.call(null,cS));return cS<=cJ?void r.requestAnimationFrame(function(cT){return cN(cQ,cT);}):cL(null);};return cM(null);});},Simple:function(cU,cV,cW,cX,cY){return{Compute:function(cZ){return cU.Interpolate(cV.TransformTime.call(null,cZ/cW),cX,cY);},Duration:cW};},WhenDone:function(c0,c1){return o.Append($.New(o,{$:0,$0:p.Single({$:0,$0:c0})}),c1);},get_Empty:function(){return $.New(o,{$:0,$0:p.Empty()});}}),Anims:{Actions:function(c2){return q.ConcatActions(a.choose(function(c3){return c3.$==1?{$:1,$0:c3.$0}:{$:0};},p.ToArray(c2.$0)));},ConcatActions:function(c4){var c5,c6,c7,c9;c5=d.toArray(c4);c6=a.length(c5);if(c6===0){return q.Const(null);}else{if(c6===1){return a.get(c5,0);}else{c7=d.max(d.map(function(c8){return c8.Duration;},c5));c9=a.map(function(c_){return q.Prolong(c7,c_);},c5);return q.Def(c7,function(c$){return a.iter(function(da){return da.Compute.call(null,c$);},c9);});}}},Const:function(db){return q.Def(0,function(){return db;});},Def:function(dd,de){return{Compute:de,Duration:dd};},Finalize:function(df){return a.iter(function(dg){return dg.$==0?dg.$0.call(null,null):null;},p.ToArray(df.$0));},List:function(dh){return dh.$0;},Prolong:function(di,dj){var dk,dl,dm;dk=dj.Compute;dl=dj.Duration;dm=s.Create(function(){return dj.Compute.call(null,dj.Duration);});return{Compute:function(_do){return _do>=dl?dm.eval():dk(_do);},Duration:di};}},AppendList1:{Append:function(dp,dq){var dr;dr=[dp,dq];return dr[0].$==0?dr[1]:dr[1].$==0?dr[0]:{$:2,$0:dp,$1:dq};},Concat:function(ds){var dt;dt=d.toArray(ds);return t.MapReduce(function(du){return du;},p.Empty(),function(dv){return function(dw){return p.Append(dv,dw);};},dt);},Empty:function(){return{$:0};},FromArray:function(dx){var dy;dy=dx.length;return dy===0?{$:0}:dy===1?{$:1,$0:a.get(dx,0)}:{$:3,$0:dx.slice()};},Single:function(dz){return{$:1,$0:dz};},ToArray:function(dA){var dB,dC;dB=[];dC=function(dD){var dE;if(dD.$==1){return l.Add(dD.$0,dB);}else{if(dD.$==2){dE=dD.$1;dC(dD.$0);return dC(dE);}else{return dD.$==3?a.iter(function(dF){return l.Add(dF,dB);},dD.$0):null;}}};dC(dA);return l.ToArray(dB);}},Client:{AnimatedAttrNode:$.Class({GetChangeAnim:function(dG){var dH,dJ=this;dH=[this.visible,this.logical];return o.WhenDone(function(){return dJ.sync(dG);},dH[0].$==1?dH[1].$==1?dJ.dirty?o.Pack(o.Map(function(dK){return dJ.pushVisible(dG,dK);},u.AnimateChange(dJ.tr,dH[0].$0,dH[1].$0))):o.get_Empty():o.get_Empty():o.get_Empty());},GetEnterAnim:function(dL){var dM,dO=this;dM=[this.visible,this.logical];return o.WhenDone(function(){return dO.sync(dL);},dM[0].$==1?dM[1].$==1?dO.dirty?o.Pack(o.Map(function(dP){return dO.pushVisible(dL,dP);},u.AnimateChange(dO.tr,dM[0].$0,dM[1].$0))):dM[0].$==0?dM[1].$==1?o.Pack(o.Map(function(dQ){return dO.pushVisible(dL,dQ);},u.AnimateEnter(dO.tr,dM[1].$0))):o.get_Empty():o.get_Empty():dM[0].$==0?dM[1].$==1?o.Pack(o.Map(function(dR){return dO.pushVisible(dL,dR);},u.AnimateEnter(dO.tr,dM[1].$0))):o.get_Empty():o.get_Empty():dM[0].$==0?dM[1].$==1?o.Pack(o.Map(function(dS){return dO.pushVisible(dL,dS);},u.AnimateEnter(dO.tr,dM[1].$0))):o.get_Empty():o.get_Empty());},GetExitAnim:function(dT){var dU,dW=this;dU=this.visible;return o.WhenDone(function(){dW.dirty=true;dW.visible={$:0};return;},dU.$==1?o.Pack(o.Map(function(dX){return dW.pushVisible(dT,dX);},u.AnimateExit(dW.tr,dU.$0))):o.get_Empty());},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(dZ,d0){this.visible={$:1,$0:d0};this.dirty=true;return(this.push.call(null,dZ))(d0);},sync:function(d1){if(this.dirty){v.iter(this.push.call(null,d1),this.logical);this.visible=this.logical;this.dirty=false;return;}else{return null;}}},{New:function(d2,d3,d4){var d5;d5=$.New(this,{});d5.tr=d2;d5.push=d4;d5.logical={$:0};d5.visible={$:0};d5.dirty=true;d5.updates=w.Map(function(d6){d5.logical={$:1,$0:d6};d5.dirty=true;return;},d3);return d5;}}),Attr:{Animated:function(d7,d8,d9,d_){return y.Animated(d8,d9,function(d$){return function(ea){return z.SetAttr(d$,d7,d_(ea));};});},AnimatedStyle:function(eb,ec,ed,ee){return y.Animated(ec,ed,function(ef){return function(eg){return z.SetStyle(ef,eb,ee(eg));};});},Class:function(eh){return y.Static(function(ei){return z.AddClass(ei,eh);});},Dynamic:function(ej,ek){return y.Dynamic(ek,function(el){return function(em){return z.SetAttr(el,ej,em);};});},DynamicClass:function(en,eo,ep){return y.Dynamic(eo,function(eq){return function(er){return ep(er)?z.AddClass(eq,en):z.RemoveClass(eq,en);};});},DynamicCustom:function(es,et){return y.Dynamic(et,es);},DynamicPred:function(eu,ev,ew){var ex;ex=function(ey){return function(ez){var eA;eA=ez[1];return ez[0]?z.SetAttr(ey,eu,eA):z.RemoveAttr(ey,eu);};};return y.Dynamic(w.Map2(function(eB){return function(eC){return[eB,eC];};},ev,ew),ex);},DynamicProp:function(eD,eE){return y.Dynamic(eE,function(eF){return function(eG){eF[eD]=eG;};});},DynamicStyle:function(eH,eI){return y.Dynamic(eI,function(eJ){return function(eK){return z.SetStyle(eJ,eH,eK);};});},Handler:function(eL,eM){return y.Static(function(eN){return eN.addEventListener(eL,eM(eN),false);});},Style:function(eO,eP){return y.Static(function(eQ){return z.SetStyle(eQ,eO,eP);});},Value:function(eR){var eS;eS=function(eT){return function(){return!m.Equals(eT.value,eR.get_Value())?A.Set(eR,eT.value):null;};};return B.Concat(C.ofArray([D.Handler("change",eS),D.Handler("input",eS),y.Dynamic(eR.get_View(),function(eV){return function(eW){return!m.Equals(eW,eV.value)?void(eV.value=eW):null;};})]));}},AttrProxy:$.Class({},{Append:function(eX,eY){return y.Mk(eX.Flags|eY.Flags,y.AppendTree(eX.Tree,eY.Tree));},Concat:function(eZ){var e0;e0=d.toArray(eZ);return t.MapReduce(function(e1){return e1;},B.get_Empty(),function(e2){return function(e3){return B.Append(e2,e3);};},e0);},Create:function(e4,e5){return y.Static(function(e6){return z.SetAttr(e6,e4,e5);});},Handler:function(e7,e8){return y.Static(function(e9){return e9.addEventListener(e7,e8(e9),false);});},get_Empty:function(){return y.EmptyAttr();}}),Attrs:{Animated:function(e_,e$,fa){var fb,fc;fb=E.New(e_,e$,fa);fc=4;if(u.CanAnimateEnter(e_)){fc=fc|1;}if(u.CanAnimateExit(e_)){fc=fc|2;}return y.Mk(fc,{$:1,$0:fb});},AppendTree:function(fd,fe){var ff;ff=[fd,fe];return ff[0].$==0?ff[1]:ff[1].$==0?ff[0]:{$:2,$0:fd,$1:fe};},Dynamic:function(fg,fh){return y.Mk(0,{$:1,$0:F.New(fg,fh)});},EmptyAttr:$.Field(function(){return y.Mk(0,{$:0});}),GetAnim:function(fi,fj){return o.Concat(a.map(function(fk){return(fj(fk))(fi.DynElem);},fi.DynNodes));},GetChangeAnim:function(fl){return y.GetAnim(fl,function(fm){return function(fn){return fm.GetChangeAnim(fn);};});},GetEnterAnim:function(fo){return y.GetAnim(fo,function(fp){return function(fq){return fp.GetEnterAnim(fq);};});},GetExitAnim:function(fr){return y.GetAnim(fr,function(fs){return function(ft){return fs.GetExitAnim(ft);};});},HasChangeAnim:function(fu){return(fu.DynFlags&4)!==0;},HasEnterAnim:function(fv){return(fv.DynFlags&1)!==0;},HasExitAnim:function(fw){return(fw.DynFlags&2)!==0;},Insert:function(fx,fy){var fz,fA;fz=[];fA=function(fB){var fC;if(fB.$==1){return l.Add(fB.$0,fz);}else{if(fB.$==2){fC=fB.$1;fA(fB.$0);return fA(fC);}else{return fB.$==3?fB.$0.call(null,fx):null;}}};fA(fy.Tree);return{DynElem:fx,DynFlags:fy.Flags,DynNodes:l.ToArray(fz)};},Mk:function(fD,fE){return $.New(B,{Flags:fD,Tree:fE});},Static:function(fF){return y.Mk(0,{$:3,$0:fF});},Sync:function(fG,fH){return a.iter(function(fI){return fI.Sync(fG);},fH.DynNodes);},Updates:function(fJ){var fK,fP;fK=function(fL){return function(fM){return w.Map2(function(){return function(){return null;};},fL,fM);};};fP=fJ.DynNodes;return t.MapReduce(function(fQ){return fQ.get_Changed();},G.Const(null),fK,fP);}},Doc:$.Class({ReplaceInDom:function(fR){var fS,fT,fU,fV,fW,fY=this;fS=H.createTextNode("");fT=H.createTextNode("");fU=fR.parentNode;fU.replaceChild(fT,fR);fU.insertBefore(fS,fT);I.LinkPrevElement(fT,this.docNode);fV=I.CreateDelimitedRunState(fS,fT,this.docNode);fW=this.updates;return G.Sink(J.StartProcessor(function(){return I.PerformAnimatedUpdate(fV,fY.docNode);}),fW);},get_DocNode:function(){return this.docNode;},get_ToDynDoc:function(){return;},get_Updates:function(){return this.updates;}},{Append:function(fZ,f0){var f1;f1=w.Map2(function(){return function(){return null;};},fZ.get_Updates(),f0.get_Updates());return K.Mk({$:0,$0:fZ.get_DocNode(),$1:f0.get_DocNode()},f1);},AsPagelet:function(f4){return L.New(f4);},Button:function(f5,f6,f7){var f8;f8=B.Concat(f6);return M.New1(K.Clickable("button",f7),f8,K.TextNode(f5));},CheckBox:function(f9,f_){var f$;f$=z.CreateElement("input");f$.addEventListener("click",function(){return A.Set(f_,f$.checked);},false);return M.New1(f$,B.Concat(d.toList(d.delay(function(){return d.append(f9,d.delay(function(){return d.append([B.Create("type","checkbox")],d.delay(function(){return[D.DynamicProp("checked",f_.get_View())];}));}));}))),K.get_Empty());},CheckBoxGroup:function(ge,gf,gg){var gh,gi,gk,gm,gn;gh=w.FromVar(gg);gi=function(gj){return m.Equals(gj,gf);};gk=w.Map(function(gl){return d.exists(gi,gl);},gh);gm=B.Concat(C.append(C.ofArray([B.Create("type","checkbox"),B.Create("name",$$.String(N.GetId(gg))),B.Create("value",h.Id()),D.DynamicProp("checked",gk)]),C.ofSeq(ge)));gn=z.CreateElement("input");gn.addEventListener("click",function(){var gp;gp=gn.checked;return N.Update(gg,function(gq){return d.toList(O.distinct(gp?C.append(gq,C.ofArray([gf])):C.filter(function(gr){return!m.Equals(gr,gf);},gq)));});},false);return M.New1(gn,gm,K.get_Empty());},Clickable:function(gs,gt){var gu;gu=z.CreateElement(gs);gu.addEventListener("click",function(gv){gv.preventDefault();return gt(null);},false);return gu;},Concat:function(gw){var gx;gx=d.toArray(gw);return t.MapReduce(function(gy){return gy;},K.get_Empty(),function(gz){return function(gA){return K.Append(gz,gA);};},gx);},Convert:function(gB,gC){return K.Flatten(w.Convert(gB,gC));},ConvertBy:function(gD,gE,gF){return K.Flatten(w.ConvertBy(gD,gE,gF));},ConvertSeq:function(gG,gH){return K.Flatten(w.ConvertSeq(gG,gH));},ConvertSeqBy:function(gI,gJ,gK){return K.Flatten(w.ConvertSeqBy(gI,gJ,gK));},Element:function(gL,gM,gN){var gO,gP;gO=B.Concat(gM);gP=K.Concat(gN);return M.New1(z.CreateElement(gL),gO,gP);},EmbedView:function(gQ){var gR,gS;gR=I.CreateEmbedNode();gS=w.Map(function(){},G.Bind(function(gU){I.UpdateEmbedNode(gR,gU.get_DocNode());return gU.get_Updates();},gQ));return K.Mk({$:2,$0:gR},gS);},Flatten:function(gV){return K.EmbedView(w.Map(function(gW){return K.Concat(gW);},gV));},FloatInput:function(gX,gY){return K.InputInternal(gX,gY,{$:1,$0:"number"});},Input:function(gZ,g0){return K.InputInternal(gZ,g0,{$:0});},InputArea:function(g1,g2){return K.InputInternal(g1,g2,{$:2});},InputInternal:function(g3,g4,g5){var g6,g7;g6=g5.$==1?[B.Append(B.Create("type",g5.$0),B.Concat(g3)),"input"]:g5.$==2?[B.Concat(g3),"textarea"]:[B.Concat(g3),"input"];g7=g6[0];return M.New1(z.CreateElement(g6[1]),B.Append(g7,D.Value(g4)),K.get_Empty());},IntInput:function(g8,g9){return K.InputInternal(g8,g9,{$:1,$0:"number"});},Link:function(g_,g$,ha){var hb,hc;hb=B.Concat(g$);hc=B.Append(B.Create("href","#"),hb);return M.New1(K.Clickable("a",ha),hc,K.TextNode(g_));},Mk:function(hd,he){return K.New(hd,he);},New:function(hf,hg){var hh;hh=$.New(this,{});hh.docNode=hf;hh.updates=hg;return hh;},PasswordBox:function(hi,hj){return K.InputInternal(hi,hj,{$:1,$0:"password"});},Radio:function(hk,hl,hm){var hn,hp,hr;hn=z.CreateElement("input");hn.addEventListener("click",function(){return A.Set(hm,hl);},false);hp=D.DynamicProp("checked",w.Map(function(hq){return m.Equals(hq,hl);},hm.get_View()));hr=function(hs,ht){return B.Create(hs,ht);};return M.New1(hn,B.Concat(C.append(C.ofArray([hr("type","radio"),hr("name",$$.String(N.GetId(hm))),hp]),C.ofSeq(hk))),K.get_Empty());},Run:function(hu,hv){var hw,hx;hw=hv.get_DocNode();I.LinkElement(hu,hw);hx=I.CreateRunState(hu,hw);return G.Sink(J.StartProcessor(function(){return I.PerformAnimatedUpdate(hx,hw);}),hv.get_Updates());},RunById:function(hz,hA){var hB;hB=z.Doc().getElementById(hz);return m.Equals(hB,null)?P.FailWith("invalid id: "+hz):K.Run(hB,hA);},Select:function(hC,hD,hE,hF){var hG,hK,hL,hM,hO;hG=function(hH){return function(hI){hH.selectedIndex=d.findIndex(function(hJ){return m.Equals(hI,hJ);},hE);};};hK=z.CreateElement("select");hL=w.FromVar(hF);hM=D.DynamicCustom(hG,hL);hK.addEventListener("change",function(){return A.Set(hF,hE.get_Item(hK.selectedIndex));},false);hO=K.Concat(C.mapi(function(hP){return function(hQ){var hR;hR=K.TextNode(hD(hQ));return K.Element("option",C.ofArray([B.Create("value",$$.String(hP))]),C.ofArray([hR]));};},hE));return M.New1(hK,B.Append(hM,B.Concat(hC)),hO);},Static:function(hS){return M.New1(hS,B.get_Empty(),K.get_Empty());},SvgElement:function(hT,hU,hV){var hW,hX;hW=B.Concat(hU);hX=K.Concat(hV);return M.New1(z.CreateSvgElement(hT),hW,hX);},TextNode:function(hY){return K.Mk({$:5,$0:z.CreateText(hY)},G.Const(null));},TextView:function(hZ){var h0,h1;h0=I.CreateTextNode();h1=w.Map(function(h2){return I.UpdateTextNode(h0,h2);},hZ);return K.Mk({$:4,$0:h0},h1);},get_Empty:function(){return K.Mk({$:3},G.Const(null));}}),DocElemNode:$.Class({Equals:function(h3){return this.ElKey===h3.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(h4,h5){var h6,h8;h6=function(h7){return y.HasChangeAnim(h7.Attr);};h8=function(h9){return Q.Filter(h6,h9);};return o.Concat(a.map(function(h_){return y.GetChangeAnim(h_.Attr);},Q.ToArray(Q.Intersect(h8(h4.PreviousNodes),h8(h5)))));},ComputeEnterAnim:function(h$,ia){return o.Concat(a.map(function(ib){return y.GetEnterAnim(ib.Attr);},Q.ToArray(Q.Except(h$.PreviousNodes,Q.Filter(function(ic){return y.HasEnterAnim(ic.Attr);},ia)))));},ComputeExitAnim:function(id,ie){return o.Concat(a.map(function(_if){return y.GetExitAnim(_if.Attr);},Q.ToArray(Q.Except(ie,Q.Filter(function(ig){return y.HasExitAnim(ig.Attr);},id.PreviousNodes)))));},CreateDelimitedElemNode:function(ih,ii,ij,ik){var il;il=ih.parentNode;I.LinkPrevElement(ii,ik);return $.New(R,{Attr:y.Insert(il,ij),Children:ik,Delimiters:[ih,ii],El:il,ElKey:h.Int()});},CreateDelimitedRunState:function(im,_in,io){return{PreviousNodes:Q.get_Empty(),Top:I.CreateDelimitedElemNode(im,_in,B.get_Empty(),io)};},CreateElemNode:function(ip,iq,ir){I.LinkElement(ip,ir);return $.New(R,{Attr:y.Insert(ip,iq),Children:ir,El:ip,ElKey:h.Int()});},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(is,it){return{PreviousNodes:Q.get_Empty(),Top:I.CreateElemNode(is,B.get_Empty(),it)};},CreateTextNode:function(){return{Text:z.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(iu){var iv,iw,iA,iC;iv=iu.El;iw=function(ix,iy){var iz;if(ix.$==1){return{$:1,$0:ix.$0.El};}else{if(ix.$==2){iz=ix.$0;if(iz.Dirty){iz.Dirty=false;return I.InsertDoc(iv,iz.Current,iy);}else{return iw(iz.Current,iy);}}else{return ix.$==3?iy:ix.$==4?{$:1,$0:ix.$0.Text}:ix.$==5?{$:1,$0:ix.$0}:iw(ix.$0,iw(ix.$1,iy));}}};iA=iu.El;S.Iter(function(iB){return z.RemoveNode(iA,iB);},S.Except(S.DocChildren(iu),S.Children(iu.El,$.GetOptional(iu.Delimiters))));iC=$.GetOptional(iu.Delimiters);iw(iu.Children,iC.$==1?{$:1,$0:iC.$0[1]}:{$:0});return;},DomNodes:$.Class({},{Children:function(iD,iE){var iF,iG,iH,iI,iJ;if(iE.$==1){iF=iE.$0[1];iG=iE.$0[0];iH=c.prototype.constructor.apply(c,[]);iI=iG.nextSibling;while(iI!==iF){iH.push(iI);iI=iI.nextSibling;}return $.New(S,{$:0,$0:iH});}else{iJ=iD.childNodes;return $.New(S,{$:0,$0:a.init(iD.childNodes.length,function(iK){return iJ[iK];})});}},DocChildren:function(iL){var iM,iN;iM=[];iN=function(iO){var iP;if(iO.$==2){return iN(iO.$0.Current);}else{if(iO.$==1){return l.Add(iO.$0.El,iM);}else{if(iO.$==3){return null;}else{if(iO.$==5){return null;}else{if(iO.$==4){return l.Add(iO.$0.Text,iM);}else{iP=iO.$1;iN(iO.$0);return iN(iP);}}}}}};iN(iL.Children);return $.New(S,{$:0,$0:l.ToArray(iM)});},Except:function(iQ,iR){var iS;iS=iQ.$0;return $.New(S,{$:0,$0:a.filter(function(iT){return d.forall(function(iU){return!(iT===iU);},iS);},iR.$0)});},FoldBack:function(iV,iW,iX){return a.foldBack(iV,iW.$0,iX);},Iter:function(iY,iZ){return a.iter(iY,iZ.$0);}}),InsertDoc:function(i0,i1,i2){var i3;if(i1.$==1){return I.InsertNode(i0,i1.$0.El,i2);}else{if(i1.$==2){i3=i1.$0;i3.Dirty=false;return I.InsertDoc(i0,i3.Current,i2);}else{return i1.$==3?i2:i1.$==4?I.InsertNode(i0,i1.$0.Text,i2):i1.$==5?I.InsertNode(i0,i1.$0,i2):I.InsertDoc(i0,i1.$0,I.InsertDoc(i0,i1.$1,i2));}}},InsertNode:function(i4,i5,i6){z.InsertAt(i4,i6,i5);return{$:1,$0:i5};},LinkElement:function(i7,i8){I.InsertDoc(i7,i8,{$:0});},LinkPrevElement:function(i9,i_){I.InsertDoc(i9.parentNode,i_,{$:1,$0:i9});},NodeSet:$.Class({},{Except:function(i$,ja){return $.New(Q,{$:0,$0:k.Except(i$.$0,ja.$0)});},Filter:function(jb,jc){return $.New(Q,{$:0,$0:k.Filter(jb,jc.$0)});},FindAll:function(jd){var je,jf;je=[];jf=function(jg){var jh,ji;if(jg.$==0){jh=jg.$1;jf(jg.$0);return jf(jh);}else{if(jg.$==1){ji=jg.$0;l.Add(ji,je);return jf(ji.Children);}else{return jg.$==2?jf(jg.$0.Current):null;}}};jf(jd);return $.New(Q,{$:0,$0:j.New(l.ToArray(je))});},Intersect:function(jj,jk){return $.New(Q,{$:0,$0:k.Intersect(jj.$0,jk.$0)});},IsEmpty:function(jl){return jl.$0.get_Count()===0;},ToArray:function(jm){return k.ToArray(jm.$0);},get_Empty:function(){return $.New(Q,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(jn,jo){return b.Delay(function(){var jq,jr,js;jq=Q.FindAll(jo);jr=I.ComputeChangeAnim(jn,jq);js=I.ComputeEnterAnim(jn,jq);return b.Bind(o.Play(o.Append(jr,I.ComputeExitAnim(jn,jq))),function(){I.SyncElemNode(jn.Top);return b.Bind(o.Play(js),function(){return b.Return(void(jn.PreviousNodes=jq));});});});},Sync:function(jv){var jw;jw=function(jx){var jy,jz,jA;if(jx.$==1){jy=jx.$0;I.SyncElement(jy);return jw(jy.Children);}else{if(jx.$==2){return jw(jx.$0.Current);}else{if(jx.$==3){return null;}else{if(jx.$==5){return null;}else{if(jx.$==4){jz=jx.$0;if(jz.Dirty){jz.Text.nodeValue=jz.Value;jz.Dirty=false;return;}else{return null;}}else{jA=jx.$1;jw(jx.$0);return jw(jA);}}}}}};return jw(jv);},SyncElemNode:function(jB){I.SyncElement(jB);return I.Sync(jB.Children);},SyncElement:function(jC){var jD;y.Sync(jC.El,jC.Attr);jD=function(jE){var jF,jG;if(jE.$==0){jF=jE.$1;return jD(jE.$0)?true:jD(jF);}else{if(jE.$==2){jG=jE.$0;return jG.Dirty?true:jD(jG.Current);}else{return false;}}};return jD(jC.Children)?I.DoSyncElement(jC):null;},UpdateEmbedNode:function(jH,jI){jH.Current=jI;jH.Dirty=true;return;},UpdateTextNode:function(jJ,jK){jJ.Value=jK;jJ.Dirty=true;return;}},DynamicAttrNode:$.Class({GetChangeAnim:function(){return o.get_Empty();},GetEnterAnim:function(){return o.get_Empty();},GetExitAnim:function(){return o.get_Empty();},Sync:function(jO){if(this.dirty){(this.push.call(null,jO))(this.value);this.dirty=false;return;}else{return null;}},get_Changed:function(){return this.updates;}},{New:function(jP,jQ){var jR;jR=$.New(this,{});jR.push=jQ;jR.value=g.U();jR.dirty=true;jR.updates=w.Map(function(jS){jR.value=jS;jR.dirty=true;return;},jP);return jR;}}),Elt:$.Class({AddClass:function($cls){var $this=this;return $this.elt.className+=" "+$cls;},Append:function(jT){var jU;jU=this.get_DocElemNode();jU.Children={$:0,$0:jU.Children,$1:jT.get_DocNode()};this.rvUpdates.set_Value(w.Map2(function(){return function(){return null;};},this.rvUpdates.get_Value(),jT.get_Updates()));I.InsertDoc(this.elt,jT.get_DocNode(),{$:0});return;},Clear:function(){this.get_DocElemNode().Children={$:3};this.rvUpdates.set_Value(G.Const(null));while(this.elt.hasChildNodes()){this.elt.removeChild(this.elt.firstChild);}return;},GetAttribute:function(jX){return this.elt.getAttribute(jX);},GetProperty:function(jY){return this.elt[jY];},GetText:function(){return this.elt.textContent;},GetValue:function(){return this.elt.value;},HasAttribute:function(jZ){return this.elt.hasAttribute(jZ);},HasClass:function(j0){return(new T("(\\s|^)"+j0+"(\\s|$)")).test(this.elt.className);},Html:function(){return this.elt.outerHTML;},Id:function(){return this.elt.id;},On:function(j1,j2){return this.elt.addEventListener(j1,j2(this.elt),false);},Prepend:function(j3){var j4,j7,j8;j4=this.get_DocElemNode();j4.Children={$:0,$0:j3.get_DocNode(),$1:j4.Children};this.rvUpdates.set_Value(w.Map2(function(){return function(){return null;};},this.rvUpdates.get_Value(),j3.get_Updates()));j7=this.elt.firstChild;j8=m.Equals(j7,null)?{$:0}:{$:1,$0:j7};I.InsertDoc(this.elt,j3.get_DocNode(),j8);return;},RemoveAttribute:function(j9){return this.elt.removeAttribute(j9);},RemoveClass:function(j_){this.elt.className=this.elt.className.replace(new T("(\\s|^)"+j_+"(\\s|$)")," ");},SetAttribute:function(j$,ka){return this.elt.setAttribute(j$,ka);},SetProperty:function(kb,kc){this.elt[kb]=kc;},SetStyle:function(kd,ke){this.elt.style[kd]=ke;},SetText:function(kf){this.get_DocElemNode().Children={$:3};this.rvUpdates.set_Value(G.Const(null));this.elt.textContent=kf;return;},SetValue:function(kg){this.elt.value=kg;},get_DocElemNode:function(){var kh;kh=this.docNode1;return kh.$==1?kh.$0:P.FailWith("Elt: Invalid docNode");},get_Element:function(){return this.elt;}},{New:function(ki,kj,kk,kl){var kn;kn=$.New(this,K.New(ki,kj));kn.docNode1=ki;kn.elt=kk;kn.rvUpdates=kl;return kn;},New1:function(ko,kp,kq){var kr,ks,kt,ku,kx;kr=I.CreateElemNode(ko,kp,kq.get_DocNode());ks=A.Create(kq.get_Updates());kt=y.Updates(kr.Attr);ku=function(){return function(){return null;};};kx=G.Bind(function(ky){return w.Map2(ku,kt,ky);},ks.get_View());return M.New({$:1,$0:kr},kx,ko,ks,kt);}}),UINextPagelet:$.Class({Render:function(){return K.RunById(this.divId,this.doc);},get_Body:function(){return this.body;}},{New:function(kz){var kA,kB,kC;kA=$.New(this,W.New());kA.doc=kz;kA.divId=h.Id();kC=kA.divId;kB=C.ofArray([X.Attr().NewAttr("id",kC)]);kA.body=Y.Tags().NewTag("div",kB).get_Body();return kA;}})},DomUtility:{AddClass:function(kD,kE){Z(kD).addClass(kE);},AppendTo:function(kF,kG){kF.appendChild(kG);},Clear:function(kH){while(kH.hasChildNodes()){kH.removeChild(kH.firstChild);}return;},ClearAttrs:function(kI){while(kI.hasAttributes()){kI.removeAttributeNode(kI.attributes.item(0));}return;},CreateAttr:function(kJ,kK){var kL;kL=z.Doc().createAttribute(kJ);kL.value=kK;return kL;},CreateElement:function(kM){return z.Doc().createElement(kM);},CreateSvgElement:function(kN){return z.Doc().createElementNS("http://www.w3.org/2000/svg",kN);},CreateText:function(kO){return z.Doc().createTextNode(kO);},Doc:$.Field(function(){return H;}),InsertAt:function(kP,kQ,kR){var kS,kT,kU;if(kR.parentNode===kP){kT=kR.nextSibling;kU=[kQ,m.Equals(kT,null)?{$:0}:{$:1,$0:kT}];kS=kU[0].$==1?kU[1].$==1?kU[0].$0===kU[1].$0:false:kU[1].$==0?true:false;}else{kS=false;}return!kS?kQ.$==1?void kP.insertBefore(kR,kQ.$0):void kP.appendChild(kR):null;},RemoveAttr:function(kV,kW){return kV.removeAttribute(kW);},RemoveClass:function(kX,kY){Z(kX).removeClass(kY);},RemoveNode:function(kZ,k0){return k0.parentNode===kZ?void kZ.removeChild(k0):null;},SetAttr:function(k1,k2,k3){return k1.setAttribute(k2,k3);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(k4,k5,k6){return z.SetProperty(k4.style,k5,k6);}},DoubleInterpolation:$.Class({Interpolate:function(k7,k8,k9){return k8+k7*(k9-k8);}}),Easing:$.Class({},{Custom:function(k_){return $.New(_0,{TransformTime:k_});},get_CubicInOut:function(){return _1.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){return $.New(_0,{TransformTime:function(k$){var la;la=k$*k$;return 3*la-2*(la*k$);}});})},Flow:$.Class({},{Bind:function(lb,lc){return{Render:function(ld){return function(le){return(lb.Render.call(null,ld))(function(lf){return(lc(lf).Render.call(null,ld))(le);});};}};},Map:function(lg,lh){return{Render:function(li){return function(lj){return(lh.Render.call(null,li))(function(lk){return lj(lg(lk));});};}};},Return:function(ll){return{Render:function(){return function(ln){return ln(ll);};}};},get_Do:function(){return _2.New();}}),Flow1:$.Class({},{Define:function(lo){return{Render:function(lp){return function(lq){return A.Set(lp,lo(lq));};}};},Embed:function(lr){var ls;ls=A.Create(K.get_Empty());(lr.Render.call(null,ls))(function(){});return K.EmbedView(ls.get_View());},Static:function(lu){return{Render:function(lv){return function(lw){A.Set(lv,lu);return lw(null);};}};}}),FlowBuilder:$.Class({Bind:function(lx,ly){return _3.Bind(lx,ly);},Return:function(lz){return _3.Return(lz);},ReturnFrom:function(lA){return lA;}},{New:function(){return $.New(this,{});}}),Html:{attr:$.Class({},{New:function(){return $.New(this,{});}})},Input:{ActivateButtonListener:$.Field(function(){var lB,lF;lB=function(lC,lD){var lE;lE=lC.button;return lE===0?A.Set(_4.MouseBtnSt1().Left,lD):lE===1?A.Set(_4.MouseBtnSt1().Middle,lD):lE===2?A.Set(_4.MouseBtnSt1().Right,lD):null;};if(!_4.MouseBtnSt1().Active){_4.MouseBtnSt1().Active=true;H.addEventListener("mousedown",function(lG){return lB(lG,true);},false);lF=H.addEventListener("mouseup",function(lH){return lB(lH,false);},false);}else{lF=null;}return lF;}),ActivateKeyListener:$.Field(function(){var lI;if(!_4.KeyListenerState().KeyListenerActive){Z(H).keydown(function(lJ){var lK,lL;lK=lJ.which;A.Set(_4.KeyListenerState().LastPressed,lK);lL=A.Get(_4.KeyListenerState().KeysPressed);return!d.exists(function(lM){return lM===lK;},lL)?_4.KeyListenerState().KeysPressed.set_Value(C.append(lL,C.ofArray([lK]))):null;});lI=void Z(H).keyup(function(lN){var lO,lP,lR;lO=lN.which;lP=function(lQ){return lQ!==lO;};lR=function(lS){return C.filter(lP,lS);};return N.Update(_4.KeyListenerState().KeysPressed,lR);});}else{lI=null;}return lI;}),KeyListenerState:$.Field(function(){return{KeysPressed:A.Create($.New(_5,{$:0})),KeyListenerActive:false,LastPressed:A.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(lT){var lU;_4.ActivateKeyListener();lU=function(lV){return lV===lT;};return w.Map(function(lW){return d.exists(lU,lW);},_4.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){_4.ActivateKeyListener();return _4.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){_4.ActivateKeyListener();return _4.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){_4.ActivateButtonListener();return _4.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){_4.ActivateButtonListener();return _4.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){_4.ActivateButtonListener();return G.Apply(G.Apply(G.Apply(G.Const(function(lX){return function(lY){return function(lZ){return(lX?true:lY)?true:lZ;};};}),_4.MouseBtnSt1().Left.get_View()),_4.MouseBtnSt1().Middle.get_View()),_4.MouseBtnSt1().Right.get_View());},get_Position:function(){var l0;l0=function(l1){return A.Set(_4.MousePosSt1().PosV,[l1.clientX,l1.clientY]);};if(!_4.MousePosSt1().Active){H.addEventListener("mousemove",l0,false);_4.MousePosSt1().Active=true;}return w.FromVar(_4.MousePosSt1().PosV);},get_RightPressed:function(){_4.ActivateButtonListener();return _4.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:A.Create(false),Middle:A.Create(false),Right:A.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:A.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(_6,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_7,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(l2){var l3,l5=this;l3=this.Var.get_Value();if(!_8.Contains(this.Key,l2,l3)){l3.push(l2);return this.Var.set_Value(l3);}else{a.set(l3,a.findINdex(function(l4){return m.Equals(l5.Key.call(null,l4),l5.Key.call(null,l2));},l3),l2);return l5.Var.set_Value(l3);}},Clear:function(){return this.Var.set_Value([]);},ContainsKey:function(l6){var l8=this;return d.exists(function(l7){return m.Equals(l8.Key.call(null,l7),l6);},l8.Var.get_Value());},ContainsKeyAsView:function(l9){var l_,ma=this;l_=function(l$){return m.Equals(ma.Key.call(null,l$),l9);};return w.Map(function(mb){return d.exists(l_,mb);},ma.Var.get_View());},Find:function(mc){return a.find(mc,this.Var.get_Value());},FindAsView:function(md){return w.Map(function(me){return a.find(md,me);},this.Var.get_View());},FindByKey:function(mf){var mh=this;return a.find(function(mg){return m.Equals(mh.Key.call(null,mg),mf);},mh.Var.get_Value());},FindByKeyAsView:function(mi){var mj,ml=this;mj=function(mk){return m.Equals(ml.Key.call(null,mk),mi);};return w.Map(function(mm){return a.find(mj,mm);},ml.Var.get_View());},Iter:function(mn){return a.iter(mn,this.Var.get_Value());},Remove:function(mo){var mp,mq,mr;mp=this.Var.get_Value();if(_8.Contains(this.Key,mo,mp)){mq=this.Key;mr=mq(mo);return this.Var.set_Value(a.filter(function(ms){return!m.Equals(mq(ms),mr);},mp));}else{return null;}},RemoveBy:function(mt){return this.Var.set_Value(a.filter(function(mu){return!mt(mu);},this.Var.get_Value()));},RemoveByKey:function(mv){var mx=this;return this.Var.set_Value(a.filter(function(mw){return!m.Equals(mx.Key.call(null,mw),mv);},mx.Var.get_Value()));},Set:function(my){return this.Var.set_Value(a.ofSeq(my));},TryFind:function(mz){return a.tryFind(mz,this.Var.get_Value());},TryFindAsView:function(mA){return w.Map(function(mB){return a.tryFind(mA,mB);},this.Var.get_View());},TryFindByKey:function(mC){var mE=this;return a.tryFind(function(mD){return m.Equals(mE.Key.call(null,mD),mC);},mE.Var.get_Value());},TryFindByKeyAsView:function(mF){var mG,mI=this;mG=function(mH){return m.Equals(mI.Key.call(null,mH),mF);};return w.Map(function(mJ){return a.tryFind(mG,mJ);},mI.Var.get_View());},UpdateAll:function(mK){return N.Update(this.Var,function(mL){a.iteri(function(mM){return function(mN){return v.iter(function(mO){return a.set(mL,mM,mO);},mK(mN));};},mL);return mL;});},UpdateBy:function(mP,mQ){var mR,mS,mU=this,mV,mW;mR=this.Var.get_Value();mS=a.tryFindIndex(function(mT){return m.Equals(mU.Key.call(null,mT),mQ);},mR);if(mS.$==1){mV=mS.$0;mW=mP(a.get(mR,mV));if(mW.$==1){a.set(mR,mV,mW.$0);return mU.Var.set_Value(mR);}else{return null;}}else{return null;}},get_Length:function(){return a.length(this.Var.get_Value());},get_LengthAsView:function(){return w.Map(function(mX){return a.length(mX);},this.Var.get_View());}}),ListModel1:$.Class({},{Create:function(mY,mZ){var m0;m0=A.Create(d.toArray(O.distinctBy(mY,mZ)));return $.New(_9,{Key:mY,Var:m0,View:w.Map(function(m1){return m1.slice();},m0.get_View())});},FromSeq:function(m2){return _.Create(function(m3){return m3;},m2);},View:function(m4){return m4.View;}}),ListModels:{Contains:function(m5,m6,m7){var m8;m8=m5(m6);return d.exists(function(m9){return m.Equals(m5(m9),m8);},m7);}},Model:$.Class({get_View:function(){return ba.View(this);}},{Create:function(m_,m$){var na;na=A.Create(m$);return $.New(bb,{$:0,$0:na,$1:w.Map(m_,na.get_View())});},Update:function(nb,nc){return N.Update(nc.$0,function(nd){nb(nd);return nd;});}}),Model1:$.Class({},{View:function(ne){return ne.$1;}}),Route:{Append:function(nf,ng){return{$:0,$0:p.Append(nf.$0,ng.$0)};},FromList:function(nh){return{$:0,$0:p.FromArray(a.ofSeq(nh))};},MakeHash:function(ni){return bc.concat("/",a.map(function(nj){return bd(nj);},p.ToArray(ni.$0)));},NoHash:function(nk){return bc.StartsWith(nk,"#")?nk.substring(1):nk;},ParseHash:function(nl){return{$:0,$0:p.FromArray(a.map(function(nm){return be(nm);},bc.SplitChars(bf.NoHash(nl),[47],1)))};},SameHash:function(nn,no){return bf.NoHash(nn)===bf.NoHash(no);},ToList:function(np){return C.ofArray(p.ToArray(np.$0));}},RouteMap:$.Class({},{Create:function(nq,nr){return{Des:nr,Ser:nq};},Install:function(ns){return bg.InstallMap(ns);}}),Router1:$.Class({},{Dir:function(nt,nu){return bh.Prefix(nt,bh.Merge(nu));},Install:function(nv,nw){return bg.Install(nv,nw);},Merge:function(nx){return bg.MergeRouters(nx);},Prefix:function(ny,nz){return{$:0,$0:nz.$0,$1:bi.Prefix(ny,nz.$1)};},Route:function(nA,nB,nC){return bg.DefineRoute(nA,nB,nC);}}),Routing:{ComputeBodies:function(nD){var nE;nE=bj.New12();a.iter(function(nF){return nE.set_Item(nF.RouteId,nF);},bi.ToArray(nD));return nE;},DefineRoute:function(nG,nH,nI){var nJ,nK,nL,nM;nJ=A.Create(nH);nK=h.Int();nL=(nI({$:0,$0:nK}))(nJ);nM=bi.Leaf({$:0,$0:nK,$1:function(nN){G.Sink(function(nO){return nN.UpdateRoute.call(null,bg.DoLink(nG,nO));},nJ.get_View());return{OnRouteChanged:function(nP){return nJ.set_Value(bg.DoRoute(nG,nP));},OnSelect:function(){return nN.UpdateRoute.call(null,bg.DoLink(nG,nJ.get_Value()));},RouteId:nK,RouteValue:nL};}});return{$:0,$0:{$:1,$0:nL},$1:nM};},DoLink:function(nR,nS){return bf.FromList(nR.Ser.call(null,nS));},DoRoute:function(nT,nU){return nT.Des.call(null,bf.ToList(nU));},Install:function(nV,nW){var nX,nY,nZ,n2,n3,n8,n_,n$,oa,oc;nX=nW.$0;nY=nW.$1;nZ=bg.InstallMap({Des:function(n0){return bf.FromList(n0);},Ser:function(n1){return bf.ToList(n1);}});n2={Bodies:g.U(),CurrentRoute:nZ,CurrentSite:0,Selection:g.U()};n3=bi.Map(function(n4){return function(n5){var n6;n6=n5.$0;return n5.$1.call(null,{UpdateRoute:function(n7){return bg.OnInternalSiteUpdate(n2,n6,n4,n7);}});};},nY);n2.Bodies=bg.ComputeBodies(n3);n8=function(n9){return bi.Lookup(n3,bf.ToList(n9));};n_=n8(nZ.get_Value());if(n_.$==0){oa=n_.$0;n2.CurrentSite=oa.RouteId;n$=A.Create(oa.RouteValue);}else{n$=A.Create(nX.$==1?nX.$0:P.FailWith("Site.Install fails on empty site"));}n2.Selection=n$;G.Sink(function(ob){return bg.OnSelectSite(n2,nV(ob));},n$.get_View());oc=function(od){var oe;oe=n8(od);return oe.$==1?null:bg.OnGlobalRouteChange(n2,oe.$0,bf.FromList(oe.$1));};oc(nZ.get_Value());G.Sink(oc,nZ.get_View());return n$;},InstallMap:function(of){var og,oi,oj;og=function(){return of.Des.call(null,bf.ToList(bf.ParseHash(r.location.hash)));};oi=A.Create(og(null));oj=function(){var ol;ol=og(null);return!m.Equals(of.Ser.call(null,oi.get_Value()),of.Ser.call(null,ol))?oi.set_Value(ol):null;};r.onpopstate=oj;r.onhashchange=oj;G.Sink(function(om){var on;on=bf.MakeHash(bf.FromList(of.Ser.call(null,om)));return!bf.SameHash(r.location.hash,on)?void(r.location.hash=on):null;},oi.get_View());return oi;},MergeRouters:function(oo){var op,oq,os;op=d.toArray(oo);oq=bi.Merge(d.map(function(or){return or.$1;},op));os=d.tryPick(function(ot){return ot.$0;},op);return oq.$==1?{$:0,$0:os,$1:oq.$0}:P.FailWith("Invalid Site.Merge: need more prefix disambiguation");},OnGlobalRouteChange:function(ou,ov,ow){if(ou.CurrentSite!==ov.RouteId){ou.CurrentSite=ov.RouteId;ou.Selection.set_Value(ov.RouteValue);}return ov.OnRouteChanged.call(null,ow);},OnInternalSiteUpdate:function(ox,oy,oz,oA){return ox.CurrentSite===oy?bg.SetCurrentRoute(ox,bf.Append(bf.FromList(oz),oA)):null;},OnSelectSite:function(oB,oC){var oD;oD=oC.$0;if(oB.CurrentSite!==oD){oB.CurrentSite=oD;return oB.Bodies.get_Item(oD).OnSelect.call(null,null);}else{return null;}},SetCurrentRoute:function(oE,oF){return!m.Equals(oE.CurrentRoute.get_Value(),oF)?oE.CurrentRoute.set_Value(oF):null;}},Snap1:{Bind:function(oG,oH){var oI,oJ;oI=bk.Create();oJ=function(){return bk.MarkObsolete(oI);};bk.When(oH,function(oL){var oM;oM=oG(oL);return bk.When(oM,function(oN){return(bk.IsForever(oM)?bk.IsForever(oH):false)?bk.MarkForever(oI,oN):bk.MarkReady(oI,oN);},oJ);},oJ);return oI;},Create:function(){return bk.Make({$:3,$0:[],$1:[]});},CreateForever:function(oO){return bk.Make({$:0,$0:oO});},CreateWithValue:function(oP){return bk.Make({$:2,$0:oP,$1:[]});},IsForever:function(oQ){return oQ.State.$==0?true:false;},IsObsolete:function(oR){return oR.State.$==1?true:false;},Make:function(oS){return{State:oS};},Map:function(oT,oU){var oV,oW;oV=oU.State;if(oV.$==0){return bk.CreateForever(oT(oV.$0));}else{oW=bk.Create();bk.When(oU,function(oX){return bk.MarkDone(oW,oU,oT(oX));},function(){return bk.MarkObsolete(oW);});return oW;}},Map2:function(oZ,o0,o1){var o2,o3,o4,o6,o7,o8,o9,o$;o2=[o0.State,o1.State];if(o2[0].$==0){if(o2[1].$==0){o3=o2[1].$0;return bk.CreateForever((oZ(o2[0].$0))(o3));}else{return bk.Map(oZ(o2[0].$0),o1);}}else{if(o2[1].$==0){o4=o2[1].$0;return bk.Map(function(o5){return(oZ(o5))(o4);},o0);}else{o6=bk.Create();o7=[{$:0}];o8=[{$:0}];o9=function(){o7[0]={$:0};o8[0]={$:0};return bk.MarkObsolete(o6);};o$=function(){var pb,pc,pd;pb=[o7[0],o8[0]];if(pb[0].$==1){if(pb[1].$==1){pc=pb[0].$0;pd=pb[1].$0;return(bk.IsForever(o0)?bk.IsForever(o1):false)?bk.MarkForever(o6,(oZ(pc))(pd)):bk.MarkReady(o6,(oZ(pc))(pd));}else{return null;}}else{return null;}};bk.When(o0,function(pe){o7[0]={$:1,$0:pe};return o$(null);},o9);bk.When(o1,function(pf){o8[0]={$:1,$0:pf};return o$(null);},o9);return o6;}}},MapAsync:function(pg,ph){var pi;pi=bk.Create();bk.When(ph,function(pj){return bl.StartTo(pg(pj),function(pk){return bk.MarkDone(pi,ph,pk);});},function(){return bk.MarkObsolete(pi);});return pi;},MarkDone:function(pm,pn,po){return bk.IsForever(pn)?bk.MarkForever(pm,po):bk.MarkReady(pm,po);},MarkForever:function(pp,pq){var pr,ps;pr=pp.State;if(pr.$==3){ps=pr.$0;pp.State={$:0,$0:pq};return l.Iter(function(pt){return pt(pq);},ps);}else{return null;}},MarkObsolete:function(pu){var pv,pw,py;pv=pu.State;if(pv.$==1){return null;}else{if(pv.$==2){pw=pv.$1;pu.State={$:1};return l.Iter(function(px){return px(null);},pw);}else{if(pv.$==3){py=pv.$1;pu.State={$:1};return l.Iter(function(pz){return pz(null);},py);}else{return null;}}}},MarkReady:function(pA,pB){var pC,pD;pC=pA.State;if(pC.$==3){pD=pC.$0;pA.State={$:2,$0:pB,$1:pC.$1};return l.Iter(function(pE){return pE(pB);},pD);}else{return null;}},SnapshotOn:function(pF,pG){var pH,pI,pJ,pK,pL;pH=[pF.State,pG.State];if(pH[1].$==0){return bk.CreateForever(pH[1].$0);}else{pI=bk.Create();pJ=[{$:0}];pK=[false];pL=function(){var pN;if(pK[0]){pN=pJ[0];return pN.$==1?bk.IsForever(pG)?bk.MarkForever(pI,pN.$0):pN.$==1?bk.MarkReady(pI,pN.$0):null:pN.$==1?bk.MarkReady(pI,pN.$0):null;}else{return null;}};bk.When(pF,function(){pK[0]=true;return pL(null);},function(){pJ[0]={$:0};return bk.MarkObsolete(pI);});bk.When(pG,function(pQ){pJ[0]={$:1,$0:pQ};return pL(null);},function(){});return pI;}},When:function(pS,pT,pU){var pV,pW,pX;pV=pS.State;if(pV.$==1){return pU(null);}else{if(pV.$==2){pW=pV.$0;l.Add(pU,pV.$1);return pT(pW);}else{if(pV.$==3){pX=pV.$1;l.Add(pT,pV.$0);return l.Add(pU,pX);}else{return pT(pV.$0);}}}}},Trans1:$.Class({},{AnimateChange:function(pY,pZ,p0){return(pY.TChange.call(null,pZ))(p0);},AnimateEnter:function(p1,p2){return p1.TEnter.call(null,p2);},AnimateExit:function(p3,p4){return p3.TExit.call(null,p4);},CanAnimateChange:function(p5){return(p5.TFlags&1)!==0;},CanAnimateEnter:function(p6){return(p6.TFlags&2)!==0;},CanAnimateExit:function(p7){return(p7.TFlags&4)!==0;},Change:function(p8,p9){return{TChange:p8,TEnter:p9.TEnter,TExit:p9.TExit,TFlags:p9.TFlags|1};},Create:function(p_){return{TChange:p_,TEnter:function(p$){return o.Const(p$);},TExit:function(qa){return o.Const(qa);},TFlags:1};},Enter:function(qb,qc){return{TChange:qc.TChange,TEnter:qb,TExit:qc.TExit,TFlags:qc.TFlags|2};},Exit:function(qd,qe){return{TChange:qe.TChange,TEnter:qe.TEnter,TExit:qd,TFlags:qe.TFlags|4};},Trivial:function(){return{TChange:function(){return function(qg){return o.Const(qg);};},TEnter:function(qh){return o.Const(qh);},TExit:function(qi){return o.Const(qi);},TFlags:0};}}),Trie1:{AllSome:function(qj){var qk,ql,qm,qn;qk=bm.Get(qj);ql=bo.New2();qm=true;while(qm?qk.MoveNext():false){qn=qk.get_Current();if(qn.$==1){ql.Add(qn.$0);}else{qm=false;}}return qm?{$:1,$0:ql.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(qo){return qo.$==2?true:false;},Leaf:function(qp){return{$:2,$0:qp};},Look:function(qq,qr){var qs,qt,qu;qs=[qr,qq];if(qs[0].$==2){return{$:0,$0:qs[0].$0,$1:qq};}else{if(qs[0].$==0){if(qs[1].$==1){qt=qs[1].$1;qu=bp.TryFind(qs[1].$0,qs[0].$0);return qu.$==0?{$:1}:bi.Look(qt,qu.$0);}else{return{$:1};}}else{return{$:1};}}},Lookup:function(qv,qw){return bi.Look(d.toList(qw),qv);},Map:function(qx,qy){return bi.MapLoop($.New(_5,{$:0}),qx,qy);},MapLoop:function(qz,qA,qB){var qC;if(qB.$==1){return{$:1};}else{if(qB.$==2){qC=qB.$0;return{$:2,$0:(qA(qz))(qC)};}else{return bi.TrieBranch(bp.Map(function(qD){return function(qE){return bi.MapLoop(C.append(qz,C.ofArray([qD])),qA,qE);};},qB.$0));}}},Mapi:function(qF,qG){var qH;qH=[0];return bi.Map(function(qI){var qJ;qJ=qH[0];qH[0]=qJ+1;return(qF(qJ))(qI);},qG);},Merge:function(qK){var qL,qM;qL=d.toArray(qK);qM=a.length(qL);return qM===0?{$:1,$0:{$:1}}:qM===1?{$:1,$0:a.get(qL,0)}:d.exists(function(qN){return bi.IsLeaf(qN);},qL)?{$:0}:v.map(function(qO){return bi.TrieBranch(qO);},bi.MergeMaps(function(qP){return bi.Merge(qP);},d.choose(function(qQ){return qQ.$==0?{$:1,$0:qQ.$0}:{$:0};},qL)));},MergeMaps:function(qR,qS){var qT;qT=d.collect(function(qU){return bp.ToSeq(qU);},qS);return v.map(function(qV){return bp.OfArray(d.toArray(qV));},bi.AllSome(d.map(function(qW){var qX;qX=qW[0];return v.map(function(qY){return[qX,qY];},qR(qW[1]));},bp.ToSeq(d.fold(function(qZ){return function(q0){return bi.MultiAdd(q0[0],q0[1],qZ);};},bq.New1([]),qT)))));},MultiAdd:function(q1,q2,q3){return q3.Add(q1,$.New(_5,{$:1,$0:q2,$1:bi.MultiFind(q1,q3)}));},MultiFind:function(q4,q5){return P.DefaultArg(bp.TryFind(q4,q5),$.New(_5,{$:0}));},Prefix:function(q6,q7){return bi.TrieBranch(bq.New1(C.ofArray([[q6,q7]])));},ToArray:function(q8){var q9;q9=[];bi.Map(function(){return function(q$){return l.Add(q$,q9);};},q8);return l.ToArray(q9);},TrieBranch:function(ra){return ra.get_IsEmpty()?{$:1}:{$:0,$0:ra};}},Var:$.Class({get_Value:function(){return A.Get(this);},get_View:function(){return w.FromVar(this);},set_Value:function(rb){return A.Set(this,rb);}},{Create:function(rc){return $.New(A,{Const:false,Current:rc,Snap:bk.CreateWithValue(rc),Id:h.Int()});},Get:function(rd){return rd.Current;},Set:function(re,rf){if(re.Const){return null;}else{bk.MarkObsolete(re.Snap);re.Current=rf;re.Snap=bk.CreateWithValue(rf);return;}}}),Var1:$.Class({},{GetId:function(rg){return rg.Id;},Observe:function(rh){return rh.Snap;},SetFinal:function(ri,rj){if(ri.Const){return null;}else{ri.Const=true;ri.Current=rj;ri.Snap=bk.CreateForever(rj);return;}},Update:function(rk,rl){return A.Set(rk,rl(A.Get(rk)));}}),View:$.Class({},{Convert:function(rm,rn){return w.ConvertBy(function(ro){return ro;},rm,rn);},ConvertBy:function(rp,rq,rr){var rs;rs=[bj.New12()];return w.Map(function(rt){var ru,rv,rw;ru=rs[0];rv=bj.New12();rw=a.map(function(rx){var ry,rz;ry=rp(rx);rz=ru.ContainsKey(ry)?ru.get_Item(ry):rq(rx);rv.set_Item(ry,rz);return rz;},d.toArray(rt));rs[0]=rv;return rw;},rr);},ConvertSeq:function(rA,rB){return w.ConvertSeqBy(function(rC){return rC;},rA,rB);},ConvertSeqBy:function(rD,rE,rF){var rG;rG=[bj.New12()];return w.Map(function(rH){var rI,rJ,rK;rI=rG[0];rJ=bj.New12();rK=a.map(function(rL){var rM,rN,rO;rM=rD(rL);if(rI.ContainsKey(rM)){rO=rI.get_Item(rM);A.Set(rO.NVar,rL);rN=rO;}else{rN=w.ConvertSeqNode(rE,rL);}rJ.set_Item(rM,rN);return rN.NValue;},d.toArray(rH));rG[0]=rJ;return rK;},rF);},ConvertSeqNode:function(rP,rQ){var rR,rS;rR=A.Create(rQ);rS=w.FromVar(rR);return{NValue:rP(rS),NVar:rR,NView:rS};},CreateLazy:function(rT){var rU;rU=[{$:0}];return{$:0,$0:function(){var rW,rX,rY;rW=rU[0];if(rW.$==1){if(!bk.IsObsolete(rW.$0)){return rW.$0;}else{rX=rT(null);rU[0]={$:1,$0:rX};return rX;}}else{rY=rT(null);rU[0]={$:1,$0:rY};return rY;}}};},CreateLazy2:function(rZ,r0,r1){var r2,r3;r2=r0.$0;r3=r1.$0;return w.CreateLazy(function(){var r5,r6;r5=r2(null);r6=r3(null);return(rZ(r5))(r6);});},FromVar:function(r7){return{$:0,$0:function(){return N.Observe(r7);}};},Map:function(r9,r_){var r$;r$=r_.$0;return w.CreateLazy(function(){return bk.Map(r9,r$(null));});},Map2:function(sb,sc,sd){return w.CreateLazy2(function(se){return function(sf){return bk.Map2(sb,se,sf);};},sc,sd);},MapAsync:function(sg,sh){var si;si=sh.$0;return w.CreateLazy(function(){return bk.MapAsync(sg,si(null));});},SnapshotOn:function(sk,sl,sm){var sn,so,sp,sq;sn=sl.$0;so=sm.$0;sp=bk.CreateWithValue(sk);sq=[false];return w.CreateLazy(function(){var ss,st;ss=sn(null);st=so(null);if(sq[0]){return bk.SnapshotOn(ss,st);}else{bk.When(bk.SnapshotOn(ss,st),function(){return null;},function(){if(!sq[0]){sq[0]=true;return bk.MarkObsolete(sp);}else{return null;}});return sp;}});},UpdateWhile:function(sw,sx,sy){var sz;sz=[sw];return w.Map2(function(sA){return function(sB){if(sA){sz[0]=sB;}return sz[0];};},sx,sy);},get_Do:function(){return $.New(br,{$:0});}}),View1:$.Class({},{Apply:function(sC,sD){return w.Map2(function(sE){return function(sF){return sE(sF);};},sC,sD);},Bind:function(sG,sH){return G.Join(w.Map(sG,sH));},Const:function(sI){var sJ;sJ=bk.CreateForever(sI);return{$:0,$0:function(){return sJ;}};},Join:function(sL){var sM;sM=sL.$0;return w.CreateLazy(function(){return bk.Bind(function(sO){return sO.$0.call(null,null);},sM(null));});},Sink:function(sP,sQ){var sR,sS;sR=sQ.$0;sS=function(){return bk.When(sR(null),sP,function(){return bl.Schedule(sS);});};return bl.Schedule(sS);}}),ViewBuilder:$.Class({Bind:function(sV,sW){return G.Bind(sW,sV);},Return:function(sX){return G.Const(sX);}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Arrays);b=$.Safe($$.WebSharper.Concurrency);c=$.Safe($$.Array);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe(g.JQueue);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(g.Slot);o=$.Safe(f.An);p=$.Safe(f.AppendList1);q=$.Safe(f.Anims);r=$.Safe($$.window);s=$.Safe($$.WebSharper.Lazy);t=$.Safe(g.Array);u=$.Safe(f.Trans1);v=$.Safe($$.WebSharper.Option);w=$.Safe(f.View);x=$.Safe(f.Client);y=$.Safe(x.Attrs);z=$.Safe(f.DomUtility);A=$.Safe(f.Var);B=$.Safe(x.AttrProxy);C=$.Safe($$.WebSharper.List);D=$.Safe(x.Attr);E=$.Safe(x.AnimatedAttrNode);F=$.Safe(x.DynamicAttrNode);G=$.Safe(f.View1);H=$.Safe($$.document);I=$.Safe(x.Docs);J=$.Safe(g.Mailbox);K=$.Safe(x.Doc);L=$.Safe(x.UINextPagelet);M=$.Safe(x.Elt);N=$.Safe(f.Var1);O=$.Safe($$.Seq);P=$.Safe($$.WebSharper.Operators);Q=$.Safe(I.NodeSet);R=$.Safe(x.DocElemNode);S=$.Safe(I.DomNodes);T=$.Safe($$.RegExp);U=$.Safe($$.WebSharper.Html);V=$.Safe(U.Client);W=$.Safe(V.Pagelet);X=$.Safe(V.Attr);Y=$.Safe(V.Tags);Z=$.Safe($$.jQuery);_0=$.Safe(f.Easing);_1=$.Safe(f.Easings);_2=$.Safe(f.FlowBuilder);_3=$.Safe(f.Flow);_4=$.Safe(f.Input);_5=$.Safe(C.T);_6=$.Safe(f.DoubleInterpolation);_7=$.Safe(f.Key);_8=$.Safe(f.ListModels);_9=$.Safe(f.ListModel);_=$.Safe(f.ListModel1);ba=$.Safe(f.Model1);bb=$.Safe(f.Model);bc=$.Safe($$.WebSharper.Strings);bd=$.Safe($$.encodeURIComponent);be=$.Safe($$.decodeURIComponent);bf=$.Safe(f.Route);bg=$.Safe(f.Routing);bh=$.Safe(f.Router1);bi=$.Safe(f.Trie1);bj=$.Safe(i.Dictionary);bk=$.Safe(f.Snap1);bl=$.Safe(g.Async);bm=$.Safe($$.WebSharper.Enumerator);bn=$.Safe(i.ResizeArray);bo=$.Safe(bn.ResizeArrayProxy);bp=$.Safe(i.MapModule);bq=$.Safe(i.FSharpMap);return br=$.Safe(f.ViewBuilder);});$.OnLoad(function(){$.Inherit(M,K);$.Inherit(L,W);_4.MousePosSt1();_4.MouseBtnSt1();_4.KeyListenerState();_4.ActivateKeyListener();_4.ActivateButtonListener();_1.CubicInOut();z.Doc();y.EmptyAttr();h.counter();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{WebSharper:{Testing:{Pervasives:{Do:$.Field(function(){return c.New();}),PropertyWith:function(w,x,y){var z;z=b.Test(w);return z.Run(z.PropertyWithSample(z.Yield(null),function(){return e.Make(x,100);},function(){return y;}));},PropertyWithSample:function(C,D,E){var F;F=b.Test(C);return F.Run(F.PropertyWithSample(F.Yield(null),function(){return D;},function(){return E;}));},Runner:{AddTest:function(I,J,K){var L,N;L=function(M){(I(K))(M);return M;};N=J(K);return f.Map(L,N);},AddTestAsync:function(O,P,Q){var R,V;R=function(S){return g.Delay(function(){return g.Bind((O(Q))(S),function(){return g.Return(S);});});};V=P(Q);return f.MapAsync(R,V);},Bind:function(W,X){var Y,Z,_2;if(X.$==1){Z=X.$0;Y={$:1,$0:g.Delay(function(){return g.Bind(Z,function(_1){return f.ToAsync(W(_1));});})};}else{_2=X.$0;Y=W(_2);}return Y;},Map:function(_3,_4){var _5,_6,_9;if(_4.$==1){_6=_4.$0;_5={$:1,$0:g.Delay(function(){return g.Bind(_6,function(_8){return g.Return(_3(_8));});})};}else{_9=_4.$0;_5={$:0,$0:_3(_9)};}return _5;},MapAsync:function(_,ba){var bb,bc,bf;if(ba.$==1){bc=ba.$0;bb={$:1,$0:g.Delay(function(){return g.Bind(bc,function(be){return _(be);});})};}else{bf=ba.$0;bb={$:1,$0:_(bf)};}return bb;},ToAsync:function(bf){var bg,bh,bi;if(bf.$==1){bh=bf.$0;bg=bh;}else{bi=bf.$0;bg=g.Delay(function(){return g.Return(bi);});}return bg;}},SubtestBuilder:$.Class({ApproxEqual:function(bk,bl,bm){var bn;bn=function(bo){return function(bp){var bq,br;bq=bl(bp);br=bm(bp);return bo.push(h.abs(bq-br)<0.0001,bq,br);};};return function(bs){return f.AddTest(bn,bk,bs);};},ApproxEqualAsync:function(bt,bu,bv){var bw;bw=function(bx){return function(by){return g.Delay(function(){var bA;bA=bv(by);return g.Bind(bu(by),function(bB){return g.Return(bx.push(h.abs(bB-bA)<0.0001,bB,bA));});});};};return function(bC){return f.AddTestAsync(bw,bt,bC);};},ApproxEqualMsg:function(bD,bE,bF,bG){var bH;bH=function(bI){return function(bJ){var bK,bL;bK=bE(bJ);bL=bF(bJ);return bI.push(h.abs(bK-bL)<0.0001,bK,bL,bG);};};return function(bM){return f.AddTest(bH,bD,bM);};},ApproxEqualMsgAsync:function(bN,bO,bP,bQ){var bR;bR=function(bS){return function(bT){return g.Delay(function(){var bV;bV=bP(bT);return g.Bind(bO(bT),function(bW){return g.Return(bS.push(h.abs(bW-bV)<0.0001,bW,bV,bQ));});});};};return function(bX){return f.AddTestAsync(bR,bN,bX);};},Bind:function(bY,bZ){return function(b0){return{$:1,$0:g.Delay(function(){return g.Bind(bY,function(b2){var b3,b4,b5,b6;b3=(bZ(b2))(b0);if(b3.$==1){b5=b3.$0;b4=b5;}else{b6=b3.$0;b4=g.Return(b6);}return b4;});})};};},DeepEqual:function(b7,b8,b9){var b_;b_=function(b$){return function(ca){return b$.deepEqual(b8(ca),b9(ca));};};return function(cb){return f.AddTest(b_,b7,cb);};},DeepEqualAsync:function(cc,cd,ce){var cf;cf=function(cg){return function(ch){return g.Delay(function(){var cj;cj=ce(ch);return g.Bind(cd(ch),function(ck){return g.Return(cg.deepEqual(ck,cj));});});};};return function(cl){return f.AddTestAsync(cf,cc,cl);};},DeepEqualMsg:function(cm,cn,co,cp){var cq;cq=function(cr){return function(cs){return cr.deepEqual(cn(cs),co(cs),cp);};};return function(ct){return f.AddTest(cq,cm,ct);};},DeepEqualMsgAsync:function(cu,cv,cw,cx){var cy;cy=function(cz){return function(cA){return g.Delay(function(){var cC;cC=cw(cA);return g.Bind(cv(cA),function(cD){return g.Return(cz.deepEqual(cD,cC,cx));});});};};return function(cE){return f.AddTestAsync(cy,cu,cE);};},Equal:function(cF,cG,cH){var cI;cI=function(cJ){return function(cK){var cL,cM;cL=cG(cK);cM=cH(cK);return cJ.push(i.Equals(cL,cM),cL,cM);};};return function(cN){return f.AddTest(cI,cF,cN);};},EqualAsync:function(cO,cP,cQ){var cR;cR=function(cS){return function(cT){return g.Delay(function(){var cV;cV=cQ(cT);return g.Bind(cP(cT),function(cW){return g.Return(cS.push(i.Equals(cW,cV),cW,cV));});});};};return function(cX){return f.AddTestAsync(cR,cO,cX);};},EqualMsg:function(cY,cZ,c0,c1){var c2;c2=function(c3){return function(c4){var c5,c6;c5=cZ(c4);c6=c0(c4);return c3.push(i.Equals(c5,c6),c5,c6,c1);};};return function(c7){return f.AddTest(c2,cY,c7);};},EqualMsgAsync:function(c8,c9,c_,c$){var da;da=function(db){return function(dc){return g.Delay(function(){var de;de=c_(dc);return g.Bind(c9(dc),function(df){return g.Return(db.push(i.Equals(df,de),df,de,c$));});});};};return function(dg){return f.AddTestAsync(da,c8,dg);};},Expect:function(dh,di){var dj;dj=function(dk){return function(dl){return dk.expect(di(dl));};};return function(dm){return f.AddTest(dj,dh,dm);};},For:function(dn,_do){return function(dp){var dq,dr,ds,dt,du,dv,dw,dx,dz,dA;dq=[];dr=dn.get_Data();ds={$:0,$0:undefined};dq[2]=dr;dq[1]=ds;dq[0]=1;while(dq[0]){if(dq[2].$==1){du=dq[2].$1;dv=dq[2].$0;dw=_do(dv);dx=function(){return dw(dp);};dz=dq[1];dA=f.Bind(dx,dz);dq[2]=du;dq[1]=dA;dt=void(dq[0]=1);}else{dq[0]=0;dt=void(dq[1]=dq[1]);}}return dq[1];};},For1:function(dB,dC){return this.For(e.New(dB),dC);},For2:function(dD,dE){return function(dF){var dG,dH,dI,dP;dG=dD(dF);if(dG.$==1){dI=dG.$0;dH={$:1,$0:g.Delay(function(){return g.Bind(dI,function(dK){var dL,dM,dN,dO;dL=(dE(dK))(dF);if(dL.$==1){dN=dL.$0;dM=dN;}else{dO=dL.$0;dM=g.Return(dO);}return dM;});})};}else{dP=dG.$0;dH=(dE(dP))(dF);}return dH;};},ForEach:function(dQ,dR,dS){return function(dT){var dU,d7,d9;dU=function(dV,dW,dX){var dY,dZ,d0,d1,d2;if(dX.$==1){dZ=dX.$1;d0=dX.$0;d1=dV(d0);d2=function(d3){var d4,d6;d4=function(){return d3;};d6=d1(dT);return f.Map(d4,d6);};dY=dU(dV,f.Bind(d2,dW),dZ);}else{dY=dW;}return dY;};d7=function(d8){return dU(dS(d8),{$:0,$0:d8},j.ofSeq(dR(d8)));};d9=dQ(dT);return f.Bind(d7,d9);};},IsFalse:function(d_,d$){var ea;ea=function(eb){return function(ec){return eb.ok(!d$(ec));};};return function(ed){return f.AddTest(ea,d_,ed);};},IsFalseAsync:function(ee,ef){var eg;eg=function(eh){return function(ei){return g.Delay(function(){return g.Bind(ef(ei),function(ek){return g.Return(eh.ok(!ek));});});};};return function(el){return f.AddTestAsync(eg,ee,el);};},IsFalseAsync1:function(em,en,eo){var ep;ep=function(eq){return function(er){return g.Delay(function(){return g.Bind(en(er),function(et){return g.Return(eq.ok(!et,eo));});});};};return function(eu){return f.AddTestAsync(ep,em,eu);};},IsFalseMsg:function(ev,ew,ex){var ey;ey=function(ez){return function(eA){return ez.ok(!ew(eA),ex);};};return function(eB){return f.AddTest(ey,ev,eB);};},IsTrue:function(eC,eD){var eE;eE=function(eF){return function(eG){return eF.ok(eD(eG));};};return function(eH){return f.AddTest(eE,eC,eH);};},IsTrueAsync:function(eI,eJ){var eK;eK=function(eL){return function(eM){return g.Delay(function(){return g.Bind(eJ(eM),function(eO){return g.Return(eL.ok(eO));});});};};return function(eP){return f.AddTestAsync(eK,eI,eP);};},IsTrueMsg:function(eQ,eR,eS){var eT;eT=function(eU){return function(eV){return eU.ok(eR(eV),eS);};};return function(eW){return f.AddTest(eT,eQ,eW);};},IsTrueMsgAsync:function(eX,eY,eZ){var e0;e0=function(e1){return function(e2){return g.Delay(function(){return g.Bind(eY(e2),function(e4){return g.Return(e1.ok(e4,eZ));});});};};return function(e5){return f.AddTestAsync(e0,eX,e5);};},JsEqual:function(e6,e7,e8){var e9;e9=function(e_){return function(e$){return e_.equal(e7(e$),e8(e$));};};return function(fa){return f.AddTest(e9,e6,fa);};},JsEqualAsync:function(fb,fc,fd){var fe;fe=function(ff){return function(fg){return g.Delay(function(){var fi;fi=fd(fg);return g.Bind(fc(fg),function(fj){return g.Return(ff.equal(fj,fi));});});};};return function(fk){return f.AddTestAsync(fe,fb,fk);};},JsEqualMsg:function(fl,fm,fn,fo){var fp;fp=function(fq){return function(fr){return fq.equal(fm(fr),fn(fr),fo);};};return function(fs){return f.AddTest(fp,fl,fs);};},JsEqualMsgAsync:function(ft,fu,fv,fw){var fx;fx=function(fy){return function(fz){return g.Delay(function(){var fB;fB=fv(fz);return g.Bind(fu(fz),function(fC){return g.Return(fy.equal(fC,fB,fw));});});};};return function(fD){return f.AddTestAsync(fx,ft,fD);};},NotApproxEqual:function(fE,fF,fG){var fH;fH=function(fI){return function(fJ){var fK,fL;fK=fF(fJ);fL=fG(fJ);return fI.push(h.abs(fK-fL)>0.0001,fK,fL);};};return function(fM){return f.AddTest(fH,fE,fM);};},NotApproxEqualAsync:function(fN,fO,fP){var fQ;fQ=function(fR){return function(fS){return g.Delay(function(){var fU;fU=fP(fS);return g.Bind(fO(fS),function(fV){return g.Return(fR.push(h.abs(fV-fU)>0.0001,fV,fU));});});};};return function(fW){return f.AddTestAsync(fQ,fN,fW);};},NotApproxEqualMsg:function(fX,fY,fZ,f0){var f1;f1=function(f2){return function(f3){var f4,f5;f4=fY(f3);f5=fZ(f3);return f2.push(h.abs(f4-f5)>0.0001,f4,f5,f0);};};return function(f6){return f.AddTest(f1,fX,f6);};},NotApproxEqualMsgAsync:function(f7,f8,f9,f_){var f$;f$=function(ga){return function(gb){return g.Delay(function(){var gd;gd=f9(gb);return g.Bind(f8(gb),function(ge){return g.Return(ga.push(h.abs(ge-gd)>0.0001,ge,gd,f_));});});};};return function(gf){return f.AddTestAsync(f$,f7,gf);};},NotEqual:function(gg,gh,gi){var gj;gj=function(gk){return function(gl){var gm,gn;gm=gh(gl);gn=gi(gl);return gk.push(!i.Equals(gm,gn),gm,gn);};};return function(go){return f.AddTest(gj,gg,go);};},NotEqualAsync:function(gp,gq,gr){var gs;gs=function(gt){return function(gu){return g.Delay(function(){var gw;gw=gr(gu);return g.Bind(gq(gu),function(gx){return g.Return(gt.push(!i.Equals(gx,gw),gx,gw));});});};};return function(gy){return f.AddTestAsync(gs,gp,gy);};},NotEqualMsg:function(gz,gA,gB,gC){var gD;gD=function(gE){return function(gF){var gG,gH;gG=gA(gF);gH=gB(gF);return gE.push(!i.Equals(gG,gH),gG,gH,gC);};};return function(gI){return f.AddTest(gD,gz,gI);};},NotEqualMsgAsync:function(gJ,gK,gL,gM){var gN;gN=function(gO){return function(gP){return g.Delay(function(){var gR;gR=gL(gP);return g.Bind(gK(gP),function(gS){return g.Return(gO.push(!i.Equals(gS,gR),gS,gR,gM));});});};};return function(gT){return f.AddTestAsync(gN,gJ,gT);};},PropertyWithSample:function(gU,gV,gW){return function(gX){var gY,g$,hc;gY=function(gZ,g0,g1){var g2,g3,g4,g5,g6;if(g1.$==1){g3=g1.$1;g4=g1.$0;g5=gZ(g4);g6=function(g7){var g8,g_;g8=function(){return g7;};g_=g5(gX);return f.Map(g8,g_);};g2=gY(gZ,f.Bind(g6,g0),g3);}else{g2=g0;}return g2;};g$=function(ha){var hb;hb=gV(ha);return gY(gW(ha),{$:0,$0:ha},hb.get_Data());};hc=gU(gX);return f.Bind(g$,hc);};},Raises:function(hd,he){var hf;hf=function(hg){return function(hh){var hi,hj,hk;try{hj=he(hh);hi=hg.ok(false,"Expected raised exception");}catch(hk){hi=hg.ok(true);}return hi;};};return function(hl){return f.AddTest(hf,hd,hl);};},RaisesAsync:function(hm,hn){var ho;ho=function(hp){return function(hq){var hr;hr=hn(hq);return g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(hr,function(){return g.Return(hp.ok(false,"Expected raised exception"));});}),function(){return g.Return(hp.ok(true));});});};};return function(hw){return f.AddTestAsync(ho,hm,hw);};},RaisesMsg:function(hx,hy,hz){var hA;hA=function(hB){return function(hC){var hD,hE,hF;try{hE=hy(hC);hD=hB.ok(false,hz);}catch(hF){hD=hB.ok(true,hz);}return hD;};};return function(hG){return f.AddTest(hA,hx,hG);};},RaisesMsgAsync:function(hH,hI,hJ){var hK;hK=function(hL){return function(hM){var hN;hN=hI(hM);return g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(hN,function(){return g.Return(hL.ok(false,hJ));});}),function(){return g.Return(hL.ok(true,hJ));});});};};return function(hS){return f.AddTestAsync(hK,hH,hS);};},Return:function(hT){return function(){return{$:0,$0:hT};};},RunSubtest:function(hV,hW){return function(hX){var hY,h0;hY=function(hZ){return(hW(hZ))(hX);};h0=hV(hX);return f.Bind(hY,h0);};},Yield:function(h1){return function(){return{$:0,$0:h1};};},Zero:function(){return function(){return{$:0,$0:undefined};};}},{New:function(){return $.New(this,{});}}),Test:function(h4){return k.New(h4);},TestBuilder:$.Class({Run:function(h5){return l.test(this.name,function(h6){var h7,h8,h9,h_,h$,ia,ih;try{h8=h5(h6);if(h8.$==1){h_=h8.$0;h$=h6.async();ia=g.Delay(function(){return g.TryFinally(g.Delay(function(){return g.TryWith(g.Delay(function(){return g.Bind(h_,function(){return g.Return(null);});}),function(_if){return g.Return(h6.equal(_if,null,"Test threw an unexpected asynchronous exception"));});}),function(){return h$(null);});});h9=g.Start(ia,{$:0});}else{h9=null;}h7=h9;}catch(ih){h7=h6.equal(ih,null,"Test threw an unexpected synchronous exception");}return h7;});}},{New:function(ii){var ij;ij=$.New(this,c.New());ij.name=ii;return ij;}}),TestCategory:function(ik){return m.New(ik);},TestCategoryBuilder:$.Class({},{New:function(il){var im;im=$.New(this,{});im.name=il;return im;}})},Random:{Anything:$.Field(function(){return d.MixManyWithoutBases(d.allTypes());}),ArrayOf:function(_in){return{Base:[[]],Next:function(){var ip;ip=d.Natural().Next.call(null,null)%100;return n.init(ip,function(){return _in.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return d.StandardUniform().Next.call(null,null)>0.5;}};}),Choose:function(is,it){var iu,iw,ix;iu=function(iv){return n.get(is,iv);};iw=d.Within(0,n.length(is)-1);ix=d.Map(iu,iw);return{Base:[],Next:function(){var iz;iz=ix.Next.call(null,null);return it(iz).Next.call(null,null);}};},Const:function(iA){return{Base:[iA],Next:function(){return iA;}};},Exponential:function(iC){return{Base:[],Next:function(){var iE;iE=d.StandardUniform().Next.call(null,null);return-h.log(1-iE)/iC;}};},Float:$.Field(function(){return{Base:[0],Next:function(){var iG;iG=d.Boolean().Next.call(null,null)?1:-1;return iG*d.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,o,p,-p],Next:function(){return d.Float().Next.call(null,null);}};}),FloatWithin:function(iI,iJ){return{Base:[iI,iJ],Next:function(){return iI+(iJ-iI)*h.random();}};},Implies:function(iL,iM){return!iL?true:iM;},Imply:function(iN,iO){return d.Implies(iN,iO);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return h.round(d.Float().Next.call(null,null))<<0;}};}),ListOf:function(iQ){var iR,iT;iR=function(iS){return j.ofArray(iS);};iT=d.ArrayOf(iQ);return d.Map(iR,iT);},Map:function(iU,iV){var iW;iW=iV.Next;return{Base:n.map(iU,iV.Base),Next:function(iX){return iU(iW(iX));}};},Mix:function(iY,iZ){var i0;i0=[false];return{Base:iY.Base.concat(iZ.Base),Next:function(){i0[0]=!i0[0];return i0[0]?iY.Next.call(null,null):iZ.Next.call(null,null);}};},MixMany:function(i2){var i5;i5=[0];return{Base:n.concat(q.toArray(q.delay(function(){return q.map(function(i4){return i4.Base;},i2);}))),Next:function(){i5[0]=(i5[0]+1)%n.length(i2);return n.get(i2,i5[0]).Next.call(null,null);}};},MixManyWithoutBases:function(i7){var i8;i8=[0];return{Base:[],Next:function(){i8[0]=(i8[0]+1)%n.length(i7);return n.get(i7,i8[0]).Next.call(null,null);}};},Natural:$.Field(function(){var i_;i_=d.Int().Next;return{Base:[0,1],Next:function(i$){var ja;ja=i_(i$);return h.abs(ja);}};}),OneOf:function(jb){var jc;jc=d.Within(1,n.length(jb));return{Base:jb,Next:function(){return n.get(jb,jc.Next.call(null,null)-1);}};},OptionOf:function(je){return d.Mix(d.Const({$:0}),d.Map(function(jf){return{$:1,$0:jf};},je));},Sample:$.Class({get_Data:function(){return this.data;}},{Make:function(jg,jh){return e.New1(jg,jh);},New:function(ji){return $.New(this,e.New1(ji,100));},New1:function(jj,jk){var jl;jl=q.toList(q.delay(function(){return q.append(q.map(function(jn){return n.get(jj.Base,jn);},r.range(0,n.length(jj.Base)-1)),q.delay(function(){return q.map(function(){return jj.Next.call(null,null);},r.range(1,jk));}));}));return $.New(this,e.New4(jl));},New4:function(jq){var jr;jr=$.New(this,{});jr.data=jq;return jr;}}),StandardUniform:$.Field(function(){return{Base:[],Next:function(){return h.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){var ju,jv;ju=d.Natural().Next.call(null,null)%100;jv=n.init(ju,function(){return d.Int().Next.call(null,null)%256;});return s.fromCharCode.apply(undefined,jv);}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:d.String().Next};}),Tuple2Of:function(jx,jy){return{Base:q.toArray(q.delay(function(){return q.collect(function(jA){return q.map(function(jB){return[jA,jB];},jy.Base);},jx.Base);})),Next:function(){return[jx.Next.call(null,null),jy.Next.call(null,null)];}};},Tuple3Of:function(jD,jE,jF){return{Base:q.toArray(q.delay(function(){return q.collect(function(jH){return q.collect(function(jI){return q.map(function(jJ){return[jH,jI,jJ];},jF.Base);},jE.Base);},jD.Base);})),Next:function(){return[jD.Next.call(null,null),jE.Next.call(null,null),jF.Next.call(null,null)];}};},Within:function(jL,jM){return{Base:[jL,jM],Next:function(){return d.Natural().Next.call(null,null)%(jM-jL)+jL;}};},allTypes:$.Field(function(){var jO,jP,jY;jO=[d.Int(),d.Float(),d.Boolean(),d.String()];jP=function(jQ){return q.toArray(q.delay(function(){return q.collect(function(jS){return q.append(q.collect(function(jT){return q.append([d.Tuple2Of(jS,jT)],q.delay(function(){return q.map(function(jV){return d.Tuple3Of(jS,jT,jV);},jQ);}));},jQ),q.delay(function(){return q.append([d.ListOf(jS)],q.delay(function(){return[d.ArrayOf(jS)];}));}));},jQ);}));};jY=jP(jO);return jO.concat(jY);})},Runner:{RunnerControl:$.Class({get_Body:function(){return u.New();}}),RunnerControlBody:$.Class({ReplaceInDom:function(jZ){var j0,j1,j2,j3,j4;j0=v.createElement("div");j0.setAttribute("id","qunit-fixture");j1=v.createElement("div");j1.setAttribute("id","qunit");j2=jZ.parentNode;j3=j2.replaceChild(j0,jZ);j4=j2.insertBefore(j1,j0);return;}},{New:function(){return $.New(this,{});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Testing);b=$.Safe(a.Pervasives);c=$.Safe(b.SubtestBuilder);d=$.Safe(a.Random);e=$.Safe(d.Sample);f=$.Safe(b.Runner);g=$.Safe($$.WebSharper.Concurrency);h=$.Safe($$.Math);i=$.Safe($$.WebSharper.Unchecked);j=$.Safe($$.WebSharper.List);k=$.Safe(b.TestBuilder);l=$.Safe($$.QUnit);m=$.Safe(b.TestCategoryBuilder);n=$.Safe($$.WebSharper.Arrays);o=$.Safe($$.NaN);p=$.Safe($$.Infinity);q=$.Safe($$.WebSharper.Seq);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.String);t=$.Safe(a.Runner);u=$.Safe(t.RunnerControlBody);return v=$.Safe($$.document);});$.OnLoad(function(){$.Inherit(k,c);d.allTypes();d.StringExhaustive();d.String();d.StandardUniform();d.Natural();d.Int();d.FloatExhaustive();d.Float();d.Boolean();d.Anything();b.Do();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;$.Define($$,{WebSharper:{Control:{Disposable:{Of:function(F){return{Dispose:F};}},Event:{Event:$.Class({AddHandler:function(G){return this.Handlers.Add(G);},RemoveHandler:function(H){var I,K,L,N,O;I=function(J){return a.Equals(H,J);};K=this.Handlers;L=function(M){return K.RemoveAt(M);};N=this.Handlers;O=b.tryFindIndex(I,N);return c.iter(L,O);},Subscribe:function(P){var Q,T=this;Q=function(R){return P.OnNext(R);};this.AddHandler(Q);return e.Of(function(){return T.RemoveHandler(Q);});},Trigger:function(U){var V,W,X;V=this.Handlers.ToArray();for(W=0;W<=V.length-1;W++){X=f.get(V,W);X(U);}return;}})},EventModule:{Choose:function(Y,Z){var _0;_0=g.New();h.addListener(Z,function(_1){var _2,_3,_4;_2=Y(_1);if(_2.$==0){_3=null;}else{_4=_2.$0;_3=_0.event.Trigger(_4);}return _3;});return _0.event;},Filter:function(_5,_6){var _7;_7=$.New(j,{Handlers:m.New2()});h.addListener(_6,function(_8){return _5(_8)?_7.Trigger(_8):null;});return _7;},Map:function(_9,_){var ba;ba=$.New(j,{Handlers:m.New2()});h.addListener(_,function(bb){return ba.Trigger(_9(bb));});return ba;},Merge:function(bb,bc){var bd;bd=$.New(j,{Handlers:m.New2()});h.addListener(bb,function(be){return bd.Trigger(be);});h.addListener(bc,function(bf){return bd.Trigger(bf);});return bd;},Pairwise:function(bg){var bh,bi;bh=[{$:0}];bi=$.New(j,{Handlers:m.New2()});h.addListener(bg,function(bj){var bk,bl,bm;bk=bh[0];if(bk.$==1){bm=bk.$0;bh[0]={$:1,$0:bj};bl=bi.Trigger([bm,bj]);}else{bl=void(bh[0]={$:1,$0:bj});}return bl;});return bi;},Partition:function(bn,bo){return[n.Filter(bn,bo),n.Filter(function(bp){var bq;bq=bn(bp);return!bq;},bo)];},Scan:function(br,bs,bt){var bu,bv;bu=[bs];bv=function(bw){bu[0]=(br(bu[0]))(bw);return bu[0];};return n.Map(bv,bt);},Split:function(bx,by){var bz,bE;bz=function(bA){var bB,bC,bD;bB=bx(bA);if(bB.$==0){bD=bB.$0;bC={$:1,$0:bD};}else{bC={$:0};}return bC;};bE=function(bF){var bG,bH,bI;bG=bx(bF);if(bG.$==1){bI=bG.$0;bH={$:1,$0:bI};}else{bH={$:0};}return bH;};return[n.Choose(bz,by),n.Choose(bE,by)];}},FSharpEvent:$.Class({},{New:function(){var bJ;bJ=$.New(this,{});bJ.event=$.New(j,{Handlers:m.New2()});return bJ;}}),HotStream:{HotStream:$.Class({Subscribe:function(bK){var bL;this.Latest[0].$==1?bK.OnNext(this.Latest[0].$0):null;bL=h.subscribeTo(this.Event.event,function(bM){return bK.OnNext(bM);});return bL;},Trigger:function(bN){this.Latest[0]={$:1,$0:bN};return this.Event.event.Trigger(bN);}},{New:function(){return $.New(p,{Latest:[{$:0}],Event:g.New()});}})},MailboxProcessor:$.Class({PostAndAsyncReply:function(bO,bP){var bR=this;return q.Delay(function(){return q.Bind(bR.PostAndTryAsyncReply(bO,bP),function(bS){var bT,bU;if(bS.$==1){bU=bS.$0;bT=bU;}else{bT=r.Raise(new s("TimeoutException"));}return q.Return(bT);});});},PostAndTryAsyncReply:function(bV,bW){var bX,bY,b6=this;bX=r.DefaultArg(bW,this.get_DefaultTimeout());bY=function(bZ){var b0,b1,b2,b3,b4,b7,b8,b$;b0=bZ[0];b1=bZ[1];b2=bZ[2];if(bX<0){b4=bV(function(b5){return b0({$:1,$0:b5});});b6.mailbox.AddLast(b4);b3=b6.resume();}else{b7=[true];b8=bV(function(b9){var b_;if(b7[0]){b7[0]=false;b_=b0({$:1,$0:b9});}else{b_=null;}return b_;});b6.mailbox.AddLast(b8);b6.resume();b$=t(function(){var cb;if(b7[0]){b7[0]=false;cb=b0({$:0});}else{cb=null;}return cb;},bX);b3=void b$;}return b3;};return q.FromContinuations(bY);},Receive:function(cc){var ce=this;return q.Delay(function(){return q.Bind(ce.TryReceive(cc),function(cf){var cg,ch;if(cf.$==1){ch=cf.$0;cg=ch;}else{cg=r.Raise(new s("TimeoutException"));}return q.Return(cg);});});},Scan:function(ci,cj){var cl=this;return q.Delay(function(){return q.Bind(cl.TryScan(ci,cj),function(cm){var cn,co;if(cm.$==1){co=cm.$0;cn=co;}else{cn=r.Raise(new s("TimeoutException"));}return q.Return(cn);});});},Start:function(){var cp,cq,ct=this;if(this.started){cp=r.FailWith("The MailboxProcessor has already been started.");}else{this.started=true;cq=q.Delay(function(){return q.TryWith(q.Delay(function(){return q.Bind(ct.initial.call(null,ct),function(){return q.Return(null);});}),function(cv){ct.errorEvent.event.Trigger(cv);return q.Return(null);});});cp=ct.startAsync(cq);}return cp;},TryReceive:function(cw){var cx,cy,cD=this;cx=r.DefaultArg(cw,this.get_DefaultTimeout());cy=function(cz){var cA,cB,cC,cE,cF,cG,cJ,cK,cN,cR;cA=cz[0];cB=cz[1];cC=cz[2];if(a.Equals(cD.mailbox.get_First(),null)){if(cx<0){cG=q.Delay(function(){var cI;cI=cD.dequeue();cA({$:1,$0:cI});return q.Return(null);});cF=void(cD.savedCont={$:1,$0:cG});}else{cJ=[true];cK=t(function(){var cM;if(cJ[0]){cJ[0]=false;cD.savedCont={$:0};cM=cA({$:0});}else{cM=null;}return cM;},cx);cN=q.Delay(function(){var cP,cQ;if(cJ[0]){cJ[0]=false;u(cK);cQ=cD.dequeue();cA({$:1,$0:cQ});cP=q.Return(null);}else{cP=q.Return(null);}return cP;});cF=void(cD.savedCont={$:1,$0:cN});}cE=cF;}else{cR=cD.dequeue();cE=cA({$:1,$0:cR});}return cE;};return q.FromContinuations(cy);},TryScan:function(cS,cT){var cU,cZ=this;cU=r.DefaultArg(cT,this.get_DefaultTimeout());return q.Delay(function(){var cW,c3,c4,c5,c7;cW=function(){var cY,c0,c1,c2;cY=cZ.mailbox.get_First();c0={$:0};while(!a.Equals(cY,null)){c1=cS(cY.v);if(c1.$==0){c2=cY=cY.n;}else{cZ.mailbox.Remove(cY);cY=null;c2=c0=c1;}}return c0;};c3=cW(null);if(c3.$==1){c5=c3.$0;c4=q.Bind(c5,function(c6){return q.Return({$:1,$0:c6});});}else{c7=function(c8){var c9,c_,c$,da,db,dj,dk,dn;c9=c8[0];c_=c8[1];c$=c8[2];if(cU<0){db=function(){var dd;dd=q.Delay(function(){var df,dg,dh;df=cS(cZ.mailbox.get_First().v);if(df.$==1){dh=df.$0;cZ.mailbox.RemoveFirst();dg=q.Bind(dh,function(di){c9({$:1,$0:di});return q.Return(null);});}else{db(null);dg=q.Return(null);}return dg;});cZ.savedCont={$:1,$0:dd};return;};da=db(null);}else{dj=[true];dk=t(function(){var dm;if(dj[0]){dj[0]=false;cZ.savedCont={$:0};dm=c9({$:0});}else{dm=null;}return dm;},cU);dn=function(){var dp;dp=q.Delay(function(){var dr,ds,dt;dr=cS(cZ.mailbox.get_First().v);if(dr.$==1){dt=dr.$0;cZ.mailbox.RemoveFirst();ds=q.Bind(dt,function(du){var dv;if(dj[0]){dj[0]=false;u(dk);c9({$:1,$0:du});dv=q.Return(null);}else{dv=q.Return(null);}return dv;});}else{dn(null);ds=q.Return(null);}return ds;});cZ.savedCont={$:1,$0:dp};return;};da=dn(null);}return da;};c4=q.FromContinuations(c7);}return c4;});},dequeue:function(){var dw;dw=this.mailbox.get_First().v;this.mailbox.RemoveFirst();return dw;},get_CurrentQueueLength:function(){return this.mailbox.get_Count();},get_DefaultTimeout:function(){return this["DefaultTimeout@"];},get_Error:function(){return this.errorEvent.event;},resume:function(){var dx,dy,dz;dx=this.savedCont;if(dx.$==1){dz=dx.$0;this.savedCont={$:0};dy=this.startAsync(dz);}else{dy=null;}return dy;},set_DefaultTimeout:function(dA){this["DefaultTimeout@"]=dA;return;},startAsync:function(dB){return q.Start(dB,this.token);}},{New:function(dC,dD){var dE,dF,dG,dH,dI;dE=$.New(this,{});dE.initial=dC;dE.token=dD;dE.started=false;dE.errorEvent=g.New();dE.mailbox=w.New();dE.savedCont={$:0};dF=dE.token;if(dF.$==0){dG=null;}else{dH=dF.$0;dI=q.Register(dH,function(){return function(){return dE.resume();}();});dG=void dI;}dE["DefaultTimeout@"]=-1;return dE;},Start:function(dL,dM){var dN;dN=x.New(dL,dM);dN.Start();return dN;}}),Observable:{Aggregate:function(dO,dP,dQ){var dR;dR=function(dS){var dT,dU,dZ;dT=[dP];dU=function(dV){return y.Protect(function(){return(dQ(dT[0]))(dV);},function(dX){dT[0]=dX;return dS.OnNext(dX);},function(dY){return dS.OnError(dY);});};dZ=z.New(dU,function(d0){return dS.OnError(d0);},function(){return dS.OnCompleted();});return dO.Subscribe(dZ);};return y.New(dR);},Choose:function(d2,d3){var d4;d4=function(d5){var d6,eb;d6=function(d7){var d9;d9=function(d_){return d5.OnNext(d_);};return y.Protect(function(){return d2(d7);},function(d$){return c.iter(d9,d$);},function(ea){return d5.OnError(ea);});};eb=z.New(d6,function(ec){return d5.OnError(ec);},function(){return d5.OnCompleted();});return d3.Subscribe(eb);};return y.New(d4);},CombineLatest:function(ee,ef,eg){var eh;eh=function(ei){var ej,ek,el,ev,ex,eA,eC,eF,eG;ej=[{$:0}];ek=[{$:0}];el=function(){var en,eo,ep,eq,er;en=[ej[0],ek[0]];if(en[0].$==1){if(en[1].$==1){eq=en[0].$0;er=en[1].$0;ep=y.Protect(function(){return(eg(eq))(er);},function(et){return ei.OnNext(et);},function(eu){return ei.OnError(eu);});}else{ep=null;}eo=ep;}else{eo=null;}return eo;};ev=function(ew){ej[0]={$:1,$0:ew};return el(null);};ex=z.New(ev,function(){},function(){});eA=function(eB){ek[0]={$:1,$0:eB};return el(null);};eC=z.New(eA,function(){},function(){});eF=ee.Subscribe(ex);eG=ef.Subscribe(eC);return e.Of(function(){eF.Dispose();return eG.Dispose();});};return y.New(eh);},Concat:function(eI,eJ){var eK;eK=function(eL){var eM,eN,eS;eM=[{$:0}];eN=eI.Subscribe(z.New(function(eO){return eL.OnNext(eO);},function(){},function(){var eR;eR=eJ.Subscribe(eL);eM[0]={$:1,$0:eR};}));eS=function(){eM[0].$==1?eM[0].$0.Dispose():null;return eN.Dispose();};return e.Of(eS);};return y.New(eK);},Drop:function(eU,eV){var eW;eW=function(eX){var eY,eZ,e1;eY=[0];eZ=function(e0){A.incr(eY);return eY[0]>eU?eX.OnNext(e0):null;};e1=z.New(eZ,function(e2){return eX.OnError(e2);},function(){return eX.OnCompleted();});return eV.Subscribe(e1);};return y.New(eW);},Filter:function(e4,e5){var e6;e6=function(e7){var e8,fd;e8=function(e9){var e$;e$=function(fa){return e7.OnNext(fa);};return y.Protect(function(){return e4(e9)?{$:1,$0:e9}:{$:0};},function(fb){return c.iter(e$,fb);},function(fc){return e7.OnError(fc);});};fd=z.New(e8,function(fe){return e7.OnError(fe);},function(){return e7.OnCompleted();});return e5.Subscribe(fd);};return y.New(e6);},Map:function(fg,fh){var fi;fi=function(fj){var fk,fp;fk=function(fl){return y.Protect(function(){return fg(fl);},function(fn){return fj.OnNext(fn);},function(fo){return fj.OnError(fo);});};fp=z.New(fk,function(fq){return fj.OnError(fq);},function(){return fj.OnCompleted();});return fh.Subscribe(fp);};return y.New(fi);},Merge:function(fs,ft){var fu;fu=function(fv){var fw,fx,fy,fC,fD,fH;fw=[false];fx=[false];fy=z.New(function(fz){return fv.OnNext(fz);},function(){},function(){fw[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fC=fs.Subscribe(fy);fD=z.New(function(fE){return fv.OnNext(fE);},function(){},function(){fx[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fH=ft.Subscribe(fD);return e.Of(function(){fC.Dispose();return fH.Dispose();});};return y.New(fu);},Never:function(){return y.New(function(){return e.Of(function(){});});},New:function(fL){return $.New(B,{Subscribe1:fL});},Observable:$.Class({Subscribe:function(fM){return this.Subscribe1.call(null,fM);}}),Of:function(fN){return y.New(function(fO){return e.Of(fN(function(fP){return fO.OnNext(fP);}));});},Protect:function(fQ,fR,fS){var fT,fU,fV,fW,fX,fY;try{fU={$:0,$0:fQ(null)};}catch(fV){fU={$:1,$0:fV};}fT=fU;if(fT.$==1){fX=fT.$0;fW=fS(fX);}else{fY=fT.$0;fW=fR(fY);}return fW;},Range:function(fZ,f0){var f1;f1=function(f2){var f3;for(f3=fZ;f3<=fZ+f0;f3++){f2.OnNext(f3);}return e.Of(function(){});};return y.New(f1);},Return:function(f5){var f6;f6=function(f7){f7.OnNext(f5);f7.OnCompleted();return e.Of(function(){});};return y.New(f6);},SelectMany:function(f9){return y.New(function(f_){var f$,gb;f$=[function(){}];gb=h.subscribeTo(f9,function(gc){var gd;gd=h.subscribeTo(gc,function(ge){return f_.OnNext(ge);});f$[0]=function(){f$[0].call(null,null);return gd.Dispose();};return;});return e.Of(function(){f$[0].call(null,null);return gb.Dispose();});});},Sequence:function(gh){var gi;gi=function(gj){var gk,gl,gm,gn;if(gj.$==1){gl=gj.$1;gm=gj.$0;gn=gi(gl);gk=y.CombineLatest(gm,gn,function(go){return function(gp){return $.New(D,{$:1,$0:go,$1:gp});};});}else{gk=y.Return($.New(D,{$:0}));}return gk;};return gi(C.ofSeq(gh));},Switch:function(gq){return y.New(function(gr){var gs,gt,gu;gs=[0];gt=[{$:0}];gu=h.subscribeTo(gq,function(gv){var gw,gx,gz;A.incr(gs);gt[0].$==1?gt[0].$0.Dispose():null;gw=gs[0];gx=h.subscribeTo(gv,function(gy){return gw===gs[0]?gr.OnNext(gy):null;});gz={$:1,$0:gx};gt[0]=gz;return;});return gu;});}},ObservableModule:{Pairwise:function(gA){var gB;gB=function(gC){var gD,gE,gJ;gD=[{$:0}];gE=function(gF){var gG,gH,gI;gG=gD[0];if(gG.$==1){gI=gG.$0;gH=gC.OnNext([gI,gF]);}else{gH=null;}gD[0]={$:1,$0:gF};return;};gJ=z.New(gE,function(gK){return gC.OnError(gK);},function(){return gC.OnCompleted();});return gA.Subscribe(gJ);};return y.New(gB);},Partition:function(gM,gN){return[y.Filter(gM,gN),y.Filter(function(gO){var gP;gP=gM(gO);return!gP;},gN)];},Scan:function(gQ,gR,gS){var gT;gT=function(gU){var gV,gW,g1;gV=[gR];gW=function(gX){return y.Protect(function(){return(gQ(gV[0]))(gX);},function(gZ){gV[0]=gZ;return gU.OnNext(gZ);},function(g0){return gU.OnError(g0);});};g1=z.New(gW,function(g2){return gU.OnError(g2);},function(){return gU.OnCompleted();});return gS.Subscribe(g1);};return y.New(gT);},Split:function(g4,g5){var g6,g$,ha,hf;g6=function(g7){var g8,g9,g_;g8=g4(g7);if(g8.$==0){g_=g8.$0;g9={$:1,$0:g_};}else{g9={$:0};}return g9;};g$=y.Choose(g6,g5);ha=function(hb){var hc,hd,he;hc=g4(hb);if(hc.$==1){he=hc.$0;hd={$:1,$0:he};}else{hd={$:0};}return hd;};hf=y.Choose(ha,g5);return[g$,hf];}},Observer:{New:function(hg,hh,hi){return $.New(E,{onNext:hg,onError:hh,onCompleted:hi});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(hj){return this.onError.call(null,hj);},OnNext:function(hk){return this.onNext.call(null,hk);}}),Of:function(hl){return $.New(E,{onNext:function(hm){return hl(hm);},onError:function(hn){return r.Raise(hn);},onCompleted:function(){return null;}});}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Option);d=$.Safe($$.WebSharper.Control);e=$.Safe(d.Disposable);f=$.Safe($$.WebSharper.Arrays);g=$.Safe(d.FSharpEvent);h=$.Safe($$.WebSharper.Util);i=$.Safe(d.Event);j=$.Safe(i.Event);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.ResizeArray);m=$.Safe(l.ResizeArrayProxy);n=$.Safe(d.EventModule);o=$.Safe(d.HotStream);p=$.Safe(o.HotStream);q=$.Safe($$.WebSharper.Concurrency);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.Error);t=$.Safe($$.setTimeout);u=$.Safe($$.clearTimeout);v=$.Safe(k.LinkedList);w=$.Safe(v.T);x=$.Safe(d.MailboxProcessor);y=$.Safe(d.Observable);z=$.Safe(d.Observer);A=$.Safe($$.WebSharper.Ref);B=$.Safe(y.Observable);C=$.Safe($$.WebSharper.List);D=$.Safe(C.T);return E=$.Safe(z.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi;$.Define($$,{WebSharper:{UI:{Next:{AnimatedBobsleighSite:{Fade:$.Field(function(){var bj,bk,bl;bj=c.get_Double();bk=d.get_CubicInOut();bl=e.fadeTime();return function(bm){return function(bn){return f.Simple(bj,bk,bl,bm,bn);};};}),FadeTransition:$.Field(function(){return g.Exit(function(){return((e.Fade())(1))(0);},g.Enter(function(){return((e.Fade())(0))(1);},g.Create(e.Fade())));}),GlobalGo:function(bp,bq){return h.Set(bp,bq);},Governance:function(){var bs,bt,bu;bt=k.ofArray([j.TextNode("Governance")]);bu=k.ofArray([j.TextNode("The sport is overseen by the "),l.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),j.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")]);bs=k.ofArray([j.Element("h1",[],bt),j.Element("p",[],bu)]);return j.Concat(k.ofArray([j.Element("div",[],bs)]));},History:function(){var bw,bx,by,bz;bx=k.ofArray([j.TextNode("History")]);by=k.ofArray([j.TextNode("According to "),l.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),j.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]);bz=k.ofArray([j.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")]);bw=k.ofArray([j.Element("h1",[],bx),j.Element("p",[],by),j.Element("p",[],bz)]);return j.Concat(k.ofArray([j.Element("div",[],bw)]));},HomePage:function(bA){var bB,bC,bD,bE,bF,bH,bJ;bC=k.ofArray([j.TextNode("Welcome!")]);bD=k.ofArray([j.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]);bF=function(){return bA.Go.call(null,{$:1});};bH=function(){return bA.Go.call(null,{$:2});};bJ=function(){return bA.Go.call(null,{$:3});};bE=k.ofArray([j.TextNode("Here you can find out about the "),j.Link("history",$.New(m,{$:0}),bF),j.TextNode(" of bobsleighs, the "),j.Link("International Bobsleigh and Skeleton Federation",$.New(m,{$:0}),bH),j.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),j.Link("IntelliFactory Bobsleigh Team.",$.New(m,{$:0}),bJ)]);bB=k.ofArray([j.Element("h1",[],bC),j.Element("p",[],bD),j.Element("p",[],bE)]);return j.Concat(k.ofArray([j.Element("div",[],bB)]));},Main:function(){var bL,bM;bL=h.Create({$:0});bM={Go:function(bN){return h.Set(bL,bN);}};return j.EmbedView(n.Map(function(bO){return e.MakePage(bL,bO.$==1?e.History(bM):bO.$==2?e.Governance(bM):bO.$==3?e.Team(bM):e.HomePage(bM));},n.FromVar(bL)));},MakePage:function(bP,bQ){return j.Concat(k.ofArray([e.NavBar(bP),j.Element("div",k.ofArray([o.AnimatedStyle("opacity",e.FadeTransition(),p.Const(1),function(bR){return $$.String(bR);})]),k.ofArray([bQ]))]));},NavBar:function(bS){var bT;bT=n.FromVar(bS);return j.EmbedView(n.Map(function(bU){var bV;bV=function(bW){var bX;bX=function(){return e.GlobalGo(bS,bW);};return j.Element("li",k.ofArray([q.Equals(bW,bU)?l.cls("active"):r.get_Empty()]),k.ofArray([j.Link(e.showAct(bW),$.New(m,{$:0}),bX)]));};return j.Element("nav",k.ofArray([l.cls("navbar navbar-default"),r.Create("role","navigation")]),k.ofArray([j.Element("ul",k.ofArray([l.cls("nav navbar-nav")]),k.ofArray([j.Concat(k.map(bV,e.pages()))]))]));},bT));},Sample:$.Field(function(){return s.Build().Id("AnimatedBobsleighSite").FileName("AnimatedBobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(){return e.Main();}).RenderDescription(function(){return e.description();}).Create();}),Team:function(){var b2,b3,b4,b5,b6;b2=k.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);b4=k.ofArray([j.TextNode("The IntelliFactory Bobsleigh Team")]);b5=k.ofArray([j.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]);b6=k.ofArray([j.Concat(k.map(function(b7){var b8;b8=k.ofArray([l.href(b7[0],"http://www.twitter.com/"+b7[1])]);return j.Element("li",[],b8);},b2))]);b3=k.ofArray([j.Element("h1",[],b4),j.Element("p",[],b5),j.Element("ul",[],b6)]);return j.Concat(k.ofArray([j.Element("div",[],b3)]));},description:function(){var b9;b9=k.ofArray([j.TextNode("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications.")]);return j.Element("div",[],b9);},fadeTime:$.Field(function(){return 300;}),pages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2},{$:3}]);}),showAct:function(b_){return b_.$==1?"History":b_.$==2?"Governance":b_.$==3?"The IntelliFactory Bobsleigh Team":"Home";}},AnimatedContactFlow:{AnimateFlow:function(b$){return j.Element("div",k.ofArray([o.Style("position","relative"),o.AnimatedStyle("opacity",t.FadeTransition(),p.Const(1),function(ca){return $$.String(ca);}),o.AnimatedStyle("left",t.SwipeTransition(),p.Const(0),function(cb){return $$.String(cb)+"px";})]),k.ofArray([b$]));},Description:function(){var cc;cc=k.ofArray([j.TextNode("A WS.UI.Next flowlet implementation.")]);return j.Element("div",[],cc);},ExampleFlow:function(){var cd;cd=u.get_Do();return v.Embed(cd.Bind(t.personFlowlet(),function(ce){return cd.Bind(t.contactTypeFlowlet(),function(cf){return cd.Bind(t.contactFlowlet(cf),function(cg){return cd.ReturnFrom(v.Static(t.finalPage(ce,cg)));});});}));},Fade:$.Field(function(){var ch,ci,cj;ch=c.get_Double();ci=d.get_CubicInOut();cj=t.fadeTime();return function(ck){return function(cl){return f.Simple(ch,ci,cj,ck,cl);};};}),FadeTransition:$.Field(function(){return g.Exit(function(){return((t.Fade())(1))(0);},g.Enter(function(){return((t.Fade())(0))(1);},g.Create(t.Fade())));}),Sample:$.Field(function(){return s.Build().Id("AnimatedContactFlow").FileName("AnimatedContactFlow.fs").Keywords(k.ofArray(["flowlet"])).Render(function(){return t.ExampleFlow();}).RenderDescription(function(){return t.Description();}).Create();}),Swipe:$.Field(function(){var cq,cr,cs;cq=c.get_Double();cr=d.get_CubicInOut();cs=t.swipeTime();return function(ct){return function(cu){return f.Simple(cq,cr,cs,ct,cu);};};}),SwipeTransition:$.Field(function(){return g.Exit(function(){return((t.Swipe())(0))(400);},g.Create(t.Swipe()));}),contactFlowlet:function(cw){var cx,cA,cB;cx=cw.$==1?["Phone Number",function(cy){return{$:1,$0:cy};}]:["E-Mail Address",function(cz){return{$:0,$0:cz};}];cA=cx[0];cB=cx[1];return v.Define(function(cC){var cD,cE;cD=h.Create("");cE=function(){return cC(cB(h.Get(cD)));};return t.AnimateFlow(j.Element("form",k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]),k.ofArray([t.inputRow(cD,"contact",cA),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Finish",k.ofArray([l.cls("btn btn-default")]),cE)]))]))])));});},contactTypeFlowlet:$.Field(function(){return v.Define(function(cG){var cH,cI,cJ,cL,cM;cH=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);cJ=function(){return cG({$:0});};cI=k.ofArray([j.Button("E-Mail Address",k.ofArray([l.cls("btn btn-default")]),cJ)]);cM=function(){return cG({$:1});};cL=k.ofArray([j.Button("Phone Number",k.ofArray([l.cls("btn btn-default")]),cM)]);return t.AnimateFlow(j.Element("form",cH,k.ofArray([l.divc("form-group",k.ofArray([j.Element("div",[],cI),j.Element("div",[],cL)]))])));});}),fadeTime:$.Field(function(){return 300;}),finalPage:function(cO,cP){var cQ,cR;cQ=cP.$==1?"the phone number "+cP.$0:"the e-mail address "+cP.$0;cR=k.ofArray([j.TextNode("You said your name was "+cO.Name+", your address was "+cO.Address+", "),j.TextNode(" and you provided "+cQ+".")]);return t.AnimateFlow(j.Element("div",[],cR));},inputRow:function(cS,cT,cU){return l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([r.Create("for",cT),l.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode(cU)])),l.divc("col-sm-10",k.ofArray([j.Input(k.ofArray([r.Create("type","text"),l.cls("form-control"),r.Create("id",cT),r.Create("placeholder",cU)]),cS)]))]));},personFlowlet:$.Field(function(){return v.Define(function(cV){var cW,cX,cY,cZ;cW=h.Create("");cX=h.Create("");cY=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);cZ=function(){return cV({Name:h.Get(cW),Address:h.Get(cX)});};return t.AnimateFlow(j.Element("form",cY,k.ofArray([t.inputRow(cW,"lblName","Name"),t.inputRow(cX,"lblAddr","Address"),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Next",k.ofArray([l.cls("btn btn-default")]),cZ)]))]))])));});}),swipeTime:$.Field(function(){return 300;})},BobsleighSite:{GlobalGo:function(c1,c2){return h.Set(c1,c2);},Governance:function(){var c4,c5,c6;c5=k.ofArray([j.TextNode("Governance")]);c6=k.ofArray([j.TextNode("The sport is overseen by the "),l.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),j.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")]);c4=k.ofArray([j.Element("h1",[],c5),j.Element("p",[],c6)]);return j.Concat(k.ofArray([j.Element("div",[],c4)]));},History:function(){var c8,c9,c_,c$;c9=k.ofArray([j.TextNode("History")]);c_=k.ofArray([j.TextNode("According to "),l.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),j.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]);c$=k.ofArray([j.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")]);c8=k.ofArray([j.Element("h1",[],c9),j.Element("p",[],c_),j.Element("p",[],c$)]);return j.Concat(k.ofArray([j.Element("div",[],c8)]));},HomePage:function(da){var db,dc,dd,de,df,dh,dj;dc=k.ofArray([j.TextNode("Welcome!")]);dd=k.ofArray([j.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]);df=function(){return da.Go.call(null,{$:1});};dh=function(){return da.Go.call(null,{$:2});};dj=function(){return da.Go.call(null,{$:3});};de=k.ofArray([j.TextNode("Here you can find out about the "),j.Link("history",$.New(m,{$:0}),df),j.TextNode(" of bobsleighs, the "),j.Link("International Bobsleigh and Skeleton Federation",$.New(m,{$:0}),dh),j.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),j.Link("IntelliFactory Bobsleigh Team.",$.New(m,{$:0}),dj)]);db=k.ofArray([j.Element("h1",[],dc),j.Element("p",[],dd),j.Element("p",[],de)]);return j.Concat(k.ofArray([j.Element("div",[],db)]));},Main:function(){var dl,dm,dn,dp;dl=h.Create({$:0});dm=w.NavBar(dl);dn=function(_do){return j.Append(dm,_do);};dp={Go:function(dq){return h.Set(dl,dq);}};return j.EmbedView(n.Map(function(dr){return dr.$==1?dn(w.History(dp)):dr.$==2?dn(w.Governance(dp)):dr.$==3?dn(w.Team(dp)):dn(w.HomePage(dp));},n.FromVar(dl)));},NavBar:function(ds){var dt;dt=n.FromVar(ds);return j.EmbedView(n.Map(function(du){var dv;dv=function(dw){var dx;dx=function(){return w.GlobalGo(ds,dw);};return j.Element("li",k.ofArray([q.Equals(dw,du)?l.cls("active"):r.get_Empty()]),k.ofArray([j.Link(w.showAct(dw),$.New(m,{$:0}),dx)]));};return j.Element("nav",k.ofArray([l.cls("navbar navbar-default"),r.Create("role","navigation")]),k.ofArray([j.Element("ul",k.ofArray([l.cls("nav navbar-nav")]),k.ofArray([j.Concat(k.map(dv,w.pages()))]))]));},dt));},Sample:$.Field(function(){return s.Build().Id("BobsleighSite").FileName("BobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(){return w.Main();}).RenderDescription(function(){return w.description();}).Create();}),Team:function(){var dC,dD,dE,dF,dG;dC=k.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);dE=k.ofArray([j.TextNode("The IntelliFactory Bobsleigh Team")]);dF=k.ofArray([j.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]);dG=k.ofArray([j.Concat(k.map(function(dH){var dI;dI=k.ofArray([l.href(dH[0],"http://www.twitter.com/"+dH[1])]);return j.Element("li",[],dI);},dC))]);dD=k.ofArray([j.Element("h1",[],dE),j.Element("p",[],dF),j.Element("ul",[],dG)]);return j.Concat(k.ofArray([j.Element("div",[],dD)]));},description:function(){var dJ;dJ=k.ofArray([j.TextNode("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications.")]);return j.Element("div",[],dJ);},pages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2},{$:3}]);}),showAct:function(dK){return dK.$==1?"History":dK.$==2?"Governance":dK.$==3?"The IntelliFactory Bobsleigh Team":"Home";}},Calculator:{Description:function(){var dL;dL=k.ofArray([j.TextNode("A calculator application")]);return j.Element("div",[],dL);},Main:function(){return x.calcView(h.Create(x.initCalc()));},Sample:$.Field(function(){return s.Build().Id("Calculator").FileName("Calculator.fs").Keywords(k.ofArray(["calculator"])).Render(function(){return x.Main();}).RenderDescription(function(){return x.Description();}).Create();}),button:function(dO,dP){return j.Button(dO,k.ofArray([l.sty("width","25px")]),dP);},cBtn:function(dQ){return x.button("C",function(){return h.Set(dQ,x.initCalc());});},calcBtn:function(dS,dT){return x.button($$.String(dS),function(){return x.pushInt(dS,dT);});},calcView:function(dV){var dW,dX,dZ,d1,d2,d3,d4,d5,d6,d7;dW=n.FromVar(dV);dX=function(dY){return x.calcBtn(dY,dV);};dZ=function(d0){return x.opBtn(d0,dV);};d1=x.cBtn(dV);d2=x.eqBtn(dV);d4=k.ofArray([dX(1),dX(2),dX(3),dZ({$:0})]);d5=k.ofArray([dX(4),dX(5),dX(6),dZ({$:1})]);d6=k.ofArray([dX(7),dX(8),dX(9),dZ({$:2})]);d7=k.ofArray([dX(0),d1,d2,dZ({$:3})]);d3=k.ofArray([j.Element("div",k.ofArray([l.sty("border","solid 1px #aaa"),l.sty("width","100px"),l.sty("text-align","right"),l.sty("padding","0 5px")]),k.ofArray([j.TextView(x.displayCalc(dV))])),j.Element("div",[],d4),j.Element("div",[],d5),j.Element("div",[],d6),j.Element("div",[],d7)]);return j.Element("div",[],d3);},calculate:function(d8){return y.Update(d8,function(d9){return{Memory:0,Operand:((x.opFn(d9.Operation))(d9.Memory))(d9.Operand),Operation:{$:0}};});},displayCalc:function(d_){return n.Map(function(d$){return $$.String(d$.Operand);},n.FromVar(d_));},eqBtn:function(ea){return x.button("=",function(){return x.calculate(ea);});},initCalc:$.Field(function(){return{Memory:0,Operand:0,Operation:{$:0}};}),opBtn:function(ec,ed){return x.button(x.showOp(ec),function(){return x.shiftToMem(ec,ed);});},opFn:function(ef){return ef.$==1?function(eg){return function(eh){return eg-eh;};}:ef.$==2?function(ei){return function(ej){return ei*ej;};}:ef.$==3?function(ek){return function(el){return ek/el>>0;};}:function(em){return function(en){return em+en;};};},pushInt:function(eo,ep){return y.Update(ep,function(eq){return{Memory:eq.Memory,Operand:eq.Operand*10+eo,Operation:eq.Operation};});},shiftToMem:function(er,es){return y.Update(es,function(et){return{Memory:et.Operand,Operand:0,Operation:er};});},showOp:function(eu){return eu.$==1?"-":eu.$==2?"*":eu.$==3?"/":"+";}},CheckBoxTest:{Description:function(){var ev;ev=k.ofArray([j.TextNode("An application which shows the selected values.")]);return j.Element("div",[],ev);},Main:function(){var ew,ex,eA,eB,eC,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eS;ew=h.Create($.New(m,{$:0}));ex=k.map(function(ey){var ez;ez=k.ofArray([j.CheckBoxGroup($.New(m,{$:0}),ey,ew),j.TextNode(ey.Name)]);return j.Element("div",[],ez);},z.People());eA=[];eB=j.Element("div",eA,ex);eC=function(eD){return A.fold(function(eE){return function(eF){return eE+eF.Name+", ";};},"",eD);};eG=n.FromVar(ew);eH=n.Map(eC,eG);eI=j.TextView(eH);eJ=k.ofArray([eB,eI]);eK=[];eL=j.Element("div",eK,eJ);eM=h.Create({$:0});eN=k.ofArray([{$:2},{$:1},{$:0},{$:3}]);eO=k.ofArray([j.Concat(k.map(function(eP){var eQ;eQ=k.ofArray([j.Radio($.New(m,{$:0}),eP,eM),j.TextNode(z.showRestaurant(eP))]);return j.Element("div",[],eQ);},eN)),j.TextView(n.Map(function(eR){return z.showRestaurant(eR);},eM.get_View()))]);eS=k.ofArray([eL,j.Element("div",[],eO)]);return j.Element("div",[],eS);},People:$.Field(function(){return k.ofArray([B.Create("Simon",22),B.Create("Peter",18),B.Create("Clare",50),B.Create("Andy",51)]);}),Person:$.Class({},{Create:function(eT,eU){return $.New(B,{Name:eT,Age:eU});}}),Sample:$.Field(function(){return s.Build().Id("CheckBoxTest").FileName("CheckBoxTest.fs").Keywords(k.ofArray(["todo"])).Render(function(){return z.Main();}).RenderDescription(function(){return z.Description();}).Create();}),showRestaurant:function(eX){return eX.$==1?"Suszterinas":eX.$==2?"Csiga":eX.$==3?"Stex":"Jelen";}},Client:{Main:$.Field(function(){return C.Main(k.ofArray([D.Sample(),E.Sample(),F.Sample(),G.Sample(),H.Sample(),z.Sample(),x.Sample(),I.Sample(),t.Sample(),J.Sample(),w.Sample(),K.Sample(),e.Sample(),L.Sample(),M.Sample(),N.Sample()]));})},Common:{CreatePost:function(eY,eZ){return{PostId:P.Int(),PostAuthorName:eY.Name,Content:eZ};},CreateThread:function(e0,e1){return{ThreadId:P.Int(),Title:e1,ThreadAuthorName:e0,Posts:h.Create($.New(m,{$:0}))};},Fresh:{Int:function(){var e2;e2=P.i()+1;P.i=function(){return e2;};return P.i();},i:$.Field(function(){return 0;})}},ContactFlow:{Description:function(){var e3;e3=k.ofArray([j.TextNode("A WS.UI.Next flowlet implementation.")]);return j.Element("div",[],e3);},ExampleFlow:function(){var e4;e4=u.get_Do();return v.Embed(e4.Bind(I.personFlowlet(),function(e5){return e4.Bind(I.contactTypeFlowlet(),function(e6){return e4.Bind(I.contactFlowlet(e6),function(e7){return e4.ReturnFrom(v.Static(I.finalPage(e5,e7)));});});}));},Sample:$.Field(function(){return s.Build().Id("ContactFlow").FileName("ContactFlow.fs").Keywords(k.ofArray(["flowlet"])).Render(function(){return I.ExampleFlow();}).RenderDescription(function(){return I.Description();}).Create();}),contactFlowlet:function(e_){var e$,fc,fd;e$=e_.$==1?["Phone Number",function(fa){return{$:1,$0:fa};}]:["E-Mail Address",function(fb){return{$:0,$0:fb};}];fc=e$[0];fd=e$[1];return v.Define(function(fe){var ff,fg;ff=h.Create("");fg=function(){return fe(fd(h.Get(ff)));};return j.Element("form",k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]),k.ofArray([I.inputRow(ff,"contact",fc,false),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Finish",k.ofArray([l.cls("btn btn-default")]),fg)]))]))]));});},contactTypeFlowlet:$.Field(function(){return v.Define(function(fi){var fj,fk,fl,fm,fo,fp;fj=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);fk=k.ofArray([l.cls("form-group")]);fm=function(){return fi({$:0});};fl=k.ofArray([j.Button("E-Mail Address",k.ofArray([l.cls("btn btn-default")]),fm)]);fp=function(){return fi({$:1});};fo=k.ofArray([j.Button("Phone Number",k.ofArray([l.cls("btn btn-default")]),fp)]);return j.Element("form",fj,k.ofArray([j.Element("form",fk,k.ofArray([j.Element("div",[],fl),j.Element("div",[],fo)]))]));});}),finalPage:function(fr,fs){var ft,fu;ft=fs.$==1?"the phone number "+fs.$0:"the e-mail address "+fs.$0;fu=k.ofArray([j.TextNode("You said your name was "+fr.Name+", your address was "+fr.Address+", "),j.TextNode(" and you provided "+ft+".")]);return j.Element("div",[],fu);},inputRow:function(fv,fw,fx,fy){var fz;fz=fy?function(fA){return function(fB){return j.InputArea(fA,fB);};}:function(fC){return function(fD){return j.Input(fC,fD);};};return l.divc("row",k.ofArray([l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([l.cls("col-sm-2 control-label"),r.Create("for",fw)]),k.ofArray([j.TextNode(fx)])),l.divc("col-sm-6",k.ofArray([(fz(k.ofArray([r.Create("type","text"),l.cls("form-control"),r.Create("id",fw),r.Create("placeholder",fx)])))(fv)])),l.divc("col-sm-4",$.New(m,{$:0}))]))]));},personFlowlet:$.Field(function(){return v.Define(function(fE){var fF,fG,fH,fI;fF=h.Create("");fG=h.Create("");fH=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);fI=function(){return fE({Name:h.Get(fF),Address:h.Get(fG)});};return j.Element("form",fH,k.ofArray([I.inputRow(fF,"lblName","Name",false),I.inputRow(fG,"lblAddr","Address",true),l.divc("row",k.ofArray([l.divc("col-sm-2",$.New(m,{$:0})),l.divc("col-sm-6",k.ofArray([l.divc("form-group",k.ofArray([j.Button("Next",k.ofArray([l.cls("btn btn-default")]),fI)]))])),l.divc("col-sm-4",$.New(m,{$:0}))]))]));});})},EditablePersonList:{Description:function(){var fK;fK=k.ofArray([j.TextNode("An example inspired by a "),l.href("SAP OpenUI sample","http://jsbin.com/openui5-HTML-templates/1/edit"),j.TextNode(".")]);return j.Element("div",[],fK);},Main:function(){var fL,fM,fN,fO,fP;fN=k.ofArray([j.TextNode("Member List")]);fM=k.ofArray([j.Element("h1",[],fN),H.memberList()]);fP=k.ofArray([j.TextNode("Change Member Details")]);fO=k.ofArray([j.Element("h1",[],fP),H.peopleBoxes()]);fL=k.ofArray([j.Element("div",[],fM),j.Element("div",[],fO)]);return j.Element("div",[],fL);},Sample:$.Field(function(){return s.Build().Id("EditablePersonList").FileName("EditablePersonList.fs").Keywords(k.ofArray(["text"])).Render(function(){return H.Main();}).RenderDescription(function(){return H.Description();}).Create();}),createPerson:function(fS,fT){return{FirstName:h.Create(fS),LastName:h.Create(fT)};},memberList:$.Field(function(){var fU,fV;fV=k.ofArray([j.Concat(k.map(function(fW){var fX;fX=k.ofArray([j.EmbedView(n.Map2(function(fY){return function(fZ){return j.TextNode(fY+" "+fZ);};},n.FromVar(fW.FirstName),n.FromVar(fW.LastName)))]);return j.Element("li",[],fX);},H.peopleList()))]);fU=k.ofArray([j.Element("ul",[],fV)]);return j.Element("div",[],fU);}),peopleBoxes:$.Field(function(){var f0,f1;f1=k.ofArray([j.Concat(k.map(function(f2){var f3,f4,f5;f4=f2.FirstName;f5=f2.LastName;f3=k.ofArray([j.Input($.New(m,{$:0}),f4),j.Input($.New(m,{$:0}),f5)]);return j.Element("li",[],f3);},H.peopleList()))]);f0=k.ofArray([j.Element("ul",[],f1)]);return j.Element("div",[],f0);}),peopleList:$.Field(function(){return k.ofArray([H.createPerson("Alonzo","Church"),H.createPerson("Alan","Turing"),H.createPerson("Bertrand","Russell"),H.createPerson("Noam","Chomsky")]);})},InputTransform:{Description:function(){var f6;f6=k.ofArray([j.TextNode("Transforming the data provided by a single data source.")]);return j.Element("div",[],f6);},Main:function(){var f7,f8,f9,f_,f$,ga,gb,gc,gd,gf,gh,gj,gl,gn,go,gt,gu;f7=h.Create("");f8=k.ofArray([l.cls("panel"),l.cls("panel-default")]);f_=k.ofArray([l.cls("panel-body")]);f$=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);ga=k.ofArray([l.cls("form-group")]);f9=k.ofArray([j.Element("div",k.ofArray([l.cls("panel-heading")]),k.ofArray([j.Element("h3",k.ofArray([l.cls("panel-title")]),k.ofArray([j.TextNode("Input")]))])),j.Element("div",f_,k.ofArray([j.Element("form",f$,k.ofArray([j.Element("div",ga,k.ofArray([j.Element("label",k.ofArray([l.cls("col-sm-2"),l.cls("control-label"),r.Create("for","inputBox")]),k.ofArray([j.TextNode("Write something: ")])),j.Element("div",k.ofArray([l.cls("col-sm-10")]),k.ofArray([j.Input(k.ofArray([r.Create("class","form-control"),r.Create("id","inputBox")]),f7)]))]))]))]))]);gb=j.Element("div",f8,f9);gc=n.FromVar(f7);gd=n.Map(function(ge){return ge.toUpperCase();},gc);gf=n.Map(function(gg){return Q.fromCharCode.apply(undefined,R.ToCharArray(gg).slice().reverse());},gc);gh=n.Map(function(gi){return S.length(R.SplitChars(gi,[32],1));},gc);gj=n.Map(function(gk){return $$.String(gk);},gh);gl=n.Map(function(gm){return gm%2===0?"Even":"Odd";},gh);gn=k.ofArray([["Entered Text",gc],["Capitalised",gd],["Reversed",gf],["Word Count",gj],["Is the word count odd or even?",gl]]);go=function(gp){var gq,gr,gs;gq=gp[1];gs=k.ofArray([j.TextNode(gp[0])]);gr=k.ofArray([j.Element("td",[],gs),j.Element("td",k.ofArray([l.sty("width","70%")]),k.ofArray([j.TextView(gq)]))]);return j.Element("tr",[],gr);};gu=k.ofArray([j.Concat(k.map(go,gn))]);gt=k.ofArray([gb,l.divc("panel panel-default",k.ofArray([l.divc("panel-heading",k.ofArray([j.Element("h3",k.ofArray([l.cls("panel-title")]),k.ofArray([j.TextNode("Output")]))])),l.divc("panel-body",k.ofArray([j.Element("table",k.ofArray([l.cls("table")]),k.ofArray([j.Element("tbody",[],gu)]))]))]))]);return j.Element("div",[],gt);},Sample:$.Field(function(){return s.Build().Id("InputTransform").FileName("InputTransform.fs").Keywords(k.ofArray(["text"])).Render(function(){return E.Main();}).RenderDescription(function(){return E.Description();}).Create();})},KeyboardInfo:{Description:function(){var gx;gx=k.ofArray([j.TextNode("Information about the current keyboard state")]);return j.Element("div",[],gx);},Main:function(){var gy,gz,gC,gF,gH;gz=k.ofArray([j.TextNode("Keys pressed (key codes): "),j.TextView(n.Map(function(gA){return N.commaList(k.map(function(gB){return $$.String(gB);},gA));},N.keys()))]);gC=k.ofArray([j.TextNode("Keys pressed: "),j.TextView(n.Map(function(gD){return N.commaList(k.map(function(gE){return N.ToChar(gE);},gD));},N.keys()))]);gF=k.ofArray([j.TextNode("Last pressed key: "),j.TextView(n.Map(function(gG){return $$.String(gG);},U.get_LastPressed()))]);gH=k.ofArray([j.TextNode("Is 'A' pressed? "),j.TextView(n.Map(function(gI){return gI?"Yes":"No";},U.IsPressed(N.ToKey("A"))))]);gy=k.ofArray([j.Element("p",[],gz),j.Element("p",[],gC),j.Element("p",[],gF),j.Element("p",[],gH)]);return j.Element("div",[],gy);},Sample:$.Field(function(){return s.Build().Id("KeyboardInfo").FileName("KeyboardInfo.fs").Keywords(k.ofArray(["text"])).Render(function(){return N.Main();}).RenderDescription(function(){return N.Description();}).Create();}),ToChar:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c);},ToKey:function($c){var $0=this,$this=this;return $c.charCodeAt(0);},commaList:function(gL){var gM;gM=function(gN){var gO;if(gN.$==1){if(gN.$1.$==0){return $$.String(gN.$0);}else{gO=gN.$1;return $$.String(gN.$0)+", "+gM(gO);}}else{return"";}};return"["+gM(gL)+"]";},keys:$.Field(function(){return U.get_KeysPressed();})},MessageBoard:{Auth:{Create:function(){var gP,gQ,gR,gT,gV,gW,gZ,g1;gP=h.Create({$:0});gQ=h.Create(true);gR=function(){return gQ.set_Value(true);};gT=function(){return gQ.set_Value(false);};gV=gQ.get_View();gW=j.Element("div",k.ofArray([o.DynamicStyle("display",n.Map(function(gX){return gX?"none":"block";},gV))]),k.ofArray([V.LoginForm(function(gY){gP.set_Value({$:1,$0:gY});return gR(null);})]));gZ=function(){return gT(null);};g1=function(){gP.set_Value({$:0});return gR(null);};return{LoggedIn:gP.get_View(),LoginForm:gW,StatusWidget:V.StatusWidget(gZ,g1,gP.get_View()),HideForm:gR,ShowForm:gT};},LoginForm:function(g3){var g4,g5,g6,g7,g8,g9,g_,hi,hj,hk,hl;g4=h.Create("");g5=h.Create("");g6=h.Create("");g7=k.ofArray([j.Element("p",k.ofArray([l.cls("bg-danger")]),k.ofArray([j.TextView(g6.get_View())]))]);g8=[];g9=j.Element("div",g8,g7);g_=function(g$,ha,hb,hc){var hd;hd=hc?function(he){return function(hf){return j.PasswordBox(he,hf);};}:function(hg){return function(hh){return j.Input(hg,hh);};};return l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([r.Create("for",ha),l.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode(hb)])),l.divc("col-sm-2",k.ofArray([(hd(k.ofArray([l.cls("form-control"),r.Create("id",ha),r.Create("placeholder",hb)])))(g$)]))]));};hj=k.ofArray([j.TextNode("Hint: TestUser/TestPass")]);hk=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);hl=k.ofArray([l.cls("btn btn-primary")]);hi=k.ofArray([j.Element("div",[],hj),g9,j.Element("form",hk,k.ofArray([g_(g4,"user","Username",false),g_(g5,"pass","Password",true),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Log In",hl,function(){return W.Start(W.Delay(function(){return W.Bind(X.CheckLogin(g4.get_Value(),g5.get_Value()),function(ho){var hp;if(ho.$==0){h.Set(g6,"Invalid credentials.");return W.Return(null);}else{hp=ho.$0;h.Set(g4,"");h.Set(g5,"");g3(hp);return W.Return(null);}});}),{$:0});})]))]))]))]);return j.Element("div",[],hi);},StatusWidget:function(hq,hr,hs){return j.EmbedView(n.Map(function(ht){var hu,hv,hx,hy,hz,hB;if(ht.$==0){hv=function(){};hu=k.ofArray([j.Link("You are not logged in.",$.New(m,{$:0}),hv)]);hx=k.ofArray([j.Link("Login",$.New(m,{$:0}),hq)]);return j.Concat(k.ofArray([j.Element("li",[],hu),j.Element("li",[],hx)]));}else{hz=function(){};hy=k.ofArray([j.Link("Welcome, "+ht.$0.Name+"!",$.New(m,{$:0}),hz)]);hB=k.ofArray([j.Link("Logout",$.New(m,{$:0}),hr)]);return j.Concat(k.ofArray([j.Element("li",[],hy),j.Element("li",[],hB)]));}},hs));}},Description:function(){var hC;hC=k.ofArray([j.TextNode("A message board application built using MiniSitelets.")]);return j.Element("div",[],hC);},Initialise:function(){var hD,hE;hD=O.CreateThread("SimonJF","Hello, World! This is a topic.");hE=O.CreatePost({Name:"SimonJF",Password:""},"Hello, world! This is a post.");return W.Start(W.Delay(function(){return W.Bind(X.AddThread(hD),function(){return W.Bind(X.AddPost(hD,hE),function(){return W.Return(null);});});}),{$:0});},Main:function(){var hI,hJ,hK,hM,hN;J.Initialise();hI=h.Create({$:2});hJ=V.Create();hK=function(hL){return h.Set(hI,hL);};hM={Auth:hJ,Threads:h.Create($.New(m,{$:0})),Go:hK};hN=J.NavBar(hJ,hI,hM);return j.EmbedView(n.Map(function(hO){hJ.HideForm.call(null,null);return j.Concat(k.ofArray([hN,hJ.LoginForm,hO.$==2?J.ThreadListPage(hM):hO.$==1?J.ShowThreadPage(hM,hO.$0):J.NewThreadPage(hM)]));},n.FromVar(hI)));},NavBar:function(hP,hQ,hR){var hS,hT;hS=k.ofArray([{$:2},{$:0}]);hT=function(hU){return j.EmbedView(n.Map(function(hV){var hW;hW=function(){return hR.Go.call(null,hU);};return j.Element("li",k.ofArray([J.ShowAction(hU)===J.ShowAction(hV)?l.cls("active"):r.get_Empty()]),k.ofArray([j.Link(J.ShowAction(hU),$.New(m,{$:0}),hW)]));},n.FromVar(hQ)));};return j.Element("nav",k.ofArray([l.cls("navbar navbar-default"),r.Create("role","navigation")]),k.ofArray([l.divc("container-fluid",k.ofArray([j.Element("ul",k.ofArray([l.cls("nav navbar-nav")]),k.ofArray([j.Concat(k.map(hT,hS))])),j.Element("ul",k.ofArray([l.cls("nav navbar-nav navbar-right")]),k.ofArray([hP.StatusWidget]))]))]));},NewThreadPage:function(hY){var hZ;hZ=hY.Auth.LoggedIn;return j.EmbedView(n.Map(function(h0){var h1,h2,h3,h4,h$;if(h0.$==0){hY.Auth.ShowForm.call(null,null);return j.get_Empty();}else{h1=h0.$0;h2=h.Create("");h3=h.Create("");h4=function(){var h6,h7;h6=O.CreateThread(h1.Name,h.Get(h2));h7=O.CreatePost(h1,h.Get(h3));W.Start(W.Delay(function(){return W.Bind(X.AddThread(h6),function(){return W.Bind(X.AddPost(h6,h7),function(){return W.Return(null);});});}),{$:0});return hY.Go.call(null,{$:1,$0:h6});};h$=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);return l.divc("panel panel-default",k.ofArray([l.divc("panel-heading",k.ofArray([j.Element("h3",k.ofArray([l.cls("panel-title")]),k.ofArray([j.TextNode("New Thread")]))])),l.divc("panel-body",k.ofArray([j.Element("form",h$,k.ofArray([l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([r.Create("for","threadTitle"),l.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Title")])),l.divc("col-sm-10",k.ofArray([j.Input(k.ofArray([r.Create("id","threadTitle"),l.sty("width","100%"),l.cls("form-control")]),h2)]))])),l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([r.Create("for","postContent"),l.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Content")])),l.divc("col-sm-10",k.ofArray([j.InputArea(k.ofArray([r.Create("id","postContent"),r.Create("rows","5"),l.cls("form-control"),l.sty("width","100%")]),h3)]))])),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Submit",k.ofArray([l.cls("btn btn-primary")]),h4)]))]))]))]))]));}},hZ));},Sample:$.Field(function(){return s.Build().Id("MessageBoard").FileName("MessageBoard.fs").Keywords(k.ofArray(["text"])).Render(function(){return J.Main();}).RenderDescription(function(){return J.Description();}).Create();}),ShowAction:function(ic){return ic.$==1?"Thread "+ic.$0.Title:ic.$==2?"Show All Threads":"Create New Thread";},ShowThreadPage:function(id,ie){var _if,ig,ik,ip,iq,is,it;_if=h.Create($.New(m,{$:0}));ig=function(){return W.Start(W.Delay(function(){return W.Bind(X.GetPosts(ie),function(ij){h.Set(_if,ij);return W.Return(null);});}),{$:0});};ik=function(il){var im,_in,io;_in=k.ofArray([j.TextNode(il.PostAuthorName)]);io=k.ofArray([j.TextNode(il.Content)]);im=k.ofArray([j.Element("td",[],_in),j.Element("td",[],io)]);return j.Element("tr",[],im);};iq=k.ofArray([j.EmbedView(n.Map(function(ir){return j.Concat(k.map(ik,ir));},n.FromVar(_if)))]);ip=l.divc("panel panel-default",k.ofArray([l.divc("panel-heading",k.ofArray([j.Element("h3",k.ofArray([l.cls("panel-title")]),k.ofArray([j.TextNode("Posts in thread \""+ie.Title+"\"")]))])),l.divc("panel-body",k.ofArray([j.Element("table",k.ofArray([l.cls("table table-hover")]),k.ofArray([j.Element("tbody",[],iq)]))]))]));ig(null);it=id.Auth.LoggedIn;is=k.ofArray([ip,j.EmbedView(n.Map(function(iu){var iv,iw,ix,iC;if(iu.$==1){iv=iu.$0;iw=h.Create("");ix=function(){var iz;iz=O.CreatePost(iv,iw.get_Value());return W.Start(W.Delay(function(){return W.Bind(X.AddPost(ie,iz),function(){ig(null);return W.Return(null);});}),{$:0});};iC=k.ofArray([l.cls("form-horizontal"),r.Create("role","form")]);return l.divc("panel panel-default",k.ofArray([l.divc("panel-heading",k.ofArray([j.Element("h3",k.ofArray([l.cls("panel-title")]),k.ofArray([j.TextNode("New Post")]))])),l.divc("panel-body",k.ofArray([j.Element("form",iC,k.ofArray([l.divc("form-group",k.ofArray([j.Element("label",k.ofArray([r.Create("for","postContent"),l.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Content")])),l.divc("col-sm-10",k.ofArray([j.InputArea(k.ofArray([r.Create("id","postContent"),r.Create("rows","5"),l.cls("form-control"),l.sty("width","100%")]),iw)]))])),l.divc("form-group",k.ofArray([l.divc("col-sm-offset-2 col-sm-10",k.ofArray([j.Button("Submit",k.ofArray([l.cls("btn btn-primary")]),ix)]))]))]))]))]));}else{return j.get_Empty();}},it))]);return j.Element("div",[],is);},ThreadListPage:function(iD){var iE,iL,iO;iE=function(iF){var iG,iH,iI,iJ;iH=k.ofArray([j.TextNode(iF.ThreadAuthorName)]);iJ=function(){return iD.Go.call(null,{$:1,$0:iF});};iI=k.ofArray([j.Link(iF.Title,$.New(m,{$:0}),iJ)]);iG=k.ofArray([j.Element("td",[],iH),j.Element("td",[],iI)]);return j.Element("tr",[],iG);};iL=iD.Threads;W.Start(W.Delay(function(){return W.Bind(X.GetThreads(),function(iN){h.Set(iL,iN);return W.Return(null);});}),{$:0});iO=k.ofArray([j.EmbedView(n.Map(function(iP){return j.Concat(k.map(iE,iP));},n.FromVar(iD.Threads)))]);return j.Element("table",k.ofArray([l.cls("table table-hover")]),k.ofArray([j.Element("tbody",[],iO)]));}},MouseInfo:{Description:function(){var iQ;iQ=k.ofArray([j.TextNode("Shows information about the mouse")]);return j.Element("div",[],iQ);},Main:function(){var iR,iT,iU,iV,iX,iY,iZ,i0,i1,i2,i3,i4,i5,i6,i7,i8,i$,jb,jd,jf,ji;iR=function(iS){return iS[0];};iT=Y.get_Position();iU=n.Map(iR,iT);iV=function(iW){return iW[1];};iX=Y.get_Position();iY=n.Map(iV,iX);iZ=[0,0];i0=Y.get_LeftPressed();i1=Y.get_Position();i2=n.UpdateWhile(iZ,i0,i1);i3=[0,0];i4=Y.get_LeftPressed();i5=Y.get_Position();i6=n.SnapshotOn(i3,i4,i5);i8=k.ofArray([j.TextView(n.Map(function(i9){return"X: "+$$.String(i9);},iU)),j.TextView(n.Map(function(i_){return"Y: "+$$.String(i_);},iY))]);i$=k.ofArray([j.TextView(n.Map(function(ja){return"Left button pressed: "+$$.String(ja);},Y.get_LeftPressed()))]);jb=k.ofArray([j.TextView(n.Map(function(jc){return"Middle button pressed: "+$$.String(jc);},Y.get_MiddlePressed()))]);jd=k.ofArray([j.TextView(n.Map(function(je){return"Right button pressed: "+$$.String(je);},Y.get_RightPressed()))]);jf=k.ofArray([j.TextView(n.Map(function(jg){var jh;jh=jg[1];return"Position on last left click: ("+$$.String(jg[0])+","+$$.String(jh)+")";},i6))]);ji=k.ofArray([j.TextView(n.Map(function(jj){var jk;jk=jj[1];return"Position of mouse while left button held: ("+$$.String(jj[0])+","+$$.String(jk)+")";},i2))]);i7=k.ofArray([j.Element("p",[],i8),j.Element("p",[],i$),j.Element("p",[],jb),j.Element("p",[],jd),j.Element("p",[],jf),j.Element("p",[],ji)]);return j.Element("div",[],i7);},Sample:$.Field(function(){return s.Build().Id("MouseInfo").FileName("MouseInfo.fs").Keywords(k.ofArray(["mouse"])).Render(function(){return M.Main();}).RenderDescription(function(){return M.Description();}).Create();})},ObjectConstancy:{DataSet:$.Class({},{LoadFromCSV:function(jn){return W.FromContinuations(function(jo){var jp;jp=jo[0];Z.get(jn,{},function(jq){return jp(_0.ParseCSV(jq));});return;});},ParseCSV:function(jr){var js,jt,jv,jx,jy;js=R.SplitChars(jr,[13,10],1);jt=S.filter(function(ju){return ju!=="";},js);jv=S.map(function(jw){return{$:0,$0:jw};},_1.array(R.SplitChars(S.get(jt,0),[44],1),{$:1,$0:1},{$:0}));jx=S.sub(jt,1,S.length(jt)-1);jy=S.map(function(jz){return R.SplitChars(jz,[44],1);},jx);return $.New(_0,{Brackets:jv,Population:function(jA){return function(jB){var jC;jC=jB.$0;return S.get(S.get(jy,S.findINdex(function(jD){return S.get(jD,0)===jC;},jy)),1+S.findINdex(function(jE){return q.Equals(jA,jE);},jv))<<0;};},States:S.map(function(jF){return{$:0,$0:S.get(jF,0)};},jy)});},Ratio:function(jG,jH,jI){var jJ;jJ={$:0,$0:"Total"};return+(jG.Population.call(null,jH))(jI)/+(jG.Population.call(null,jJ))(jI);},TopStatesByRatio:function(jK,jL){return _1.array(S.sortBy(function(jM){return-jM[1];},S.map(function(jN){return[jN,_0.Ratio(jK,jL,jN)];},jK.States)),{$:1,$0:0},{$:1,$0:9});}}),Description:function(){var jO;jO=k.ofArray([j.TextNode("This sample show-cases declarative animation and interpolation (tweening)")]);return j.Element("div",[],jO);},Height:$.Field(function(){return 250;}),InOutTransition:$.Field(function(){return g.Exit(function(jP){return L.SimpleAnimation(jP,L.Height());},g.Enter(function(jQ){return L.SimpleAnimation(L.Height(),jQ);},L.SimpleTransition()));}),Main:function(){var jR,jS,jT,jU,jV,jW,j2,j3;jR=L.SetupDataModel();jS=jR[2];jT=jR[0];jU=jR[1];jW=k.ofArray([j.TextNode("Top States by Age Bracket, 2008")]);j2=k.ofArray([j.TextNode("Source: "),l.href("Census Bureau","http://www.census.gov/popest/data/historical/2000s/vintage_2008/")]);j3=k.ofArray([j.TextNode("Original Sample by Mike Bostock: "),l.href("Object Constancy","http://bost.ocks.org/mike/constancy/")]);jV=k.ofArray([j.Element("h2",[],jW),j.EmbedView(n.Map(function(jX){return j.Select(k.ofArray([l.cls("form-control")]),function(jY){return jY.$0;},k.ofArray(_1.array(jX.Brackets,{$:1,$0:1},{$:0})),jU);},jT)),l.divc("skip",$.New(m,{$:0})),j.SvgElement("svg",k.ofArray([r.Create("width",$$.String(L.Width())),r.Create("height",$$.String(L.Height()))]),k.ofArray([j.EmbedView(n.Map(function(jZ){return j.Concat(jZ);},n.ConvertSeqBy(function(j0){return j0.State;},function(j1){return L.Render(j1);},jS)))])),j.Element("p",[],j2),j.Element("p",[],j3)]);return j.Element("div",[],jV);},Percent:function(j4){return $$.String(_2.floor(100*j4))+"."+$$.String((_2.floor(1000*j4)<<0)%10)+"%";},Render:function(j5){var j6,j$,kb,kd,kf;j6=function(j7,j8,j9){return o.Animated(j7,j8,n.Map(j9,j5),function(j_){return $$.String(j_);});};j$=function(ka){return L.Width()*ka.Value/ka.MaxValue;};kb=function(kc){return L.Height()*+kc.Position/+kc.Total;};kd=function(ke){return L.Height()/+ke.Total-2;};kf=function(kg){return function(kh){return j.SvgElement("text",kh,k.ofArray([j.TextView(n.Map(kg,j5))]));};};return j.Concat(k.ofArray([j.SvgElement("g",k.ofArray([o.Style("fill","steelblue")]),k.ofArray([j.SvgElement("rect",k.ofArray([r.Create("x","0"),j6("y",L.InOutTransition(),kb),j6("width",L.SimpleTransition(),j$),j6("height",L.SimpleTransition(),kd)]),$.New(m,{$:0}))])),(kf(function(ki){return L.Percent(ki.Value);}))(k.ofArray([r.Create("text-anchor","end"),j6("x",L.SimpleTransition(),j$),j6("y",L.InOutTransition(),kb),r.Create("dx","-2"),r.Create("dy","14"),l.sty("fill","white"),l.sty("font","12px sans-serif")])),(kf(function(kj){return kj.State;}))(k.ofArray([r.Create("x","0"),j6("y",L.InOutTransition(),kb),r.Create("dx","2"),r.Create("dy","16"),l.sty("fill","white"),l.sty("font","14px sans-serif"),l.sty("font-weight","bold")]))]));},Sample:$.Field(function(){return s.Build().Id("ObjectConstancy").FileName("ObjectConstancy.fs").Keywords(k.ofArray(["animation"])).Render(function(){return L.Main();}).RenderDescription(function(){return L.Description();}).Create();}),SetupDataModel:function(){var km,kn,kp;km=p.Const(null);kn=n.MapAsync(function(){return _0.LoadFromCSV("ObjectConstancy.csv");},km);kp=h.Create({$:0,$0:"Under 5 Years"});return[kn,kp,n.Map(function(kq){var kr,ks;kr=S.length(kq);ks=S.max(S.map(function(kt){return kt[1];},kq));return S.mapi(function(ku){return function(kv){return{MaxValue:ks,Position:ku,State:kv[0].$0,Total:kr,Value:kv[1]};};},kq);},n.Map2(function(kw){return function(kx){return _0.TopStatesByRatio(kw,kx);};},kn,kp.get_View()))];},SimpleAnimation:function(ky,kz){return f.Simple(c.get_Double(),d.get_CubicInOut(),300,ky,kz);},SimpleTransition:$.Field(function(){return g.Create(function(kA){return function(kB){return L.SimpleAnimation(kA,kB);};});}),Width:$.Field(function(){return 960;})},PhoneExample:{Description:function(){var kC;kC=k.ofArray([j.TextNode("Taken from the "),l.href("AngularJS Tutorial","https://docs.angularjs.org/tutorial/"),j.TextNode(", a list filtering and sorting application for phones.")]);return j.Element("div",[],kC);},Main:function(){var kD;kD=function(kE,kF,kG){return $.New(_3,{Name:kE,Snippet:kF,Age:kG});};return G.PhonesWidget(k.ofArray([kD("Nexus S","Fast just got faster with Nexus S.",1),kD("Motorola XOOM","The Next, Next generation tablet",2),kD("Motorola XOOM with Wi-Fi","The Next, Next generation tablet",3),kD("Samsung Galaxy","The Ultimate Phone",4)]));},Order:$.Class({},{Show:function(kH){return kH.$==1?"Newest":"Alphabetical";}}),Phone:$.Class({},{Compare:function(kI,kJ,kK){return kI.$==1?_4.Compare(kJ.Age,kK.Age):_4.Compare(kJ.Name,kK.Name);},MatchesQuery:function(kL,kM){return kM.Name.indexOf(kL)!=-1?true:kM.Snippet.indexOf(kL)!=-1;}}),PhonesWidget:function(kN){var kO,kP,kQ,kR,kX,kY,kZ,k0,k5,k8;kO=h.Create(kN);kP=h.Create("");kQ=h.Create($.New(_5,{$:1}));kR=function(kS){return function(kT){return k.sortWith(function(kU){return function(kV){return _3.Compare(kT,kU,kV);};},k.filter(function(kW){return _3.MatchesQuery(kS,kW);},kN));};};kX=n.FromVar(kP);kY=n.FromVar(kQ);kZ=n.Map2(kR,kX,kY);k0=function(k1){var k2,k3,k4;k3=k.ofArray([j.TextNode(k1.Name)]);k4=k.ofArray([j.TextNode(k1.Snippet)]);k2=k.ofArray([j.Element("span",[],k3),j.Element("p",[],k4)]);return j.Element("li",[],k2);};k5=function(k6){return j.Concat(k.map(k0,k6));};k8=k.ofArray([j.EmbedView(n.Map(k5,kZ))]);return l.divc("row",k.ofArray([l.divc("col-sm-6",k.ofArray([j.TextNode("Search: "),j.Input(k.ofArray([r.Create("class","form-control")]),kP),j.TextNode("Sort by: "),j.Select(k.ofArray([r.Create("class","form-control")]),function(k7){return _5.Show(k7);},k.ofArray([$.New(_5,{$:1}),$.New(_5,{$:0})]),kQ)])),l.divc("col-sm-6",k.ofArray([j.Element("ul",[],k8)]))]));},Sample:$.Field(function(){return s.Build().Id("PhoneExample").FileName("PhoneExample.fs").Keywords(k.ofArray(["todo"])).Render(function(){return G.Main();}).RenderDescription(function(){return G.Description();}).Create();})},RoutedBobsleighSite:{Main:function(k$){var la,lb,ld;la=w.NavBar(k$);lb=function(lc){return j.Append(la,lc);};ld={Go:function(le){return h.Set(k$,le);}};return j.EmbedView(n.Map(function(lf){return lf.$==1?lb(w.History(ld)):lf.$==2?lb(w.Governance(ld)):lf.$==3?lb(w.Team(ld)):lb(w.HomePage(ld));},n.FromVar(k$)));},Sample:$.Field(function(){return s.Routed(K.TheRouteMap(),{$:0}).Id("RoutedBobsleighSite").FileName("RoutedBobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(lg){return K.Main(lg);}).RenderDescription(function(lh){return K.description(lh);}).Create();}),TheRouteMap:$.Field(function(){return _6.Create(function(li){return li.$==1?k.ofArray(["history"]):li.$==2?k.ofArray(["governance"]):li.$==3?k.ofArray(["team"]):$.New(m,{$:0});},function(lj){return lj.$==1?lj.$0==="history"?lj.$1.$==0?{$:1}:{$:0}:lj.$0==="governance"?lj.$1.$==0?{$:2}:{$:0}:lj.$0==="team"?lj.$1.$==0?{$:3}:{$:0}:{$:0}:{$:0};});}),description:function(){var ll;ll=k.ofArray([j.TextNode("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications. Routed using the URL.")]);return j.Element("div",[],ll);}},Samples:{Build:function(){return _7.New(function(lm){return function(ln){return s.CreateSimple(lm,ln);};});},Builder:$.Class({Create:function(){return(this.create.call(null,this.vis))(this.meta);},FileName:function(lo){var lp;lp=this.meta;this.meta={FileName:lo,Keywords:lp.Keywords,Title:lp.Title,Uri:lp.Uri};return this;},Id:function(lq){var lr;lr=this.meta;this.meta={FileName:lr.FileName,Keywords:lr.Keywords,Title:lq,Uri:lq};return this;},Keywords:function(ls){var lt;lt=this.meta;this.meta={FileName:lt.FileName,Keywords:ls,Title:lt.Title,Uri:lt.Uri};return this;},Render:function(lu){this.vis={Desc:this.vis.Desc,Main:function(lv){return lu(lv);}};return this;},RenderDescription:function(lw){this.vis={Desc:function(lx){return lw(lx);},Main:this.vis.Main};return this;},Title:function(ly){var lz;lz=this.meta;this.meta={FileName:lz.FileName,Keywords:lz.Keywords,Title:ly,Uri:lz.Uri};return this;},Uri:function(lA){var lB;lB=this.meta;this.meta={FileName:lB.FileName,Keywords:lB.Keywords,Title:lB.Title,Uri:lA};return this;}},{New:function(lC){var lD;lD=$.New(this,{});lD.create=lC;lD.meta={FileName:"Unknown.fs",Keywords:$.New(m,{$:0}),Title:"Unknown",Uri:"unknown"};lD.vis={Desc:function(){return j.get_Empty();},Main:function(){return j.get_Empty();}};return lD;}}),CreateRouted:function(lG,lH,lI,lJ){var lK;lK={Body:j.get_Empty(),Description:j.get_Empty(),Meta:lJ,Router:undefined,RouteId:undefined,SamplePage:undefined};lK.Router=_8.Prefix(lJ.Uri,_8.Route(lG,lH,function(lL){return function(lM){var lN;lK.RouteId=lL;lK.Body=lI.Main.call(null,lM);lK.Description=lI.Desc.call(null,lM);lN=_9.mkPage(lK.Meta.Title,lL,{$:2});lN.PageSample={$:1,$0:lK};lN.PageRouteId=lL;lK.SamplePage=lN;return lN;};}));return lK;},CreateSimple:function(lO,lP){var lQ,lT;lQ=_6.Create(function(){return $.New(m,{$:0});},function(){return null;});lT={Body:lO.Main.call(null,null),Description:lO.Desc.call(null,null),Meta:lP,Router:undefined,RouteId:undefined,SamplePage:undefined};lT.Router=_8.Prefix(lP.Uri,_8.Route(lQ,null,function(lU){return function(){var lW;lW=_9.mkPage(lT.Meta.Title,lU,{$:2});lT.RouteId=lU;lW.PageSample={$:1,$0:lT};lW.PageRouteId=lU;lT.SamplePage=lW;return lW;};}));return lT;},InitialSamplePage:function(lX){return k.head(lX).SamplePage;},Render:function(lY,lZ,l0){var l1,l2;l1=lZ.PageSample;l2=l1.$==0?_4.FailWith("Attempted to render non-sample on samples page"):l1.$0;return j.Element("section",k.ofArray([l.cls("block-small")]),k.ofArray([l.divc("container",k.ofArray([l.divc("row",k.ofArray([s.Sidebar(lY,l0),s.RenderContent(l2)]))]))]));},RenderContent:function(l3){var l4,l5,l6,l7,l8,l9;l5=k.ofArray([j.TextNode(l3.Meta.Title)]);l7=k.ofArray([l3.Description]);l8=k.ofArray([j.Element("a",k.ofArray([r.Create("href","https://github.com/intellifactory/websharper.ui.next.samples/blob/master/src/"+l3.Meta.Uri+".fs")]),k.ofArray([j.TextNode("View Source")]))]);l6=k.ofArray([j.Element("p",[],l7),j.Element("p",[],l8)]);l9=k.ofArray([l3.Body]);l4=k.ofArray([l.divc("row",k.ofArray([j.Element("h1",[],l5),j.Element("div",[],l6)])),l.divc("row",k.ofArray([j.Element("p",[],l9)]))]);return l.divc("samples col-md-9",k.ofArray([j.Element("div",[],l4)]));},Routed:function(l_,l$){return _7.New(function(ma){return function(mb){return s.CreateRouted(l_,l$,ma,mb);};});},SamplesRouter:function(mc){return _8.Prefix("samples",_8.Merge(A.toList(A.delay(function(){return A.map(function(me){return me.Router;},mc);}))));},Sidebar:function(mf,mg){var mh,mp;mh=function(mi){var mj,mn;mj=o.DynamicClass("active",n.Map(function(mk){return mk.PageSample;},n.FromVar(mf)),function(ml){return _.exists(function(mm){return mi.Meta.FileName===mm.Meta.FileName;},ml);});mn=function(){return h.Set(mf,mi.SamplePage);};return j.Link(mi.Meta.Title,k.ofArray([l.cls("list-group-item"),mj]),mn);};mp=k.ofArray([j.TextNode("Samples")]);return l.divc("col-md-3",k.ofArray([j.Element("h4",[],mp),j.Concat(k.map(mh,mg))]));}},Server:{AddPost:function(mq,mr){return W.Delay(function(){var mt,mu,mv,mw,mx,my,mz;mt=bb.TryFind(mq.ThreadId,X.posts());if(mt.$==0){mu=mq.ThreadId;mv=k.ofArray([mr]);mw=X.posts().Add(mu,mv);X.posts=function(){return mw;};return W.Return(null);}else{mx=mq.ThreadId;my=k.append(mt.$0,k.ofArray([mr]));mz=X.posts().Add(mx,my);X.posts=function(){return mz;};return W.Return(null);}});},AddThread:function(mA){return W.Delay(function(){var mC,mD,mE,mF;mC=k.append(X.threads(),k.ofArray([mA]));X.threads=function(){return mC;};mD=mA.ThreadId;mE=$.New(m,{$:0});mF=X.posts().Add(mD,mE);X.posts=function(){return mF;};return W.Return(null);});},CheckCredentials:function(mG,mH){var mI;mI=[mG,mH];return mI[0]==="TestUser"?mI[1]==="TestPass"?{$:1,$0:{Name:mG,Password:mH}}:{$:0}:{$:0};},CheckLogin:function(mJ,mK){return W.Delay(function(){return W.Bind(W.Sleep(X.DELAY()),function(){return W.Return(X.CheckCredentials(mJ,mK));});});},DELAY:$.Field(function(){return 200;}),GetPosts:function(mN){return W.Delay(function(){var mP;mP=bb.TryFind(mN.ThreadId,X.posts());return mP.$==0?W.Return($.New(m,{$:0})):W.Return(mP.$0);});},GetThreads:function(){return W.Delay(function(){return W.Bind(W.Sleep(X.DELAY()),function(){return W.Return(X.threads());});});},posts:$.Field(function(){return bc.New1([]);}),threads:$.Field(function(){return $.New(m,{$:0});})},SimpleTextBox:{Description:function(){var mS;mS=k.ofArray([j.TextNode("A label which copies the contents of a text box.")]);return j.Element("div",[],mS);},Main:function(){var mT,mU,mV,mW,mX;mT=h.Create("");mU=j.Input(k.ofArray([r.Create("class","form-control")]),mT);mV=j.TextView(mT.get_View());mW=k.ofArray([mU]);mX=k.ofArray([mV]);return l.divc("panel-default",k.ofArray([l.divc("panel-body",k.ofArray([j.Element("div",[],mW),j.Element("div",[],mX)]))]));},Sample:$.Field(function(){return s.Build().Id("SimpleTextBox").FileName("SimpleTextBox.fs").Keywords(k.ofArray(["text"])).Render(function(){return D.Main();}).RenderDescription(function(){return D.Description();}).Create();})},Site:{AboutPage:function(m0){var m1,m7,m_,nb,nd,ne,nf,ng,nh,ni,nj,nk;m1=function(m2){var m3,m4;m3=k.ofArray([j.TextNode(m2.Name)]);m4=k.ofArray([j.Element("ul",k.ofArray([l.cls("list-unstyled")]),k.map(function(m5){var m6;m6=k.ofArray([m5]);return j.Element("li",[],m6);},m2.URLs))]);return j.Concat(k.ofArray([j.Element("h1",[],m3),j.Element("p",k.ofArray([l.cls("lead")]),k.ofArray([j.TextNode(m2.Description)])),j.Element("p",[],m4)]));};m7=function(m8){var m9;m9=k.ofArray([l.cls("block-large")]);return j.Element("section",m9,k.ofArray([l.divc("container",k.ofArray([l.divc("row",k.ofArray([l.divc("col-lg-3",k.ofArray([j.Element("img",k.ofArray([r.Create("src",m8.ImgURL),l.sty("width","100%")]),$.New(m,{$:0}))])),l.divc("col-lg-1",$.New(m,{$:0})),l.divc("col-lg-8",k.ofArray([m1(m8)]))]))]))]));};m_=function(m$){var na;na=k.ofArray([l.cls("block-large"),l.cls("bg-alt")]);return j.Element("section",na,k.ofArray([l.divc("container",k.ofArray([l.divc("row",k.ofArray([l.divc("col-lg-8",k.ofArray([m1(m$)])),l.divc("col-lg-1",$.New(m,{$:0})),l.divc("col-lg-3",k.ofArray([j.Element("img",k.ofArray([r.Create("src",m$.ImgURL),l.sty("width","100%")]),$.New(m,{$:0}))]))]))]))]));};nb=function(nc){return j.Element("span",k.ofArray([l.cls("fa"),l.cls(nc),l.cls("fa-3x"),l.sty("font-size","400%"),l.sty("color","#aaa")]),$.New(m,{$:0}));};nd=k.ofArray([j.TextNode("WebSharper UI.Next: "),j.Element("span",k.ofArray([l.cls("text-muted")]),k.ofArray([j.TextNode("Everything you need to know.")]))]);ne=k.ofArray([j.TextNode("Get Started")]);nf=k.ofArray([j.TextNode("Take the tutorial, and you'll be writing reactive applications in no time!")]);ng=k.ofArray([j.TextNode("Dive Right In")]);nh=k.ofArray([j.TextNode("Comprehensive documentation on the UI.Next API.")]);ni=k.ofArray([j.TextNode("See it in Action")]);nj=k.ofArray([j.TextNode("A variety of samples using UI.Next, and their associated source code!")]);nk=function(){return m0({$:2});};return l.divc("extensions",k.ofArray([l.divc("container",k.ofArray([j.Element("section",k.ofArray([l.cls("block-huge")]),k.ofArray([j.Element("h1",[],nd),j.Element("p",k.ofArray([l.cls("lead")]),k.ofArray([j.TextNode("A selection of resources about UI.Next.")]))]))])),l.divc("block-large bg-alt",k.ofArray([l.divc("container",k.ofArray([l.divc("row text-center",k.ofArray([l.divc("col-lg-4",k.ofArray([nb("fa-graduation-cap"),j.Element("h3",[],ne),j.Element("p",[],nf),C.linkBtn("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md")])),l.divc("col-lg-4",k.ofArray([nb("fa-book"),j.Element("h3",[],ng),j.Element("p",[],nh),C.linkBtn("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md")])),l.divc("col-lg-4",k.ofArray([nb("fa-send"),j.Element("h3",[],ni),j.Element("p",[],nj),j.Button("Samples",k.ofArray([l.cls("btn"),l.cls("btn-default")]),nk)]))]))]))])),j.Concat(k.mapi(function(nm){return function(nn){return(nm%2===0?m7:m_)(nn);};},C.Entries()))]));},Entries:$.Field(function(){return k.ofArray([C.mkEntry("Documentation","Official documentation on WebSharper UI.Next, including the API reference and some discussion about the design decisions we made","files/gear.png",k.ofArray([l.href("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md"),l.href("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"),l.href("Full Documentation","https://github.com/intellifactory/websharper.ui.next/blob/master/README.md")])),C.mkEntry("Articles","Articles written about UI.Next, which provide more detailed discussions about various aspects of the library.","files/uinext-screen.png",k.ofArray([l.href("WebSharper UI.Next: An Introduction","http://www.websharper.com/blog-entry/3954"),l.href("WebSharper UI.Next: Declarative Animation","http://www.websharper.com/blog-entry/3964"),l.href("Structuring Applications with WebSharper UI.Next","http://www.websharper.com/blog-entry/3965")])),C.mkEntry("Presentations","Presentations about UI.Next, providing an overview of the library and deeper insights into the thinking behind it.","files/anton-pres.png",k.ofArray([l.href("Presentation: Tackle UI with Reactive DOM in F# and WebSharper","https://www.youtube.com/watch?v=wEkS09s3KBc")]))]);}),Fade:$.Field(function(){var no,np,nq;no=c.get_Double();np=d.get_CubicInOut();nq=C.fadeTime();return function(nr){return function(ns){return f.Simple(no,np,nq,nr,ns);};};}),FadeTransition:$.Field(function(){return g.Exit(function(){return((C.Fade())(1))(0);},g.Enter(function(){return((C.Fade())(0))(1);},g.Create(C.Fade())));}),HomePage:function(){var nw,nx,ny,nz,nA;nw=k.ofArray([l.cls("block-huge"),l.cls("teaser-home"),l.sty("height","700px"),l.sty("padding-top","40px"),l.sty("padding-bottom","30px"),l.sty("margin-bottom","40px")]);nx=$.New(m,{$:0});ny=k.ofArray([j.TextNode("WebSharper UI.Next: "),j.Element("span",k.ofArray([l.cls("text-muted")]),k.ofArray([j.TextNode("A new generation of reactive web applications.")]))]);nA=$.New(m,{$:0});nz=k.ofArray([j.TextNode("Write powerful, data-backed applications"),j.Element("br",[],nA),j.TextNode(" using F# and WebSharper.")]);return l.divc("container",k.ofArray([j.Element("section",nw,k.ofArray([l.divc("container",k.ofArray([l.divc("row",k.ofArray([l.divc("col-12",k.ofArray([j.Element("br",[],nx),j.Element("h1",[],ny),j.Element("h3",[],nz),j.Element("p",k.ofArray([l.cls("lead")]),k.ofArray([j.TextNode("Get it free on NuGet today!")]))]))]))]))]))]));},Main:function(nB){var nC,nE,nF;nC=function(nD){return nD.PageRouteId;};nE=C.SiteRouter(nB);nF=_8.Install(nC,nE);j.RunById("main",j.EmbedView(n.Map(function(nG){var nH;nH=nG.PageType;return nH.$==1?C.AboutPage(function(nI){return h.Set(nF,C.pageFor(nI,nB));}):nH.$==2?s.Render(nF,nG,nB):C.HomePage(function(nJ){return h.Set(nF,C.pageFor(nJ,nB));});},n.FromVar(nF))));return j.RunById("navigation",C.NavBar(nF,nB));},MakePage:function(nK){return j.Element("div",k.ofArray([o.AnimatedStyle("opacity",C.FadeTransition(),p.Const(1),function(nL){return $$.String(nL);})]),k.ofArray([nK]));},NavBar:function(nM,nN){var nO,nV,nZ,n0,n1;nO=function(nP){var nQ;nQ=n.FromVar(nM);return j.EmbedView(n.Map(function(nR){var nS,nT;nS=q.Equals(nR.PageType,nP)?l.cls("active"):r.get_Empty();nT=function(){return h.Set(nM,C.pageFor(nP,nN));};return j.Element("li",k.ofArray([l.cls("nav-item"),nS]),k.ofArray([j.Link(C.showPgTy(nP),$.New(m,{$:0}),nT)]));},nQ));};nV=function(nW){var nX,nY;nX=nW[0];nY=nW[1];return j.Element("li",k.ofArray([l.cls("nav-item")]),k.ofArray([l.href(nX,nY)]));};nZ=k.ofArray([l.cls("container")]);n0=k.ofArray([l.sty("float","left")]);n1=k.ofArray([r.Create("href","http://www.websharper.com/home"),l.sty("text-decoration","none"),l.cls("first")]);return j.Element("nav",nZ,k.ofArray([j.Element("div",n0,k.ofArray([j.Element("a",n1,k.ofArray([j.Element("img",k.ofArray([r.Create("src","files/logo-websharper-icon.png"),r.Create("alt","[logo]"),l.sty("margin-top","0"),l.sty("border-right","1px"),l.sty("solid","#eee")]),$.New(m,{$:0})),j.Element("img",k.ofArray([r.Create("src","files/logo-websharper-text-dark.png"),r.Create("alt","WebSharper"),l.sty("height","32px")]),$.New(m,{$:0}))]))])),j.Element("nav",k.ofArray([l.cls("nav"),l.cls("nav-collapsible"),l.cls("right"),l.sty("float","right")]),k.ofArray([j.Element("ul",k.ofArray([l.cls("nav-list")]),k.ofArray([j.Concat(k.map(nO,C.NavPages())),j.Concat(k.map(nV,C.NavExternalLinks()))]))]))]));},NavExternalLinks:$.Field(function(){return k.ofArray([["GitHub","http://www.github.com/IntelliFactory/websharper.ui.next"],["API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"]]);}),NavPages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2}]);}),SiteRouter:function(n2){return _8.Merge(k.ofArray([_8.Prefix("home",C.homeRouter(n2)),_8.Prefix("about",C.aboutRouter(n2)),_8.Prefix("samples",s.SamplesRouter(n2))]));},aboutPage:$.Field(function(){return _9.mkPage(C.showPgTy({$:1}),undefined,{$:1});}),aboutRouter:function(n3){var n4;n4=function(n5){return function(){var n7;n7=C.pageFor({$:1},n3);n7.PageRouteId=n5;return n7;};};return _8.Route(C.unitRouteMap(),null,n4);},fadeTime:$.Field(function(){return 300;}),homePage:$.Field(function(){return _9.mkPage(C.showPgTy({$:0}),undefined,{$:0});}),homeRouter:function(n8){var n9;n9=function(n_){return function(){var oa;oa=C.pageFor({$:0},n8);oa.PageRouteId=n_;return oa;};};return _8.Route(C.unitRouteMap(),null,n9);},linkBtn:function(ob,oc){return j.Element("a",k.ofArray([l.cls("btn"),l.cls("btn-default"),r.Create("href",oc)]),k.ofArray([j.TextNode(ob)]));},mkEntry:function(od,oe,of,og){return{Name:od,ImgURL:of,Description:oe,URLs:og};},pageFor:function(oh,oi){return oh.$==1?C.aboutPage():oh.$==2?s.InitialSamplePage(oi):C.homePage();},showPgTy:function(oj){return oj.$==1?"About":oj.$==2?"Samples":"Home";},unitRouteMap:$.Field(function(){return _6.Create(function(){return $.New(m,{$:0});},function(){return null;});})},SiteCommon:{mkPage:function(om,on,oo){return{PageName:om,PageRouteId:on,PageType:oo,PageSample:{$:0}};}},SortableBarChart:{BarTransition:$.Field(function(){return g.Enter(function(op){return bd.SimpleAnimation(0,op);},bd.SimpleTransition());}),DelayedAnimation:function(oq,or,os){return f.Delayed(c.get_Double(),d.get_CubicInOut(),300,oq,or,os);},Description:function(){var ot;ot=k.ofArray([j.TextNode("This sample show-cases animation and data display.")]);return j.Element("div",[],ot);},DisplayGraph:function(ou){var ov;ov=k.ofArray([j.SvgElement("svg",k.ofArray([r.Create("width",$$.String(bd.Width())),r.Create("height",$$.String(bd.Height()))]),k.ofArray([j.EmbedView(n.Map(function(ow){return j.Concat(ow);},n.ConvertSeqBy(function(ox){return ox.Label;},function(oy){return bd.Render(oy);},ou)))]))]);return j.Element("div",[],ov);},Height:$.Field(function(){return 500;}),LoadData:$.Field(function(){return n.MapAsync(function(){return bd.LoadFromCSV("AlphaFrequency.csv");},p.Const(null));}),LoadFromCSV:function(oA){return W.FromContinuations(function(oB){var oC;oC=oB[0];Z.get(oA,{},function(oD){return oC(bd.ParseCSV(oD));});return;});},Main:function(){var oE,oF,oJ;oE=h.Create({$:0});oF=n.Map2(function(oG){return function(oH){return bd.ViewData(oG,oH);};},n.Map(function(oI){return k.ofSeq(oI);},bd.LoadData()),oE.get_View());oJ=k.ofArray([j.Select($.New(m,{$:0}),function(oK){return bd.ShowOrdering(oK);},k.ofArray([{$:0},{$:1}]),oE),bd.DisplayGraph(oF)]);return j.Element("div",[],oJ);},ParseCSV:function(oL){return S.map(function(oM){return bd.mkEntry(R.SplitChars(oM,[44],1));},_1.array(S.filter(function(oN){return oN!=="";},R.SplitChars(oL,[13,10],1)),{$:1,$0:1},{$:0}));},Render:function(oO){var oP,oT,oV,oX,oZ;oP=function(oQ,oR){return o.Dynamic(oQ,n.Map(function(oS){return $$.String(oR(oS));},oO));};oT=function(oU){return bd.Width()/+oU.NumData-bd.Spacing();};oV=function(oW){return oW.Value/oW.MaxValue*bd.Height();};oX=function(oY){return(oT(oY)+bd.Spacing())*+oY.Rank;};oZ=function(o0){return bd.Height()-oV(o0);};return j.SvgElement("g",k.ofArray([o.Style("fill","steelblue")]),k.ofArray([j.SvgElement("rect",k.ofArray([oP("width",oT),oP("height",oV),o.Animated("x",bd.BarTransition(),n.Map(oX,oO),function(o1){return $$.String(o1);}),oP("y",oZ)]),$.New(m,{$:0}))]));},Sample:$.Field(function(){return s.Build().Id("SortableBarChart").FileName("SortableBarChart.fs").Keywords(k.ofArray(["animation"])).Render(function(){return bd.Main();}).RenderDescription(function(){return bd.Description();}).Create();}),ShowOrdering:function(o4){return o4.$==1?"By Frequency":"By Letter";},SimpleAnimation:function(o5,o6){return bd.DelayedAnimation(0,o5,o6);},SimpleTransition:$.Field(function(){return g.Create(function(o7){return function(o8){return bd.SimpleAnimation(o7,o8);};});}),Spacing:$.Field(function(){return 2;}),ViewData:function(o9,o_){var o$,pa;o$=A.length(o9);pa=A.fold(function(pb){return function(pc){return pc.DataValue>pb?pc.DataValue:pb;};},0,o9);return k.mapi(function(pd){return function(pe){return{Label:pe.DataLabel,Value:pe.DataValue,Rank:pd,MaxValue:pa,NumData:o$};};},k.sortWith(o_.$==1?function(pf){return function(pg){return pg.DataValue<pf.DataValue?-1:pf.DataValue===pg.DataValue?0:1;};}:function(ph){return function(pi){return q.Compare(ph.DataLabel,pi.DataLabel);};},k.ofSeq(o9)));},Width:$.Field(function(){return 720;}),mkEntry:function(pj){return{DataLabel:S.get(pj,0),DataValue:be(S.get(pj,1))};}},TodoList:{CreateModel:function(){return{Items:bf.Create(function(pk){return pk.Key;},$.New(m,{$:0}))};},Description:function(){var pl;pl=k.ofArray([j.TextNode("A to-do list application.")]);return j.Element("div",[],pl);},Main:function(){return F.TodoExample();},RenderItem:function(pm,pn){var po,pp,ps,pu;pp=k.ofArray([j.EmbedView(n.Map(function(pq){var pr;if(pq){pr=k.ofArray([j.TextNode(pn.TodoText)]);return j.Element("del",[],pr);}else{return j.TextNode(pn.TodoText);}},n.FromVar(pn.Done)))]);ps=k.ofArray([bg.button("Done",function(){return h.Set(pn.Done,true);})]);pu=k.ofArray([bg.button("Remove",function(){return pm.Items.Remove(pn);})]);po=k.ofArray([j.Element("td",[],pp),j.Element("td",[],ps),j.Element("td",[],pu)]);return j.Element("tr",[],po);},Sample:$.Field(function(){return s.Build().Id("TodoList").FileName("TodoList.fs").Keywords(k.ofArray(["todo"])).Render(function(){return F.Main();}).RenderDescription(function(){return F.Description();}).Create();}),TodoExample:function(){var py,pz;py=F.CreateModel();pz=k.ofArray([F.TodoList(py),F.TodoForm(py)]);return j.Element("table",k.ofArray([r.Create("class","table table-hover")]),k.ofArray([j.Element("tbody",[],pz)]));},TodoForm:function(pA){var pB,pC,pD;pB=h.Create("");pD=k.ofArray([j.TextNode("New entry: ")]);pC=k.ofArray([l.divc("form-group",k.ofArray([j.Element("label",[],pD),bg.input(pB)])),bg.button("Submit",function(){return pA.Items.Add(bh.Create(h.Get(pB)));})]);return j.Element("form",[],pC);},TodoItem:$.Class({},{Create:function(pF){var pG;pG=bi.Fresh();return $.New(bh,{Done:h.Create(false),Key:pG,TodoText:pF});}}),TodoList:function(pH){return j.ConvertBy(function(pI){return pI.Key;},function(pJ){return F.RenderItem(pH,pJ);},bf.View(pH.Items));},Util:{button:function(pK,pL){return j.Button(pK,k.ofArray([r.Create("class","btn btn-default")]),pL);},input:function(pM){return j.Input(k.ofArray([r.Create("class","form-control")]),pM);}}},Utilities:{cls:function(pN){return o.Class(pN);},divc:function(pO,pP){return j.Element("div",k.ofArray([l.cls(pO)]),pP);},href:function(pQ,pR){return j.Element("a",k.ofArray([r.Create("href",pR)]),k.ofArray([j.TextNode(pQ)]));},sty:function(pS,pT){return o.Style(pS,pT);}}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.UI);b=$.Safe(a.Next);c=$.Safe(b.Interpolation1);d=$.Safe(b.Easing);e=$.Safe(b.AnimatedBobsleighSite);f=$.Safe(b.An);g=$.Safe(b.Trans1);h=$.Safe(b.Var);i=$.Safe(b.Client);j=$.Safe(i.Doc);k=$.Safe($$.WebSharper.List);l=$.Safe(b.Utilities);m=$.Safe(k.T);n=$.Safe(b.View);o=$.Safe(i.Attr);p=$.Safe(b.View1);q=$.Safe($$.WebSharper.Unchecked);r=$.Safe(i.AttrProxy);s=$.Safe(b.Samples);t=$.Safe(b.AnimatedContactFlow);u=$.Safe(b.Flow);v=$.Safe(b.Flow1);w=$.Safe(b.BobsleighSite);x=$.Safe(b.Calculator);y=$.Safe(b.Var1);z=$.Safe(b.CheckBoxTest);A=$.Safe($$.WebSharper.Seq);B=$.Safe(z.Person);C=$.Safe(b.Site);D=$.Safe(b.SimpleTextBox);E=$.Safe(b.InputTransform);F=$.Safe(b.TodoList);G=$.Safe(b.PhoneExample);H=$.Safe(b.EditablePersonList);I=$.Safe(b.ContactFlow);J=$.Safe(b.MessageBoard);K=$.Safe(b.RoutedBobsleighSite);L=$.Safe(b.ObjectConstancy);M=$.Safe(b.MouseInfo);N=$.Safe(b.KeyboardInfo);O=$.Safe(b.Common);P=$.Safe(O.Fresh);Q=$.Safe($$.String);R=$.Safe($$.WebSharper.Strings);S=$.Safe($$.WebSharper.Arrays);T=$.Safe(b.Input);U=$.Safe(T.Keyboard);V=$.Safe(J.Auth);W=$.Safe($$.WebSharper.Concurrency);X=$.Safe(b.Server);Y=$.Safe(T.Mouse);Z=$.Safe($$.jQuery);_0=$.Safe(L.DataSet);_1=$.Safe($$.WebSharper.Slice);_2=$.Safe($$.Math);_3=$.Safe(G.Phone);_4=$.Safe($$.WebSharper.Operators);_5=$.Safe(G.Order);_6=$.Safe(b.RouteMap);_7=$.Safe(s.Builder);_8=$.Safe(b.Router1);_9=$.Safe(b.SiteCommon);_=$.Safe($$.WebSharper.Option);ba=$.Safe($$.WebSharper.Collections);bb=$.Safe(ba.MapModule);bc=$.Safe(ba.FSharpMap);bd=$.Safe(b.SortableBarChart);be=$.Safe($$.parseFloat);bf=$.Safe(b.ListModel1);bg=$.Safe(F.Util);bh=$.Safe(F.TodoItem);return bi=$.Safe(b.Key);});$.OnLoad(function(){F.Sample();bd.Width();bd.Spacing();bd.SimpleTransition();bd.Sample();bd.LoadData();bd.Height();bd.BarTransition();C.unitRouteMap();C.homePage();C.fadeTime();C.aboutPage();C.NavPages();C.NavExternalLinks();C.FadeTransition();C.Fade();C.Entries();D.Sample();X.threads();X.posts();X.DELAY();K.TheRouteMap();K.Sample();G.Sample();L.Width();L.SimpleTransition();L.Sample();L.InOutTransition();L.Height();M.Sample();J.Sample();N.keys();N.Sample();E.Sample();H.peopleList();H.peopleBoxes();H.memberList();H.Sample();I.personFlowlet();I.contactTypeFlowlet();I.Sample();P.i();i.Main();z.Sample();z.People();x.initCalc();x.Sample();w.pages();w.Sample();t.swipeTime();t.personFlowlet();t.fadeTime();t.contactTypeFlowlet();t.SwipeTransition();t.Swipe();t.Sample();t.FadeTransition();t.Fade();e.pages();e.fadeTime();e.Sample();e.FadeTransition();e.Fade();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
